<!DOCTYPE html>
<!-- Created with https://studio.penguinmod.com/PenguinMod-Packager/ -->
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <!-- We only include this to explicitly loosen the CSP of various packager environments. It does not provide any security. -->
  <meta http-equiv="Content-Security-Policy" content="default-src * 'self' 'unsafe-inline' 'unsafe-eval' data: blob:">
  <title>robots</title>
  <style>
    body {
      color: #ffffff;
      font-family: sans-serif;
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
    :root, body.is-fullscreen {
      background-color: #000000;
    }
    [hidden] {
      display: none !important;
    }
    h1 {
      font-weight: normal;
    }
    a {
      color: inherit;
      text-decoration: underline;
      cursor: pointer;
    }

    #app, #loading, #error, #launch {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    .screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      cursor: default;
      user-select: none;
      -webkit-user-select: none;
      background-color: #000000;
    }
    #launch {
      background-color: rgba(0, 0, 0, 0.7);
      cursor: pointer;
    }
    .green-flag {
      width: 80px;
      height: 80px;
      padding: 16px;
      border-radius: 100%;
      background: rgba(255, 255, 255, 0.75);
      border: 3px solid hsla(0, 100%, 100%, 1);
      display: flex;
      justify-content: center;
      align-items: center;
      box-sizing: border-box;
    }
    #loading {
      
    }
    .progress-bar-outer {
      border: 1px solid currentColor;
      height: 10px;
      width: 200px;
      max-width: 200px;
    }
    .progress-bar-inner {
      height: 100%;
      width: 0;
      background-color: currentColor;
    }
    .loading-text, noscript {
      font-weight: normal;
      font-size: 36px;
      margin: 0 0 16px;
    }
    .loading-image {
      margin: 0 0 16px;
    }
    #error-message, #error-stack {
      font-family: monospace;
      max-width: 600px;
      white-space: pre-wrap;
      user-select: text;
      -webkit-user-select: text;
    }
    #error-stack {
      text-align: left;
      max-height: 200px;
      overflow: auto;
    }
    .control-button {
      width: 2rem;
      height: 2rem;
      padding: 0.375rem;
      margin-top: 0.5rem;
      margin-bottom: 0.5rem;
      user-select: none;
      -webkit-user-select: none;
      cursor: pointer;
      border: 0;
      border-radius: 4px;
    }
    .control-button:hover {
      background: #00c3ff26;
    }
    .control-button.active {
      background: #00c3ff59;
    }
    .fullscreen-button {
      background: white !important;
    }
    .standalone-fullscreen-button {
      position: absolute;
      top: 0;
      right: 0;
      background-color: rgba(0, 0, 0, 0.5);
      border-radius: 0 0 0 4px;
      padding: 4px;
      cursor: pointer;
    }
    .sc-canvas {
      cursor: auto;
    }
    .sc-monitor-root[data-opcode^="data_"] .sc-monitor-value-color {
      background-color: #ff8c1a;
    }
    .sc-monitor-row-value-outer {
      background-color: #fc662c;
    }
    .sc-monitor-row-value-editing .sc-monitor-row-value-outer {
      background-color: #e25b27;
    }
    
  </style>
  <meta name="theme-color" content="#000000">
  <link rel="icon" href="data:image/png;base64,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">
</head>
<body>
  <div id="app"></div>

  <div id="launch" class="screen" hidden title="Click to start">
    <div class="green-flag">
      <svg viewBox="0 0 16.63 17.5" width="42" height="44">
        <defs><style>.cls-1,.cls-2{fill:#007AF4;stroke:#003080;stroke-linecap:round;stroke-linejoin:round;}.cls-2{stroke-width:1.5px;}</style></defs>
        <path class="cls-1" d="M.75,2A6.44,6.44,0,0,1,8.44,2h0a6.44,6.44,0,0,0,7.69,0V12.4a6.44,6.44,0,0,1-7.69,0h0a6.44,6.44,0,0,0-7.69,0"/>
        <line class="cls-2" x1="0.75" y1="16.75" x2="0.75" y2="0.75"/>
      </svg>
    </div>
  </div>

  <div id="loading" class="screen">
    <noscript>Enable JavaScript</noscript>
    
    <div class="loading-image"><img src="data:image/png;base64,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"></div>
    <div class="progress-bar-outer"><div class="progress-bar-inner" id="loading-inner"></div></div>
  </div>

  <div id="error" class="screen" hidden>
    <h1>Error</h1>
    <details>
      <summary id="error-message"></summary>
      <p id="error-stack"></p>
    </details>
  </div>

  <script src="script.js"></script>
  <script>
    const appElement = document.getElementById('app');
    const launchScreen = document.getElementById('launch');
    const loadingScreen = document.getElementById('loading');
    const loadingInner = document.getElementById('loading-inner');
    const errorScreen = document.getElementById('error');
    const errorScreenMessage = document.getElementById('error-message');
    const errorScreenStack = document.getElementById('error-stack');

    const handleError = (error) => {
      console.error(error);
      if (!errorScreen.hidden) return;
      errorScreen.hidden = false;
      errorScreenMessage.textContent = '' + error;
      let debug = error && error.stack || 'no stack';
      debug += '\nUser agent: ' + navigator.userAgent;
      errorScreenStack.textContent = debug;
    };
    const setProgress = (progress) => {
      if (loadingInner) loadingInner.style.width = progress * 100 + '%';
    };
    const interpolate = (a, b, t) => a + t * (b - a);

    try {
      setProgress(0.1);

      const scaffolding = new Scaffolding.Scaffolding();
      scaffolding.width = 480;
      scaffolding.height = 360;
      scaffolding.resizeMode = "stretch";
      scaffolding.editableLists = false;
      scaffolding.usePackagedRuntime = true;
      scaffolding.setup();
      scaffolding.appendTo(appElement);

      const vm = scaffolding.vm;
      window.scaffolding = scaffolding;
      window.vm = scaffolding.vm;
      window.Scratch = {
        vm,
        renderer: vm.renderer,
        audioEngine: vm.runtime.audioEngine,
        bitmapAdapter: vm.runtime.v2BitmapAdapter,
        videoProvider: vm.runtime.ioDevices.video.provider
      };

      vm.runtime.isPackagedProject = true;
      scaffolding.setUsername("player####".replace(/#/g, () => Math.floor(Math.random() * 10)));
      scaffolding.setAccentColor("#00c3ff");

      try {
        scaffolding.addCloudProvider(new Scaffolding.Cloud.WebSocketProvider(["wss://clouddata.turbowarp.org","wss://clouddata.turbowarp.xyz"], "p4-@robots.pmp"));
      } catch (error) {
        console.error(error);
      }

      vm.setTurboMode(false);
      if (vm.setInterpolation) vm.setInterpolation(false);
      if (vm.setFramerate) vm.setFramerate(60);
      if (vm.renderer.setUseHighQualityRender) vm.renderer.setUseHighQualityRender(true);
      if (vm.setRuntimeOptions) vm.setRuntimeOptions({
        fencing: false,
        miscLimits: false,
        maxClones: 300,
        dangerousOptimizations: false
      });
      if (vm.setCompilerOptions) vm.setCompilerOptions({
        enabled: true,
        warpTimer: false
      });
      if (vm.renderer.setMaxTextureDimension) vm.renderer.setMaxTextureDimension(2048);

      if (typeof ScaffoldingAddons !== 'undefined') {
        ScaffoldingAddons.run(scaffolding, {"gamepad":true,"pointerlock":false,"specialCloudBehaviors":false,"unsafeCloudBehaviors":false,"pause":false});
      }

      scaffolding.setExtensionSecurityManager({
        getSandboxMode: () => 'unsandboxed',
        canLoadExtensionFromProject: () => true
      });
      for (const extension of ["data:application/javascript,%2F%2F%20Name%3A%20CST%203D%0A%2F%2F%20ID%3A%20cst12293d%0A%2F%2F%20Description%3A%20Bring%20your%20sprites%20into%20the%20third%20dimension.%0A%2F%2F%20By%3A%20CST1229%20%3Chttps%3A%2F%2Fscratch.mit.edu%2Fusers%2FCST1229%2F%3E%0A%2F%2F%20License%3A%20MPL-2.0%0A%0A%2F%2F%20Special%20thanks%20to%20Drago%20NrxThulitech%20Cuven%20for%20finding%20lots%20of%20bugs%0A%0A%2F*%0A%20%20TODO%3A%0A%20%20-%20bugs%0A%20%20%0A%20%20-%20model%20support%3F%3F%3F%0A%20%20%20%20-%20%22load%20(OBJ%2FMTL%2FGLTF)%20(text%2Fdata%3A%20URL)%20%5B%5D%20into%20model%20%5B%5D%22%0A%20%20%20%20-%20%22set%203d%20mode%20to%20model%20%5B%5D%22%0A%20%20%20%20-%20collision%20support%20unlikely%20(if%20it%20did%20happen%20it%20would%20probably%20be%20very%20laggy)%0A%0A%20%20-%20materials%2Ftextures%0A%20%20%20%20-%20%22set%20material%20%5B0%5D%20texture%20to%20%5Bcurrent%20costume%5D%22%0A%20%20%20%20-%20%22set%20material%20%5B0%5D%20color%20to%20()%22%3F%0A%20%20%20%20-%20built-in%20shape%20materials%20would%20be%20in%20docs%20because%20docs%20will%20exist%20(they%20are%20essential)%0A%0A%20%20-%203d%20stamping%0A%20%20%20%20-%20%223d%20stamp%20named%20%5B%5D%22%20block%20that%20copies%20the%20current%203d%20object%0A%20%20%20%20-%20%22duplicate%203d%20stamp%20%5B%5D%20as%20%5B%5D%22%0A%20%20%20%20-%20%22move%203d%20stamp%20%5B%5D%20to%20myself%22%0A%20%20%20%20-%20%22delete%203d%20stamp%20%5B%5D%22%0A%20%20%20%20-%20%22erase%20all%203d%20stamps%22%0A%20%20%0A%20%20-%20lighting%0A%20%20%20%20-%20could%20be%20in%20the%20set%203d%20mode%20block%2C%20as%20in%20%22set%203d%20mode%20to%20(point%2Fspotlight)%22%0A%20%20%20%20-%20spotlights%20point%20in%20the%20direction%20the%20sprite%20is%20pointing%0A%20%20%20%20-%20light%20color%2Fintensity%20blocks%0A%20%20%20%20-%20glow%3F%0A%20%20%20%20-%20world%20light%20blocks%20(direction%2Fdisable%2Fflat%2Fcolor%2Fintensity)%0A%20%20%0A%20%20-%20WHEN%20RELEASING%2C%20DATA-URLIFY%20THREEJS%0A*%2F%0A%0A(async%20function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%0A%20%20const%20IN_3D%20%3D%20%22threed.in3d%22%3B%0A%20%20const%20OBJECT%20%3D%20%22threed.object%22%3B%0A%20%20const%20THREED_DIRTY%20%3D%20%22threed.dirty%22%3B%0A%20%20const%20SIDE_MODE%20%3D%20%22threed.sidemode%22%3B%0A%20%20const%20TEX_FILTER%20%3D%20%22threed.texfilter%22%3B%0A%20%20const%20Z_POS%20%3D%20%22threed.zpos%22%3B%0A%20%20const%20Z_STRETCH%20%3D%20%22threed.zstretch%22%3B%0A%20%20const%20YAW%20%3D%20%22threed.yaw%22%3B%0A%20%20const%20PITCH%20%3D%20%22threed.pitch%22%3B%0A%20%20const%20ROLL%20%3D%20%22threed.roll%22%3B%0A%20%20const%20ATTACHED_TO%20%3D%20%22threed.attachedto%22%3B%0A%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20%7B%0A%20%20%20%20throw%20new%20Error(%22CST%203D%20must%20be%20run%20unsandboxed%22)%3B%0A%20%20%7D%0A%0A%20%20const%20extId%20%3D%20%22cst12293d%22%3B%0A%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0A%20%20const%20runtime%20%3D%20vm.runtime%3B%0A%20%20const%20renderer%20%3D%20Scratch.renderer%3B%0A%0A%09const%20PATCHES_ID%20%3D%20%22__patches%22%20%2B%20extId%3B%0A%09const%20patch%20%3D%20(obj%2C%20functions)%20%3D%3E%20%7B%0A%09%09if%20(obj%5BPATCHES_ID%5D)%20return%3B%0A%09%09obj%5BPATCHES_ID%5D%20%3D%20%7B%7D%3B%0A%09%09for%20(const%20name%20in%20functions)%20%7B%0A%09%09%09const%20original%20%3D%20obj%5Bname%5D%3B%0A%09%09%09obj%5BPATCHES_ID%5D%5Bname%5D%20%3D%20obj%5Bname%5D%3B%0A%09%09%09if%20(original)%20%7B%0A%09%09%09%09obj%5Bname%5D%20%3D%20function(...args)%20%7B%0A%09%09%09%09%09const%20callOriginal%20%3D%20(...ogArgs)%20%3D%3E%20original.call(this%2C%20...ogArgs)%3B%0A%09%09%09%09%09return%20functions%5Bname%5D.call(this%2C%20callOriginal%2C%20...args)%3B%0A%09%09%09%09%7D%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09obj%5Bname%5D%20%3D%20function%20(...args)%20%7B%0A%09%09%09%09%09return%20functions%5Bname%5D.call(this%2C%20()%20%3D%3E%20%7B%7D%2C%20...args)%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%0A%09const%20_unpatch%20%3D%20(obj)%20%3D%3E%20%7B%0A%09%09if%20(!obj%5BPATCHES_ID%5D)%20return%3B%0A%09%09for%20(const%20name%20in%20obj%5BPATCHES_ID%5D)%20%7B%0A%09%09%09obj%5Bname%5D%20%3D%20obj%5BPATCHES_ID%5D%5Bname%5D%3B%0A%09%09%7D%0A%09%09delete%20obj%5BPATCHES_ID%5D%3B%0A%09%7D%0A%0A%20%20const%20Skin%20%3D%20renderer.exports.Skin%3B%0A%0A%20%20%2F%2F%20this%20class%20was%20originally%20made%20by%20Vadik1%0A%20%20class%20SimpleSkin%20extends%20Skin%20%7B%0A%20%20%20%20constructor(id%2C%20renderer)%20%7B%0A%20%20%20%20%20%20super(id%2C%20renderer)%3B%0A%20%20%20%20%20%20const%20gl%20%3D%20renderer.gl%3B%0A%20%20%20%20%20%20const%20texture%20%3D%20gl.createTexture()%3B%0A%20%20%20%20%20%20gl.bindTexture(gl.TEXTURE_2D%2C%20texture)%3B%0A%20%20%20%20%20%20gl.texParameteri(gl.TEXTURE_2D%2C%20gl.TEXTURE_WRAP_S%2C%20gl.CLAMP_TO_EDGE)%3B%0A%20%20%20%20%20%20gl.texParameteri(gl.TEXTURE_2D%2C%20gl.TEXTURE_WRAP_T%2C%20gl.CLAMP_TO_EDGE)%3B%0A%20%20%20%20%20%20gl.texParameteri(gl.TEXTURE_2D%2C%20gl.TEXTURE_MIN_FILTER%2C%20gl.NEAREST)%3B%0A%20%20%20%20%20%20gl.texParameteri(gl.TEXTURE_2D%2C%20gl.TEXTURE_MAG_FILTER%2C%20gl.NEAREST)%3B%0A%20%20%20%20%20%20%2F%2Fgl.texImage2D(gl.TEXTURE_2D%2C%200%2C%20gl.RGBA%2C%201%2C%201%2C%200%2C%20gl.RGBA%2C%20gl.UNSIGNED_BYTE%2C%20new%20Uint8Array(%5B0%2C255%2C0%2C255%5D))%3B%0A%20%20%20%20%20%20this._texture%20%3D%20texture%3B%0A%20%20%20%20%20%20%2F**%0A%20%20%20%20%20%20%20*%20%40type%20%7B%5Bnumber%2C%20number%5D%7D%0A%20%20%20%20%20%20%20*%2F%0A%20%20%20%20%20%20this._rotationCenter%20%3D%20%5B240%2C%20180%5D%3B%0A%20%20%20%20%20%20%2F**%0A%20%20%20%20%20%20%20*%20%40type%20%7B%5Bnumber%2C%20number%5D%7D%0A%20%20%20%20%20%20%20*%2F%0A%20%20%20%20%20%20this._size%20%3D%20%5B480%2C%20360%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20dispose()%20%7B%0A%20%20%20%20%20%20if%20(this._texture)%20%7B%0A%20%20%20%20%20%20%20%20this._renderer.gl.deleteTexture(this._texture)%3B%0A%20%20%20%20%20%20%20%20this._texture%20%3D%20null%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20super.dispose()%3B%0A%20%20%20%20%7D%0A%20%20%20%20set%20size(value)%20%7B%0A%20%20%20%20%20%20this._size%20%3D%20value%3B%0A%20%20%20%20%20%20this._rotationCenter%20%3D%20%5Bvalue%5B0%5D%20%2F%202%2C%20value%5B1%5D%20%2F%202%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20get%20size()%20%7B%0A%20%20%20%20%20%20return%20this._size%3B%0A%20%20%20%20%7D%0A%20%20%20%20getTexture(scale)%20%7B%0A%20%20%20%20%20%20return%20this._texture%20%7C%7C%20super.getTexture(scale)%3B%0A%20%20%20%20%7D%0A%20%20%20%20setContent(textureData)%20%7B%0A%20%20%20%20%20%20const%20gl%20%3D%20this._renderer.gl%3B%0A%20%20%20%20%20%20gl.bindTexture(gl.TEXTURE_2D%2C%20this._texture)%3B%0A%20%20%20%20%20%20gl.texImage2D(%0A%20%20%20%20%20%20%20%20gl.TEXTURE_2D%2C%0A%20%20%20%20%20%20%20%200%2C%0A%20%20%20%20%20%20%20%20gl.RGBA%2C%0A%20%20%20%20%20%20%20%20gl.RGBA%2C%0A%20%20%20%20%20%20%20%20gl.UNSIGNED_BYTE%2C%0A%20%20%20%20%20%20%20%20textureData%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20this.emitWasAltered()%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20to%20convert%20to%20data%20url%2C%20use%20https%3A%2F%2Fwww.adminbooster.com%2Ftool%2Fdata_uri%0A%20%20%2F%2F%20%40ts-expect-error%20we're%20running%20in%20a%20browser%0A%20%20const%20THREE%20%3D%20await%20import(%22https%3A%2F%2Fcdn.jsdelivr.net%2Fnpm%2Fthree%400.169%2Fbuild%2Fthree.module.min.js%22)%3B%0A%0A%0A%20%20class%20ThreeD%20%7B%0A%20%20%20%20constructor()%20%7B%0A%20%20%20%20%20%20%2F%2F%20%40ts-expect-error%0A%20%20%20%20%20%20window.threed%20%3D%20this%3B%0A%20%20%20%20%20%20runtime%5BextId%5D%20%3D%20this%3B%0A%20%20%20%20%20%20this.THREE%20%3D%20THREE%3B%0A%0A%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0A%20%20%20%20%20%20this.hideVanillaBlocks%20%3D%20!!runtime.extensionStorage%3F.%5BextId%5D%3F.hideVanillaBlocks%3B%0A%20%20%20%20%20%20runtime.on(%22PROJECT_LOADED%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20this.uninit()%3B%0A%20%20%20%20%20%20%20%20const%20oldHideVanillaBlocks%20%3D%20this.hideVanillaBlocks%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0A%20%20%20%20%20%20%20%20this.hideVanillaBlocks%20%3D%20!!runtime.extensionStorage%3F.%5BextId%5D%3F.hideVanillaBlocks%3B%0A%20%20%20%20%20%20%20%20if%20(oldHideVanillaBlocks%20!%3D%20this.hideVanillaBlocks)%20%7B%0A%20%20%20%20%20%20%20%20%20%20vm.extensionManager.refreshBlocks()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20extId%2C%0A%20%20%20%20%20%20%20%20name%3A%20Scratch.translate(%22CST%203D%22)%2C%0A%0A%20%20%20%20%20%20%20%20color1%3A%20%22%232a47e8%22%2C%0A%20%20%20%20%20%20%20%20color2%3A%20%22%232439ad%22%2C%0A%20%20%20%20%20%20%20%20color3%3A%20%22%231b2d94%22%2C%0A%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BUTTON%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22Open%20Documentation%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22viewDocs%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BUTTON%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20this.hideVanillaBlocks%20%3F%20Scratch.translate(%22Show%20Vanilla%20Blocks%22)%20%3A%20Scratch.translate(%22Hide%20Vanilla%20Blocks%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22toggleVanillaBlocks%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setMode%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%203D%20mode%20to%20%5BMODE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MODE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22MODE_MENU%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22flat%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20this.vanillaBlock(%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cblock%20type%3D%22motion_setx%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cvalue%20name%3D%22X%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cshadow%20id%3D%22setx%22%20type%3D%22math_number%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cfield%20name%3D%22NUM%22%3E0%3C%2Ffield%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fshadow%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fvalue%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fblock%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cblock%20type%3D%22motion_sety%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cvalue%20name%3D%22Y%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cshadow%20id%3D%22sety%22%20type%3D%22math_number%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cfield%20name%3D%22NUM%22%3E0%3C%2Ffield%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fshadow%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fvalue%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fblock%3E%0A%20%20%20%20%20%20%20%20%20%20%60)%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setZ%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20z%20to%20%5BZ%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Z%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20this.vanillaBlock(%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cblock%20type%3D%22motion_changexby%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cvalue%20name%3D%22DX%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cshadow%20type%3D%22math_number%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cfield%20name%3D%22NUM%22%3E0%3C%2Ffield%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fshadow%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fvalue%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fblock%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cblock%20type%3D%22motion_changeyby%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cvalue%20name%3D%22DY%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cshadow%20type%3D%22math_number%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cfield%20name%3D%22NUM%22%3E0%3C%2Ffield%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fshadow%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fvalue%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fblock%3E%0A%20%20%20%20%20%20%20%20%20%20%60)%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22changeZ%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22change%20z%20by%20%5BZ%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Z%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2010%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20this.vanillaBlock(%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cblock%20type%3D%22motion_xposition%22%3E%3C%2Fblock%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cblock%20type%3D%22motion_yposition%22%3E%3C%2Fblock%3E%0A%20%20%20%20%20%20%20%20%20%20%60)%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getZ%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22z%20position%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22set3DPos%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22go%20to%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20z%3A%20%5BZ%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20X%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Z%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22change3DPos%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22change%20position%20by%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20z%3A%20%5BZ%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20X%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2010%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Z%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22moveSteps%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22move%20%5BSTEPS%5D%20steps%20in%203D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STEPS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%2210%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22set3DDir%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22point%20in%20%5BDIRECTION%5D%20%5BDEGREES%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DIRECTION%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22direction%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22y%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DEGREES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22rotate3D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22turn%20%5BDIRECTION%5D%20%5BDEGREES%5D%20degrees%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DIRECTION%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22turnDirection%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22right%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DEGREES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2015%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22direction3D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22direction%20around%20%5BDIRECTION%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DIRECTION%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22direction%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22y%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20this.vanillaBlock(%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cblock%20type%3D%22sensing_touchingobject%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cvalue%20name%3D%22TOUCHINGOBJECTMENU%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cshadow%20type%3D%22sensing_touchingobjectmenu%22%2F%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fvalue%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fblock%3E%0A%20%20%20%20%20%20%20%20%20%20%60)%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setZStretch%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20stretch%20z%20to%20%5BSTRETCH%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STRETCH%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22100%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getZStretch%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22stretch%20z%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setTexFilter%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20texture%20filter%20to%20%5BFILTER%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FILTER%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22texFilter%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22nearest%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setSideMode%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20shown%20faces%20to%20%5BSIDE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SIDE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22side%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22both%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22attach%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22attach%20myself%20to%20%5BTARGET%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22spriteMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22attachVar%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22attach%20myself%20to%20sprite%20with%20variable%20%5BVARIABLE%5D%20set%20to%20%5BVALUE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22spriteMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VARIABLE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22my%20variable%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%220%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22detach%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22detach%20myself%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22attachedSprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22sprite%20I'm%20attached%20to%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22attachedSpriteVar%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22variable%20%5BVARIABLE%5D%20of%20sprite%20I'm%20attached%20to%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VARIABLE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22my%20variable%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setCam%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22move%20camera%20to%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20z%3A%20%5BZ%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20X%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Z%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22changeCam%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22change%20camera%20by%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20z%3A%20%5BZ%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20X%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2010%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Z%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22camX%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22camera%20x%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22camY%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22camera%20y%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22camZ%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22camera%20z%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22moveCamSteps%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22move%20camera%20%5BSTEPS%5D%20steps%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STEPS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%2210%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setCamDir%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22point%20camera%20in%20%5BDIRECTION%5D%20%5BDEGREES%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DIRECTION%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22direction%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22y%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DEGREES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22rotateCam%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22turn%20camera%20%5BDIRECTION%5D%20%5BDEGREES%5D%20degrees%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DIRECTION%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22turnDirection%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22right%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DEGREES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2015%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22camDir%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22camera%20direction%20around%20%5BDIRECTION%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DIRECTION%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22direction%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22y%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setCameraParam%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20camera%20%5BPARAM%5D%20to%20%5BVALUE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20PARAM%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22cameraParam%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22vertical%20FOV%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%2250%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getCameraParam%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22camera%20%5BPARAM%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20PARAM%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22cameraParam%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22vertical%20FOV%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20MODE_MENU%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22disabled%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22flat%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22flat%20triangle%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cube%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sphere%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22low-poly%20sphere%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20turnDirection%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22left%22%2C%20%22right%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22up%22%2C%20%22down%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%E2%9F%B2%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22ccw%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%E2%9F%B3%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22cw%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20direction%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bvalue%3A%20%22y%22%2C%20text%3A%20Scratch.translate(%22y%20(yaw)%22)%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bvalue%3A%20%22x%22%2C%20text%3A%20Scratch.translate(%22x%20(pitch)%22)%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bvalue%3A%20%22z%22%2C%20text%3A%20Scratch.translate(%22z%20(roll)%22)%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20cameraParam%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22vertical%20FOV%22%2C%20%22minimum%20render%20distance%22%2C%20%22maximum%20render%20distance%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20side%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22both%22%2C%20%22front%22%2C%20%22back%22%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20texFilter%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22nearest%22%2C%20%22linear%22%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20spriteMenu%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%22getSprites%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20viewDocs()%20%7B%0A%20%20%20%20%20%20alert(%60This%20extension%20also%20makes%20many%20other%20vanilla%20blocks%20(e.g%20most%20of%20Motion)%20work%20with%203D%20sprites%2C%20try%20them%20out!%0ADefault%20camera%20position%3A%20x0%2C%20y0%2C%20z200.%0ADefault%20camera%20parameters%3A%20vertical%20FOV%2060%2C%20min%20render%20distance%200.5%2C%20max%20render%20distance%204800.%0A%0AMore%20things%20will%20be%20added%20here%20as%20things%20that%20need%20explaining%20are%20added.%0AIf%20I%20ever%20decide%20to%20release%20this%20extension%20on%20the%20gallery%2C%20this%20will%20be%20replaced%20with%20an%20actual%20docs%20page.%60)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20toggleVanillaBlocks()%20%7B%0A%20%20%20%20%20%20this.hideVanillaBlocks%20%3D%20!this.hideVanillaBlocks%3B%0A%20%20%20%20%20%20vm.extensionManager.refreshBlocks()%3B%0A%20%20%20%20%20%20if%20(!runtime.extensionStorage)%20return%3B%0A%20%20%20%20%20%20if%20(!runtime.extensionStorage%5BextId%5D)%20%7B%0A%20%20%20%20%20%20%20%20runtime.extensionStorage%5BextId%5D%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0A%20%20%20%20%20%20runtime.extensionStorage%5BextId%5D.hideVanillaBlocks%20%3D%20this.hideVanillaBlocks%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20vanillaBlock(xml)%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.XML%2C%0A%20%20%20%20%20%20%20%20xml%2C%0A%20%20%20%20%20%20%20%20hideFromPalette%3A%20this.hideVanillaBlocks%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20init()%20%7B%0A%20%20%20%20%20%20if%20(this.scene)%20return%3B%0A%0A%20%20%20%20%20%20%2F%2F%20create%20everything%0A%20%20%20%20%20%20this.scene%20%3D%20new%20THREE.Scene()%3B%0A%20%20%20%20%20%20this.camera%20%3D%20new%20THREE.PerspectiveCamera(60%2C%201%2C%200.1%2C%201000)%3B%0A%20%20%20%20%20%20this.camera.position.set(0%2C%200%2C%20200)%3B%0A%20%20%20%20%20%20this.camera.lookAt(0%2C%200%2C%200)%3B%0A%20%20%20%20%20%20this.camera.near%20%3D%200.5%3B%0A%20%20%20%20%20%20this.camera.far%20%3D%204800%3B%0A%0A%20%20%20%20%20%20this.renderer%20%3D%20new%20THREE.WebGLRenderer()%3B%0A%20%20%20%20%20%20this.renderer.useLegacyLights%20%3D%20true%3B%0A%20%20%20%20%20%20this.renderer.setClearAlpha(0)%3B%0A%0A%20%20%20%20%20%20%2F%2F%20create%20the%20scratch%20stuff%0A%20%20%20%20%20%20this.threeSkinId%20%3D%20renderer._nextSkinId%2B%2B%3B%0A%20%20%20%20%20%20this.threeSkin%20%3D%20new%20SimpleSkin(%0A%20%20%20%20%20%20%20%20this.threeSkinId%2C%0A%20%20%20%20%20%20%20%20renderer%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20renderer._allSkins%5Bthis.threeSkinId%5D%20%3D%20this.threeSkin%3B%0A%20%20%20%20%20%20this.threeDrawableId%20%3D%20renderer.createDrawable(%22pen%22)%3B%0A%20%20%20%20%20%20%2F%2F%20%40ts-expect-error%20not%20typed%0A%20%20%20%20%20%20renderer._allDrawables%5Bthis.threeDrawableId%5D.customDrawableName%20%3D%20%22CST%203D%20Layer%22%0A%20%20%20%20%20%20renderer.updateDrawableSkinId(%0A%20%20%20%20%20%20%20%20this.threeDrawableId%2C%0A%20%20%20%20%20%20%20%20this.threeSkinId%0A%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20this.stageSizeEvent%20%3D%20(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20this.updateScale()%3B%0A%20%20%20%20%20%20%7D).bind(this)%3B%0A%20%20%20%20%20%20vm.on(%22STAGE_SIZE_CHANGED%22%2C%20this.stageSizeEvent)%3B%0A%0A%20%20%20%20%20%20this.stampRenderTarget%20%3D%20new%20THREE.WebGLRenderTarget()%3B%0A%0A%20%20%20%20%20%20this.raycaster%20%3D%20new%20THREE.Raycaster()%3B%0A%0A%20%20%20%20%20%20this.applyPatches()%3B%0A%20%20%20%20%20%20this.updateScale()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20uninit()%20%7B%0A%20%20%20%20%20%20%2F%2F%20delete%20everything%0A%20%20%20%20%20%20for%20(const%20dr%20of%20renderer._allDrawables)%20%7B%0A%20%20%20%20%20%20%20%20if%20(!dr)%20continue%3B%0A%20%20%20%20%20%20%20%20this.disable3DForDrawable(dr.id)%3B%0A%20%20%20%20%20%20%20%20delete%20dr%5BIN_3D%5D%3B%0A%20%20%20%20%20%20%20%20delete%20dr%5BOBJECT%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.scene)%20this.scene.clear()%3B%0A%20%20%20%20%20%20this.scene%20%3D%20undefined%3B%0A%20%20%20%20%20%20this.camera%20%3D%20undefined%3B%0A%20%20%20%20%20%20if%20(this.renderer)%20this.renderer.dispose()%3B%0A%20%20%20%20%20%20this.renderer%20%3D%20undefined%3B%0A%20%20%20%20%20%20if%20(this.threeSkinId)%0A%20%20%20%20%20%20%20%20this.threeSkin.dispose()%3B%0A%20%20%20%20%20%20this.threeSkinId%20%3D%20undefined%3B%0A%20%20%20%20%20%20if%20(this.threeDrawableId)%0A%20%20%20%20%20%20%20%20renderer._allDrawables%5Bthis.threeDrawableId%5D.dispose()%3B%0A%20%20%20%20%20%20this.threeDrawableId%20%3D%20undefined%3B%0A%20%20%20%20%20%20if%20(this.stageSizeEvent)%0A%20%20%20%20%20%20%20%20vm.off(%22STAGE_SIZE_CHANGED%22%2C%20this.stageSizeEvent)%3B%0A%20%20%20%20%20%20this.stageSizeEvent%20%3D%20undefined%3B%0A%20%20%20%20%20%20if%20(this.stampRenderTarget)%0A%20%20%20%20%20%20%20%20this.stampRenderTarget.dispose()%3B%0A%20%20%20%20%20%20this.stampRenderTarget%20%3D%20undefined%3B%0A%0A%20%20%20%20%20%20runtime.requestRedraw()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20call%20when%20the%20native%20size%20of%20the%20canvas%20changes%0A%20%20%20%20updateScale()%20%7B%0A%20%20%20%20%20%20const%20w%20%3D%20runtime.stageWidth%20%7C%7C%20480%3B%0A%20%20%20%20%20%20const%20h%20%3D%20runtime.stageHeight%20%7C%7C%20360%3B%0A%0A%20%20%20%20%20%20this.threeSkin.size%20%3D%20%5Bw%2C%20h%5D%3B%0A%0A%20%20%20%20%20%20this.camera.aspect%20%3D%20w%20%2F%20h%3B%0A%20%20%20%20%20%20this.renderer.setSize(w%2C%20h)%3B%0A%20%20%20%20%20%20this.stampRenderTarget.setSize(w%2C%20h)%3B%0A%20%20%20%20%20%20this.camera.updateProjectionMatrix()%3B%0A%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20patches%20for%20stuff%0A%20%20%20%20applyPatches()%20%7B%0A%20%20%20%20%20%20const%20Drawable%20%3D%20renderer.exports.Drawable%3B%0A%0A%20%20%20%20%20%20const%20threed%20%3D%20this%3B%0A%20%20%20%20%20%20patch(Drawable.prototype%2C%20%7B%0A%20%20%20%20%20%20%20%20getVisible(og)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this%5BIN_3D%5D)%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20return%20og()%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20updateVisible(og%2C%20value)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this%5BIN_3D%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20o%20%3D%20this%5BOBJECT%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(o.visible%20!%3D%3D%20value)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20o.visible%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20threed.updateRenderer()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20og(value)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20updatePosition(og%2C%20position)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this%5BIN_3D%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20o%20%3D%20this%5BOBJECT%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20o.position.x%20%3D%20position%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20o.position.y%20%3D%20position%5B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20threed.updateRenderer()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20og(position)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20updateDirection(og%2C%20direction)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this%5BIN_3D%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%5BROLL%5D%20%3D%20THREE.MathUtils.degToRad(direction)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20threed.updateSpriteAngle(this)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20threed.updateRenderer()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20og(direction)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20updateScale(og%2C%20scale)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this%5BIN_3D%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20obj%20%3D%20this%5BOBJECT%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20obj.scale.x%20%3D%20(obj._sizeX%20%3F%3F%20100)%20%2F%20100%20*%20scale%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20obj.scale.y%20%3D%20(obj._sizeY%20%3F%3F%20100)%20%2F%20100%20*%20scale%5B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20obj.scale.z%20%3D%20(obj._sizeZ%20%3F%3F%20100)%20%2F%20100%20*%20(this%5BZ_STRETCH%5D%20%3F%3F%20scale%5B0%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20threed.updateRenderer()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20og(scale)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20dispose(og)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this%5BOBJECT%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%5BOBJECT%5D.removeFromParent()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%5BOBJECT%5D.material.dispose()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(this%5BOBJECT%5D.material.map)%20this%5BOBJECT%5D.material.map.dispose()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%5BOBJECT%5D.geometry.dispose()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%5BOBJECT%5D%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20threed.updateRenderer()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20og()%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20_skinWasAltered(og)%20%7B%0A%20%20%20%20%20%20%20%20%20%20og()%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(this%5BIN_3D%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20threed.updateDrawableSkin(this)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20threed.updateRenderer()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20patch(renderer%2C%20%7B%0A%20%20%20%20%20%20%20%20draw(og)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this%5BTHREED_DIRTY%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Do%20a%203D%20redraw%0A%20%20%20%20%20%20%20%20%20%20%20%20threed.doUpdateRenderer()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%5BTHREED_DIRTY%5D%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20og()%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20isTouchingDrawables(og%2C%20drawableID%2C%20candidateIDs%20%3D%20this._drawList)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20dr%20%3D%20this._allDrawables%5BdrawableID%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20(dr%5BIN_3D%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%203D%20sprites%20can't%20collide%20with%202D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20candidates%20%3D%20candidateIDs.filter(id%20%3D%3E%20this._allDrawables%5Bid%5D%5BIN_3D%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(const%20candidate%20of%20candidates)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(threed.touching3D(dr%5BOBJECT%5D%2C%20this._allDrawables%5Bcandidate%5D%5BOBJECT%5D))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20return%20og(drawableID%2C%20candidateIDs.filter(id%20%3D%3E%20!(this._allDrawables%5Bid%5D%5BIN_3D%5D)))%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20penStamp(og%2C%20penSkinID%2C%20stampID)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20dr%20%3D%20this._allDrawables%5BstampID%5D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(!dr)%20return%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(dr%5BIN_3D%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Draw%20the%20sprite%20to%20the%203D%20drawable%20then%20stamp%20it%0A%20%20%20%20%20%20%20%20%20%20%20%20threed.renderer.render(dr%5BOBJECT%5D%2C%20threed.camera)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this._allSkins%5Bthreed.threeSkinId%5D.setContent(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20threed.renderer.domElement%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20og(penSkinID%2C%20threed.threeDrawableId)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20threed.updateRenderer()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20og(penSkinID%2C%20stampID)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20pick(og%2C%20centerX%2C%20centerY%2C%20touchWidth%2C%20touchHeight%2C%20candidateIDs)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20pick2d%20%3D%20og(centerX%2C%20centerY%2C%20touchWidth%2C%20touchHeight%2C%20candidateIDs)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(pick2d%20!%3D%3D%20-1)%20return%20pick2d%3B%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20if%20(!threed.raycaster)%20return%20false%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20bounds%20%3D%20this.clientSpaceToScratchBounds(centerX%2C%20centerY%2C%20touchWidth%2C%20touchHeight)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(bounds.left%20%3D%3D%3D%20-Infinity%20%7C%7C%20bounds.bottom%20%3D%3D%3D%20-Infinity)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20const%20candidates%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20(candidateIDs%20%7C%7C%20this._drawList).map(id%20%3D%3E%20this._allDrawables%5Bid%5D).filter(dr%20%3D%3E%20dr%5BIN_3D%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(candidates.length%20%3C%3D%200)%20return%20-1%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20scratchCenterX%20%3D%20(bounds.left%20%2B%20bounds.right)%20%2F%20this._gl.canvas.clientWidth%3B%0A%20%20%20%20%20%20%20%20%20%20const%20scratchCenterY%20%3D%20(bounds.top%20%2B%20bounds.bottom)%20%2F%20this._gl.canvas.clientHeight%3B%0A%20%20%20%20%20%20%20%20%20%20threed.raycaster.setFromCamera(new%20THREE.Vector2(scratchCenterX%2C%20scratchCenterY)%2C%20threed.camera)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20object%20%3D%20threed.raycaster.intersectObject(threed.scene%2C%20true)%5B0%5D%3F.object%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(!object)%20return%20-1%3B%0A%20%20%20%20%20%20%20%20%20%20const%20drawable%20%3D%20candidates.find(c%20%3D%3E%20(c%5BIN_3D%5D%20%26%26%20c%5BOBJECT%5D%20%3D%3D%3D%20object))%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(!drawable)%20return%20-1%3B%0A%20%20%20%20%20%20%20%20%20%20return%20drawable._id%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20drawableTouching(og%2C%20drawableID%2C%20centerX%2C%20centerY%2C%20touchWidth%2C%20touchHeight)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20drawable%20%3D%20this._allDrawables%5BdrawableID%5D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(!drawable)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20(!drawable%5BIN_3D%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20og(drawableID%2C%20centerX%2C%20centerY%2C%20touchWidth%2C%20touchHeight)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%0A%20%20%20%20%20%20%20%20%20%20if%20(!threed.raycaster)%20return%20false%3B%0A%20%20%0A%20%20%20%20%20%20%20%20%20%20const%20bounds%20%3D%20this.clientSpaceToScratchBounds(centerX%2C%20centerY%2C%20touchWidth%2C%20touchHeight)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20scratchCenterX%20%3D%20(bounds.left%20%2B%20bounds.right)%20%2F%20this._gl.canvas.clientWidth%3B%0A%20%20%20%20%20%20%20%20%20%20const%20scratchCenterY%20%3D%20(bounds.top%20%2B%20bounds.bottom)%20%2F%20this._gl.canvas.clientHeight%3B%0A%20%20%20%20%20%20%20%20%20%20threed.raycaster.setFromCamera(new%20THREE.Vector2(scratchCenterX%2C%20scratchCenterY)%2C%20threed.camera)%3B%0A%20%20%0A%20%20%20%20%20%20%20%20%20%20const%20intersect%20%3D%20(threed.raycaster.intersectObject(threed.scene%2C%20true))%3B%0A%20%20%20%20%20%20%20%20%20%20const%20object%20%3D%20intersect%5B0%5D%3F.object%3B%0A%20%20%20%20%20%20%20%20%20%20return%20object%20%3D%3D%3D%20drawable%5BOBJECT%5D%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20extractDrawableScreenSpace(og%2C%20drawableID)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20drawable%20%3D%20this._allDrawables%5BdrawableID%5D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(!drawable)%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20Error(%60Could%20not%20extract%20drawable%20with%20ID%20%24%7BdrawableID%7D%3B%20it%20does%20not%20exist%60)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(!drawable%5BIN_3D%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20og(drawableID)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Draw%20the%20sprite%20to%20the%203D%20drawable%20then%20extract%20it%0A%20%20%20%20%20%20%20%20%20%20threed.renderer.render(drawable%5BOBJECT%5D%2C%20threed.camera)%3B%0A%20%20%20%20%20%20%20%20%20%20this._allSkins%5Bthreed.threeSkinId%5D.setContent(%0A%20%20%20%20%20%20%20%20%20%20%20%20threed.renderer.domElement%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20extracted%20%3D%20og(threed.threeDrawableId)%3B%0A%20%20%20%20%20%20%20%20%20%20threed.updateRenderer()%3B%0A%20%20%20%20%20%20%20%20%20%20return%20extracted%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20patch(renderer.exports.Skin%2C%20%7B%0A%20%20%20%20%20%20%20%20dispose(og)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this._3dCachedTexture)%20this._3dCachedTexture.dispose()%3B%0A%20%20%20%20%20%20%20%20%20%20og()%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20_setTexture(og%2C%20textureData)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this._3dCachedTexture)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this._3dCachedTexture.dispose()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this._3dCachedTexture%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20returnValue%20%3D%20og(textureData)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20threed.getThreeTextureFromSkin(this)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20returnValue%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20og(textureData)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20updateRenderer()%20%7B%0A%20%20%20%20%20%20%2F%2F%20Schedule%20a%203D%20redraw%0A%20%20%20%20%20%20renderer%5BTHREED_DIRTY%5D%20%3D%20true%3B%0A%20%20%20%20%20%20runtime.requestRedraw()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20pushes%20the%20current%203d%20render%20state%20into%20the%20drawable%0A%20%20%20%20doUpdateRenderer()%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%20%20%20%20%20%20this.renderer.render(this.scene%2C%20this.camera)%3B%0A%0A%20%20%20%20%20%20if%20(!this.threeSkinId)%20return%3B%0A%0A%20%20%20%20%20%20this.threeSkin.setContent(%0A%20%20%20%20%20%20%20%20this.renderer.domElement%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20updateDrawableSkin(drawable)%20%7B%0A%20%20%20%20%20%20if%20(drawable%5BOBJECT%5D%20%26%26%20drawable%5BOBJECT%5D.material)%20%7B%0A%20%20%20%20%20%20%20%20drawable%5BOBJECT%5D.material.map%20%3D%20this.getThreeTextureFromSkin(drawable.skin)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20%2F%2F%2F%20MISC%20OBJECT%20UTILS%20%2F%2F%2F%2F%0A%0A%20%20%20%20getThreeTextureFromSkin(skin)%20%7B%0A%20%20%20%20%20%20if%20(skin._3dCachedTexture)%20return%20skin._3dCachedTexture%3B%0A%20%20%20%20%20%20skin._3dCachedTexture%20%3D%20new%20THREE.CanvasTexture(this.getCanvasFromSkin(skin))%3B%0A%20%20%20%20%20%20skin._3dCachedTexture.colorSpace%20%3D%20THREE.SRGBColorSpace%3B%0A%20%20%20%20%20%20return%20skin._3dCachedTexture%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20objectShape(obj)%20%7B%0A%20%20%20%20%20%20let%20shape%20%3D%20null%3B%0A%20%20%20%20%20%20if%20(obj.geometry)%20%7B%0A%20%20%20%20%20%20%20%20if%20(obj.geometry%20instanceof%20THREE.SphereGeometry)%20%7B%0A%20%20%20%20%20%20%20%20%20%20obj.geometry.computeBoundingSphere()%3B%0A%20%20%20%20%20%20%20%20%20%20shape%20%3D%20obj.geometry.boundingSphere%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20obj.geometry.computeBoundingBox()%3B%0A%20%20%20%20%20%20%20%20%20%20shape%20%3D%20obj.geometry.boundingBox%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20if%20(obj%20instanceof%20THREE.SPRITE)%20%7B%0A%20%20%20%20%20%20%20%20const%20sx%20%3D%20obj.scale.x%20%2F%202%3B%0A%20%20%20%20%20%20%20%20const%20sy%20%3D%20obj.scale.y%20%2F%202%3B%0A%0A%20%20%20%20%20%20%20%20shape%20%3D%20new%20THREE.Box3(%0A%20%20%20%20%20%20%20%20%20%20new%20THREE.Vector3(-sx%2C%20-sy%2C%200.5)%2C%0A%20%20%20%20%20%20%20%20%20%20new%20THREE.Vector3(sx%2C%20sy%2C%200.5)%2C%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20shape%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20objectShapeTransformed(obj)%20%7B%0A%20%20%20%20%20%20const%20shape%20%3D%20this.objectShape(obj)%3B%0A%20%20%20%20%20%20if%20(!shape)%20return%20null%3B%0A%20%20%20%20%20%20obj.updateMatrixWorld()%3B%0A%20%20%20%20%20%20return%20shape.applyMatrix4(obj.matrixWorld)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20touching3D(objA%2C%20objB)%20%7B%0A%20%20%20%20%20%20const%20shapeA%20%3D%20this.objectShapeTransformed(objA)%3B%0A%20%20%20%20%20%20const%20shapeB%20%3D%20this.objectShapeTransformed(objB)%3B%0A%20%20%20%20%20%20if%20(!shapeA%20%7C%7C%20!shapeB)%20return%20false%3B%0A%20%20%20%20%20%20const%20nameB%20%3D%20(shapeB%20instanceof%20THREE.Sphere)%20%3F%20%22Sphere%22%20%3A%20%22Box%22%3B%0A%20%20%20%20%20%20const%20func%20%3D%20shapeA%5B%22intersects%22%20%2B%20nameB%5D%3B%0A%20%20%20%20%20%20if%20(!func)%20return%20false%3B%0A%20%20%20%20%20%20return%20func.call(shapeA%2C%20shapeB)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%2F%20MENUS%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20originally%20from%20clones%20plus%3A%20https%3A%2F%2Fextensions.turbowarp.org%2FLily%2FClonesPlus.js%0A%20%20%20%20getSprites()%20%7B%0A%20%20%20%20%20%20let%20spriteNames%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20const%20targets%20%3D%20runtime.targets%3B%0A%20%20%20%20%20%20for%20(let%20index%20%3D%201%3B%20index%20%3C%20targets.length%3B%20index%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20const%20curTarget%20%3D%20targets%5Bindex%5D.sprite%3B%0A%20%20%20%20%20%20%20%20if%20(targets%5Bindex%5D.isOriginal)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20jsonOBJ%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20curTarget.name%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20curTarget.name%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20spriteNames.push(jsonOBJ)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(spriteNames.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20return%20spriteNames%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20%5B%7B%20text%3A%20%22%22%2C%20value%3A%200%20%7D%5D%3B%20%2F%2Fthis%20should%20never%20happen%20but%20it's%20a%20failsafe%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%2F%0A%0A%0A%20%20%20%20%2F%2F%2F%20DRAWABLE%20STUFF%20%2F%2F%2F%0A%0A%20%20%20%20%2F%2F%20thanks%20stackoverflow%0A%20%20%20%20%2F%2F%20https%3A%2F%2Fstackoverflow.com%2Fa%2F18804083%0A%20%20%20%20getCanvasFromTexture(gl%2C%20texture%2C%20width%2C%20height)%20%7B%0A%20%20%20%20%20%20const%20framebuffer%20%3D%20gl.createFramebuffer()%3B%0A%20%20%20%20%20%20gl.bindFramebuffer(gl.FRAMEBUFFER%2C%20framebuffer)%3B%0A%20%20%20%20%20%20gl.framebufferTexture2D(gl.FRAMEBUFFER%2C%20gl.COLOR_ATTACHMENT0%2C%20gl.TEXTURE_2D%2C%20texture%2C%200)%3B%0A%0A%20%20%20%20%20%20const%20data%20%3D%20new%20Uint8Array(width%20*%20height%20*%204)%3B%0A%20%20%20%20%20%20gl.readPixels(0%2C%200%2C%20width%2C%20height%2C%20gl.RGBA%2C%20gl.UNSIGNED_BYTE%2C%20data)%3B%0A%0A%20%20%20%20%20%20gl.deleteFramebuffer(framebuffer)%3B%0A%0A%20%20%20%20%20%20const%20imageData%20%3D%20new%20ImageData(width%2C%20height)%3B%0A%20%20%20%20%20%20imageData.data.set(data)%3B%0A%0A%20%20%20%20%20%20const%20canvas%20%3D%20document.createElement(%22canvas%22)%3B%0A%20%20%20%20%20%20canvas.width%20%3D%20width%3B%0A%20%20%20%20%20%20canvas.height%20%3D%20height%3B%0A%20%20%20%20%20%20const%20context%20%3D%20canvas.getContext(%222d%22)%3B%0A%0A%20%20%20%20%20%20context.putImageData(imageData%2C%200%2C%200)%3B%0A%0A%20%20%20%20%20%20return%20canvas%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getCanvasFromSkin(skin)%20%7B%0A%20%20%20%20%20%20const%20emptyCanvas%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20canvas%20%3D%20document.createElement(%22canvas%22)%3B%0A%20%20%20%20%20%20%20%20canvas.width%20%3D%201%3B%0A%20%20%20%20%20%20%20%20canvas.height%20%3D%201%3B%0A%20%20%20%20%20%20%20%20return%20canvas%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20switch%20(skin.constructor)%20%7B%0A%20%20%20%20%20%20%20%20case%20renderer.exports.BitmapSkin%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(skin._textureSize%5B0%5D%20%3C%201%20%7C%7C%20skin._textureSize%5B1%5D%20%3C%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20emptyCanvas()%3B%0A%20%20%20%20%20%20%20%20%20%20return%20this.getCanvasFromTexture(%0A%20%20%20%20%20%20%20%20%20%20%20%20renderer.gl%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20skin.getTexture()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20skin._textureSize%5B0%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20skin._textureSize%5B1%5D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20case%20renderer.exports.SVGSkin%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20code%20copy-pasted%20from%20scratch-render%0A%20%20%20%20%20%20%20%20%20%20const%20INDEX_OFFSET%20%3D%208%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20textureScale%20%3D%20200%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20scaleMax%20%3D%20textureScale%20%3F%20Math.max(Math.abs(textureScale)%2C%20Math.abs(textureScale))%20%3A%20100%3B%0A%20%20%20%20%20%20%20%20%20%20const%20requestedScale%20%3D%20Math.min(scaleMax%20%2F%20100%2C%20skin._maxTextureScale)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20mipLevel%20%3D%20Math.max(Math.ceil(Math.log2(requestedScale))%20%2B%20INDEX_OFFSET%2C%200)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20mipScale%20%3D%20Math.pow(2%2C%20mipLevel%20-%20INDEX_OFFSET)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20sizeX%20%3D%20Math.ceil(skin._size%5B0%5D%20*%20mipScale)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20sizeY%20%3D%20Math.ceil(skin._size%5B1%5D%20*%20mipScale)%0A%20%20%20%20%20%20%20%20%20%20if%20(sizeX%20%3C%201%20%7C%7C%20sizeY%20%3C%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20emptyCanvas()%3B%0A%0A%20%20%20%20%20%20%20%20%20%20return%20this.getCanvasFromTexture(%0A%20%20%20%20%20%20%20%20%20%20%20%20renderer.gl%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20skin.getTexture(%5BtextureScale%2C%20textureScale%5D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sizeX%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sizeY%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20console.error(%22Could%20not%20get%20skin%20image%20data%3A%22%2C%20skin)%3B%0A%20%20%20%20%20%20%20%20%20%20throw%20new%20TypeError(%22Could%20not%20get%20skin%20image%20data%22)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20getSizeFromSkin(skin)%20%7B%0A%20%20%20%20%20%20switch%20(skin.constructor)%20%7B%0A%20%20%20%20%20%20%20%20case%20renderer.exports.BitmapSkin%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20skin._textureSize%5B0%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20skin._textureSize%5B1%5D%0A%20%20%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20case%20renderer.exports.SVGSkin%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20skin._size%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20console.error(%22Could%20not%20get%20skin%20size%3A%22%2C%20skin)%3B%0A%20%20%20%20%20%20%20%20%20%20throw%20new%20TypeError(%22Could%20not%20get%20skin%20size%22)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20enable3DForDrawable(drawableID%2C%20type%20%3D%20%22flat%22)%20%7B%0A%20%20%20%20%20%20const%20dr%20%3D%20renderer._allDrawables%5BdrawableID%5D%3B%0A%20%20%20%20%20%20if%20(dr%5BIN_3D%5D)%20return%3B%0A%0A%20%20%20%20%20%20dr%5BIN_3D%5D%20%3D%20true%3B%0A%0A%20%20%20%20%20%20let%20obj%3B%0A%20%20%20%20%20%20if%20(type%20%3D%3D%3D%20%22sprite%22)%20%7B%0A%20%20%20%20%20%20%20%20obj%20%3D%20new%20THREE.Sprite()%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20obj%20%3D%20new%20THREE.Mesh()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20dr%5BOBJECT%5D%20%3D%20obj%3B%0A%20%20%20%20%20%20this.updateMeshForDrawable(drawableID%2C%20type)%3B%0A%0A%20%20%20%20%20%20if%20(!(YAW%20in%20dr))%20dr%5BYAW%5D%20%3D%200%3B%0A%20%20%20%20%20%20if%20(!(PITCH%20in%20dr))%20dr%5BPITCH%5D%20%3D%200%3B%0A%20%20%20%20%20%20if%20(!(ROLL%20in%20dr))%20dr%5BROLL%5D%20%3D%200%3B%0A%20%20%20%20%20%20if%20(!(Z_POS%20in%20dr))%20dr%5BZ_POS%5D%20%3D%200%3B%0A%0A%20%20%20%20%20%20this.scene.add(obj)%3B%0A%20%20%20%20%20%20this.updateAttachment(dr)%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20updateMeshForDrawable(drawableID%2C%20type)%20%7B%0A%20%20%20%20%20%20const%20dr%20%3D%20renderer._allDrawables%5BdrawableID%5D%3B%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%3B%0A%20%20%20%20%20%20const%20obj%20%3D%20dr%5BOBJECT%5D%3B%0A%0A%20%20%20%20%20%20if%20(obj.isSprite)%20%7B%0A%20%20%20%20%20%20%20%20if%20(obj.material)%20obj.material.dispose()%3B%0A%20%20%20%20%20%20%20%20obj.material%20%3D%20new%20THREE.SpriteMaterial()%3B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20size%20%3D%20this.getSizeFromSkin(dr.skin)%3B%0A%20%20%20%20%20%20%20%20%20%20obj._sizeX%20%3D%20size%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20obj._sizeY%20%3D%20size%5B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20obj._sizeZ%20%3D%20size%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20%20%20console.error(e)%3B%0A%20%20%20%20%20%20%20%20%20%20obj._sizeX%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20obj._sizeY%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20obj._sizeZ%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20obj.material%20%3D%20new%20THREE.MeshBasicMaterial()%3B%0A%20%20%20%20%20%20%20%20switch%20(type)%20%7B%0A%20%20%20%20%20%20%20%20%20%20case%20%22flat%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20obj.geometry%20%3D%20new%20THREE.PlaneGeometry(dr.skin.size%5B0%5D%2C%20dr.skin.size%5B1%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22flat%20triangle%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20geometry%20%3D%20new%20THREE.BufferGeometry()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20w%20%3D%20dr.skin.size%5B0%5D%20%2F%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20h%20%3D%20dr.skin.size%5B1%5D%20%2F%202%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20vertices%20%3D%20new%20Float32Array(%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-w%2C%20-h%2C%200.0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20w%2C%20-h%2C%200.0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-w%2C%20h%2C%200.0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20uvs%20%3D%20new%20Float32Array(%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%2C%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%201%2C%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%2C%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20geometry.setIndex(%5B0%2C%201%2C%202%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20geometry.setAttribute(%22position%22%2C%20new%20THREE.BufferAttribute(vertices%2C%203))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20geometry.setAttribute(%22uv%22%2C%20new%20THREE.BufferAttribute(uvs%2C%202))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20obj.geometry%20%3D%20geometry%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22cube%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20obj.geometry%20%3D%20new%20THREE.BoxGeometry(dr.skin.size%5B0%5D%2C%20dr.skin.size%5B1%5D%2C%20dr.skin.size%5B0%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22sphere%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20obj.geometry%20%3D%20new%20THREE.SphereGeometry(Math.max(dr.skin.size%5B0%5D%2C%20dr.skin.size%5B1%5D)%20%2F%202%2C%2024%2C%2012)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22low-poly%20sphere%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20obj.geometry%20%3D%20new%20THREE.SphereGeometry(Math.max(dr.skin.size%5B0%5D%2C%20dr.skin.size%5B1%5D)%20%2F%202%2C%208%2C%206)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20obj._sizeX%20%3D%201%3B%0A%20%20%20%20%20%20%20%20obj._sizeY%20%3D%201%3B%0A%20%20%20%20%20%20%20%20obj._sizeZ%20%3D%201%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20(obj%3F.material%3F.map)%20obj%3F.material%3F.map%3F.dispose()%3B%0A%20%20%20%20%20%20const%20texture%20%3D%20this.getThreeTextureFromSkin(dr.skin)%3B%0A%20%20%20%20%20%20obj.material.map%20%3D%20texture%3B%0A%20%20%20%20%20%20texture.colorSpace%20%3D%20THREE.SRGBColorSpace%3B%0A%20%20%20%20%20%20obj.material.alphaTest%20%3D%200.01%3B%0A%0A%20%20%20%20%20%20this.updateMaterialForDrawable(drawableID)%3B%0A%0A%20%20%20%20%20%20%2F%2F%20%40ts-expect-error%20wrong%20type%0A%20%20%20%20%20%20dr.updateScale(dr.scale)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20updateMaterialForDrawable(drawableID)%20%7B%0A%20%20%20%20%20%20const%20dr%20%3D%20renderer._allDrawables%5BdrawableID%5D%3B%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%3B%0A%20%20%20%20%20%20const%20obj%20%3D%20dr%5BOBJECT%5D%3B%0A%0A%20%20%20%20%20%20if%20(!(SIDE_MODE%20in%20dr))%20dr%5BSIDE_MODE%5D%20%3D%20THREE.DoubleSide%3B%0A%20%20%20%20%20%20if%20(!(TEX_FILTER%20in%20dr))%20dr%5BTEX_FILTER%5D%20%3D%20THREE.LinearMipmapLinearFilter%3B%0A%0A%20%20%20%20%20%20obj.material.side%20%3D%20dr%5BSIDE_MODE%5D%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20const%20texture%20%3D%20obj.material.map%3B%0A%20%20%20%20%20%20texture.minFilter%20%3D%20dr%5BTEX_FILTER%5D%3B%0A%20%20%20%20%20%20texture.magFilter%20%3D%20dr%5BTEX_FILTER%5D%3B%0A%20%20%20%20%20%20if%20(texture.magFilter%20%3D%3D%3D%20THREE.LinearMipmapLinearFilter)%0A%20%20%20%20%20%20%20%20texture.magFilter%20%3D%20THREE.LinearFilter%3B%0A%0A%20%20%20%20%20%20obj.material.transparent%20%3D%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20disable3DForDrawable(drawableID)%20%7B%0A%20%20%20%20%20%20const%20dr%20%3D%20renderer._allDrawables%5BdrawableID%5D%3B%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%3B%0A%0A%20%20%20%20%20%20dr%5BIN_3D%5D%20%3D%20false%3B%0A%0A%20%20%20%20%20%20dr%5BZ_POS%5D%20%3D%20dr%5BOBJECT%5D.position.z%3B%0A%20%20%20%20%20%20delete%20dr%5BZ_STRETCH%5D%3B%0A%0A%20%20%20%20%20%20dr%5BOBJECT%5D.removeFromParent()%3B%0A%20%20%20%20%20%20dr%5BOBJECT%5D.material.dispose()%3B%0A%20%20%20%20%20%20if%20(dr%5BOBJECT%5D.material.map)%20dr%5BOBJECT%5D.material.map.dispose()%3B%0A%20%20%20%20%20%20dr%5BOBJECT%5D.geometry.dispose()%3B%0A%20%20%20%20%20%20dr%5BOBJECT%5D%20%3D%20null%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20%2F%2F%2F%20BLOCKS%20%2F%2F%2F%0A%0A%20%20%20%20setMode(%7B%20MODE%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%0A%20%20%20%20%20%20this.init()%3B%0A%20%20%20%20%20%20switch%20(MODE)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22disabled%22%3A%0A%20%20%20%20%20%20%20%20%20%20this.disable3DForDrawable(util.target.drawableID)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22flat%22%3A%0A%20%20%20%20%20%20%20%20case%20%22flat%20triangle%22%3A%0A%20%20%20%20%20%20%20%20case%20%22sprite%22%3A%0A%20%20%20%20%20%20%20%20case%20%22cube%22%3A%0A%20%20%20%20%20%20%20%20case%20%22sphere%22%3A%0A%20%20%20%20%20%20%20%20case%20%22low-poly%20sphere%22%3A%0A%20%20%20%20%20%20%20%20%20%20this.disable3DForDrawable(util.target.drawableID)%3B%0A%20%20%20%20%20%20%20%20%20%20this.enable3DForDrawable(util.target.drawableID%2C%20MODE)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(util.target.renderer)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Update%20properties%0A%20%20%20%20%20%20%20%20%20%20%20%20this.refreshThreeDrawable(util.target)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20refreshThreeDrawable(target)%20%7B%0A%20%20%20%20%20%20const%20%7Bdirection%2C%20scale%7D%20%3D%20target._getRenderedDirectionAndScale()%3B%0A%20%20%20%20%20%20const%20dr%20%3D%20target.renderer._allDrawables%5Btarget.drawableID%5D%3B%0A%20%20%20%20%20%20dr.updatePosition(%5Btarget.x%2C%20target.y%5D)%3B%0A%20%20%20%20%20%20dr.updateDirection(direction)%3B%0A%20%20%20%20%20%20dr.updateScale(scale)%3B%0A%20%20%20%20%20%20dr.updateVisible(target.visible)%3B%0A%20%20%20%20%20%20if%20(dr%5BOBJECT%5D)%20%7B%0A%20%20%20%20%20%20%20%20dr%5BOBJECT%5D.position.z%20%3D%20dr%5BZ_POS%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.updateSpriteAngle(%7Btarget%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setZ(%7B%20Z%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%0A%20%20%20%20%20%20const%20dr%20%3D%20renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%3B%0A%0A%20%20%20%20%20%20dr%5BOBJECT%5D.position.z%20%3D%20Scratch.Cast.toNumber(Z)%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20changeZ(%7B%20Z%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%0A%20%20%20%20%20%20const%20dr%20%3D%20renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%3B%0A%0A%20%20%20%20%20%20const%20z%20%3D%20Scratch.Cast.toNumber(Z)%3B%0A%20%20%20%20%20%20dr%5BOBJECT%5D.position.z%20%2B%3D%20z%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getZ(args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%200%3B%0A%0A%20%20%20%20%20%20const%20dr%20%3D%20renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%20%20%20%20%20%20if%20(!dr%5BOBJECT%5D)%20return%200%3B%0A%20%20%20%20%20%20return%20dr%5BOBJECT%5D.position.z%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setZStretch(%7B%20STRETCH%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%0A%20%20%20%20%20%20const%20dr%20%3D%20renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%3B%0A%0A%20%20%20%20%20%20%2F%2F%20empty%20strings%20and%20invalid%20numbers%20should%20use%20the%20horizontal%20scale%0A%20%20%20%20%20%20if%20(isNaN(STRETCH)%20%7C%7C%20(typeof%20STRETCH%20%3D%3D%3D%20%22string%22%20%26%26%20!STRETCH.trim()))%0A%20%20%20%20%20%20%20%20delete%20dr%5BZ_STRETCH%5D%3B%0A%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20dr%5BZ_STRETCH%5D%20%3D%20%2BSTRETCH%3B%0A%20%20%20%20%20%20%2F%2F%20%40ts-expect-error%20wrong%20type%0A%20%20%20%20%20%20dr.updateScale(dr.scale)%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getZStretch(_args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%20%22%22%3B%0A%0A%20%20%20%20%20%20const%20dr%20%3D%20renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%20%20%20%20%20%20return%20dr%5BZ_STRETCH%5D%20%3F%3F%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20mod(n%2C%20modulus)%20%7B%0A%20%20%20%20%20%20let%20result%20%3D%20n%20%25%20modulus%3B%0A%20%20%20%20%20%20%2F%2F%20Scratch%20mod%20uses%20floored%20division%20instead%20of%20truncated%20division.%0A%20%20%20%20%20%20if%20(result%20%2F%20modulus%20%3C%200)%20result%20%2B%3D%20modulus%3B%0A%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20wrapClamp(n%2C%20min%2C%20max)%20%7B%0A%20%20%20%20%20%20const%20offset%20%3D%20n%20-%20min%3B%0A%20%20%20%20%20%20const%20range%20%3D%20max%20-%20min%3B%0A%20%20%20%20%20%20return%20min%20%2B%20this.mod(offset%2C%20range)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20updateSpriteAngle(util)%20%7B%0A%20%20%20%20%20%20let%20dr%3B%0A%20%20%20%20%20%20if%20(util%3F.target)%20%7B%0A%20%20%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%20%20%20%20%20%20%20%20dr%20%3D%20renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20dr%20%3D%20util%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%3B%0A%20%20%20%20%20%20const%20obj%20%3D%20dr%5BOBJECT%5D%3B%0A%0A%20%20%20%20%20%20obj.rotation.x%20%3D%200%3B%0A%20%20%20%20%20%20obj.rotation.y%20%3D%200%3B%0A%20%20%20%20%20%20obj.rotation.z%20%3D%200%3B%0A%0A%20%20%20%20%20%20const%20WRAP_MIN%20%3D%20THREE.MathUtils.degToRad(-180)%3B%0A%20%20%20%20%20%20const%20WRAP_MAX%20%3D%20THREE.MathUtils.degToRad(180)%3B%0A%20%20%20%20%20%20dr%5BYAW%5D%20%3D%20this.wrapClamp(dr%5BYAW%5D%2C%20WRAP_MIN%2C%20WRAP_MAX)%3B%0A%20%20%20%20%20%20dr%5BPITCH%5D%20%3D%20this.wrapClamp(dr%5BPITCH%5D%2C%20WRAP_MIN%2C%20WRAP_MAX)%3B%0A%20%20%20%20%20%20dr%5BROLL%5D%20%3D%20this.wrapClamp(dr%5BROLL%5D%2C%20WRAP_MIN%2C%20WRAP_MAX)%3B%0A%0A%20%20%20%20%20%20obj.rotation.y%20%3D%20dr%5BYAW%5D%3B%0A%20%20%20%20%20%20obj.rotateOnAxis(%0A%20%20%20%20%20%20%20%20new%20THREE.Vector3(1%2C%200%2C%200)%2C%0A%20%20%20%20%20%20%20%20dr%5BPITCH%5D%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20obj.rotateOnAxis(%0A%20%20%20%20%20%20%20%20new%20THREE.Vector3(0%2C%200%2C%201)%2C%0A%20%20%20%20%20%20%20%20THREE.MathUtils.degToRad(90)%20-%20dr%5BROLL%5D%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20set3DPos(%7BX%2C%20Y%2C%20Z%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%0A%20%20%20%20%20%20X%20%3D%20Scratch.Cast.toNumber(X)%3B%0A%20%20%20%20%20%20Y%20%3D%20Scratch.Cast.toNumber(Y)%3B%0A%20%20%20%20%20%20util.target.setXY(X%2C%20Y)%3B%0A%20%20%20%20%20%20this.setZ(%7BZ%7D%2C%20util)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20change3DPos(%7BX%2C%20Y%2C%20Z%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%20%20%20%20%20%20const%20dx%20%3D%20Scratch.Cast.toNumber(X)%3B%0A%20%20%20%20%20%20const%20dy%20%3D%20Scratch.Cast.toNumber(Y)%3B%0A%20%20%20%20%20%20util.target.setXY(util.target.x%20%2B%20dx%2C%20util.target.y%20%2B%20dy)%3B%0A%0A%20%20%20%20%20%20this.changeZ(%7BZ%7D%2C%20util)%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20moveSteps(%7BSTEPS%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%20%20%20%20%20%20const%20dr%20%3D%20renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20const%20add%20%3D%20new%20THREE.Vector3(0%2C%200%2C%201)%0A%20%20%20%20%20%20%20%20%20%20.applyQuaternion(dr%5BOBJECT%5D.quaternion)%0A%20%20%20%20%20%20%20%20%20%20.multiplyScalar(-Scratch.Cast.toNumber(STEPS))%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20util.target.setXY(util.target.x%20%2B%20add.x%2C%20util.target.y%20%2B%20add.y)%3B%0A%20%20%20%20%20%20this.changeZ(%7BZ%3A%20add.z%7D%2C%20util)%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20rotate3D(%7BDIRECTION%2C%20DEGREES%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%20%20%20%20%20%20const%20dr%20%3D%20renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%3B%0A%0A%20%20%20%20%20%20if%20(!isFinite(DEGREES))%20return%3B%0A%0A%20%20%20%20%20%20DEGREES%20%3D%20Scratch.Cast.toNumber(DEGREES)%20*%0A%20%20%20%20%20%20%20%20((DIRECTION%20%3D%3D%3D%20%22left%22%20%7C%7C%20DIRECTION%20%3D%3D%3D%20%22down%22%20%7C%7C%20DIRECTION%20%3D%3D%3D%20%22ccw%22)%20%3F%20-1%20%3A%201)%3B%0A%0A%20%20%20%20%20%20switch%20(DIRECTION)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22left%22%3A%0A%20%20%20%20%20%20%20%20case%20%22right%22%3A%0A%20%20%20%20%20%20%20%20%20%20dr%5BYAW%5D%20-%3D%20THREE.MathUtils.degToRad(DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22up%22%3A%0A%20%20%20%20%20%20%20%20case%20%22down%22%3A%0A%20%20%20%20%20%20%20%20%20%20dr%5BPITCH%5D%20%2B%3D%20THREE.MathUtils.degToRad(DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22cw%22%3A%0A%20%20%20%20%20%20%20%20case%20%22ccw%22%3A%0A%20%20%20%20%20%20%20%20%20%20util.target.setDirection(util.target.direction%20%2B%20DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.updateSpriteAngle(util)%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20set3DDir(%7BDIRECTION%2C%20DEGREES%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%20%20%20%20%20%20const%20dr%20%3D%20renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%3B%0A%0A%20%20%20%20%20%20DEGREES%20%3D%20Scratch.Cast.toNumber(DEGREES)%3B%0A%0A%20%20%20%20%20%20if%20(!isFinite(DEGREES))%20return%3B%0A%0A%20%20%20%20%20%20switch%20(DIRECTION)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22y%22%3A%0A%20%20%20%20%20%20%20%20case%20%22angle%22%3A%20%2F%2F%20Old%20versions%20of%20the%20extension%20used%20angle%2Faim%2Froll%20instead%20of%20rotation%20around%20Y%2FX%2FZ%0A%20%20%20%20%20%20%20%20%20%20dr%5BYAW%5D%20%3D%20-THREE.MathUtils.degToRad(DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22x%22%3A%0A%20%20%20%20%20%20%20%20case%20%22aim%22%3A%0A%20%20%20%20%20%20%20%20%20%20dr%5BPITCH%5D%20%3D%20THREE.MathUtils.degToRad(DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22z%22%3A%0A%20%20%20%20%20%20%20%20case%20%22roll%22%3A%0A%20%20%20%20%20%20%20%20%20%20util.target.setDirection(DEGREES%20%2B%2090)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.updateSpriteAngle(util)%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20direction3D(%7BDIRECTION%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%200%3B%0A%20%20%20%20%20%20const%20dr%20%3D%20renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D)%20return%200%3B%0A%0A%20%20%20%20%20%20switch%20(DIRECTION)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22y%22%3A%0A%20%20%20%20%20%20%20%20case%20%22angle%22%3A%0A%20%20%20%20%20%20%20%20%20%20return%20-THREE.MathUtils.radToDeg(dr%5BYAW%5D)%3B%0A%20%20%20%20%20%20%20%20case%20%22x%22%3A%0A%20%20%20%20%20%20%20%20case%20%22aim%22%3A%0A%20%20%20%20%20%20%20%20%20%20return%20THREE.MathUtils.radToDeg(dr%5BPITCH%5D)%3B%0A%20%20%20%20%20%20%20%20case%20%22z%22%3A%0A%20%20%20%20%20%20%20%20case%20%22roll%22%3A%0A%20%20%20%20%20%20%20%20%20%20return%20THREE.MathUtils.radToDeg(dr%5BROLL%5D)%20-%2090%3B%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setSideMode(%7BSIDE%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%20%20%20%20%20%20const%20dr%20%3D%20renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%0A%20%20%20%20%20%20this.init()%3B%0A%0A%20%20%20%20%20%20const%20sides%20%3D%20Object.assign(Object.create(null)%2C%20%7B%0A%20%20%20%20%20%20%20%20front%3A%20THREE.FrontSide%2C%0A%20%20%20%20%20%20%20%20back%3A%20THREE.BackSide%2C%0A%20%20%20%20%20%20%20%20both%3A%20THREE.DoubleSide%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20if%20(!(SIDE%20in%20sides))%20return%3B%0A%20%20%20%20%20%20dr%5BSIDE_MODE%5D%20%3D%20sides%5BSIDE%5D%3B%0A%20%20%20%20%20%20if%20(dr%5BOBJECT%5D%20%26%26%20dr%5BOBJECT%5D.material)%20%7B%0A%20%20%20%20%20%20%20%20dr%5BOBJECT%5D.material.side%20%3D%20sides%5BSIDE%5D%3B%0A%20%20%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20updateAttachment(dr)%20%7B%0A%20%20%20%20%20%20if%20(!this.scene)%20return%3B%0A%20%20%20%20%20%20if%20(dr%5BIN_3D%5D)%20%7B%0A%20%20%20%20%20%20%20%20const%20newParent%20%3D%20dr%5BATTACHED_TO%5D%3F.%5BOBJECT%5D%20%7C%7C%20this.scene%3B%0A%20%20%20%20%20%20%20%20if%20(dr%5BOBJECT%5D.parent%20!%3D%3D%20newParent)%20%7B%0A%20%20%20%20%20%20%20%20%20%20dr%5BOBJECT%5D.removeFromParent()%3B%0A%20%20%20%20%20%20%20%20%20%20newParent.add(dr%5BOBJECT%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20attach(%7BTARGET%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%20%20%20%20%20%20const%20targetObj%20%3D%20runtime.getSpriteTargetByName(Scratch.Cast.toString(TARGET))%3B%0A%20%20%20%20%20%20if%20(!targetObj)%20return%3B%0A%20%20%20%20%20%20const%20dr%20%3D%20renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%20%20%20%20%20%20const%20targetDr%20%3D%20renderer._allDrawables%5BtargetObj.drawableID%5D%3B%0A%20%20%20%20%20%20if%20(dr%20%3D%3D%3D%20targetDr)%20return%3B%0A%0A%20%20%20%20%20%20dr%5BATTACHED_TO%5D%20%3D%20targetDr%3B%0A%20%20%20%20%20%20this.updateAttachment(dr)%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20attachVar(%7BVARIABLE%2C%20VALUE%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%20%20%20%20%20%20VARIABLE%20%3D%20Scratch.Cast.toString(VARIABLE)%3B%0A%20%20%20%20%20%20VALUE%20%3D%20Scratch.Cast.toString(VALUE)%3B%0A%0A%20%20%20%20%20%20const%20dr%20%3D%20renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%20%20%20%20%20%20let%20targetDr%20%3D%20undefined%3B%0A%20%20%20%20%20%20for%20(const%20target%20of%20runtime.targets)%20%7B%0A%20%20%20%20%20%20%20%20const%20variable%20%3D%20target.lookupVariableByNameAndType(VARIABLE%2C%20%22%22%2C%20true)%3B%0A%20%20%20%20%20%20%20%20if%20(variable%20%26%26%20Scratch.Cast.toString(variable%3F.value)%20%3D%3D%3D%20VALUE)%20%7B%0A%20%20%20%20%20%20%20%20%20%20targetDr%20%3D%20target.isStage%20%3F%20null%20%3A%20renderer._allDrawables%5Btarget.drawableID%5D%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(targetDr%20%3D%3D%3D%20undefined)%20return%3B%0A%20%20%20%20%20%20if%20(dr%20%3D%3D%3D%20targetDr)%20return%3B%0A%20%20%20%20%20%20dr%5BATTACHED_TO%5D%20%3D%20targetDr%3B%0A%20%20%20%20%20%20this.updateAttachment(dr)%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20detach(args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%20%20%20%20%20%20const%20dr%20%3D%20renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%20%20%20%20%20%20dr%5BATTACHED_TO%5D%20%3D%20null%3B%0A%0A%20%20%20%20%20%20this.updateAttachment(dr)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getAttachedSprite(dr)%20%7B%0A%20%20%20%20%20%20if%20(!dr%5BIN_3D%5D%20%7C%7C%20!dr%5BATTACHED_TO%5D)%20return%20null%3B%0A%20%20%20%20%20%20const%20attachedId%20%3D%20dr%5BATTACHED_TO%5D.id%3B%0A%20%20%20%20%20%20const%20attachedSprite%20%3D%20runtime.targets.find(target%20%3D%3E%20target.drawableID%20%3D%3D%3D%20attachedId)%3B%0A%20%20%20%20%20%20if%20(!attachedSprite)%20return%20null%3B%0A%20%20%20%20%20%20return%20attachedSprite%0A%20%20%20%20%7D%0A%0A%20%20%20%20attachedSprite(args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%20%22%22%3B%0A%0A%20%20%20%20%20%20const%20attachedSprite%20%3D%20this.getAttachedSprite(renderer._allDrawables%5Butil.target.drawableID%5D)%3B%0A%20%20%20%20%20%20if%20(!attachedSprite)%20return%20%22%22%3B%0A%20%20%20%20%20%20return%20attachedSprite.sprite.name%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20attachedSpriteVar(%7BVARIABLE%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%20%22%22%3B%0A%0A%20%20%20%20%20%20const%20attachedSprite%20%3D%20this.getAttachedSprite(renderer._allDrawables%5Butil.target.drawableID%5D)%3B%0A%20%20%20%20%20%20if%20(!attachedSprite)%20return%20%22%22%3B%0A%0A%20%20%20%20%20%20VARIABLE%20%3D%20Scratch.Cast.toString(VARIABLE)%3B%0A%20%20%20%20%20%20return%20attachedSprite.lookupVariableByNameAndType(VARIABLE%2C%20%22%22%2C%20true)%3F.value%20%3F%3F%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setTexFilter(%7BFILTER%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(util.target.isStage)%20return%3B%0A%20%20%20%20%20%20const%20dr%20%3D%20renderer._allDrawables%5Butil.target.drawableID%5D%3B%0A%0A%20%20%20%20%20%20this.init()%3B%0A%0A%20%20%20%20%20%20const%20filters%20%3D%20Object.assign(Object.create(null)%2C%20%7B%0A%20%20%20%20%20%20%20%20nearest%3A%20THREE.NearestFilter%2C%0A%20%20%20%20%20%20%20%20linear%3A%20THREE.LinearMipmapLinearFilter%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20if%20(!(FILTER%20in%20filters))%20return%3B%0A%20%20%20%20%20%20dr%5BTEX_FILTER%5D%20%3D%20filters%5BFILTER%5D%3B%0A%20%20%20%20%20%20if%20(dr%5BOBJECT%5D%20%26%26%20dr%5BOBJECT%5D.material%3F.map)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20i%20think%20for%20some%20reason%20you%20need%20to%20create%20a%20new%20texture%0A%20%20%20%20%20%20%20%20const%20cloned%20%3D%20dr%5BOBJECT%5D.material.map.clone()%3B%0A%20%20%20%20%20%20%20%20dr%5BOBJECT%5D.material.map.dispose()%3B%0A%20%20%20%20%20%20%20%20cloned.colorSpace%20%3D%20THREE.SRGBColorSpace%3B%0A%20%20%20%20%20%20%20%20dr%5BOBJECT%5D.material.map%20%3D%20cloned%3B%0A%20%20%20%20%20%20%20%20cloned.needsUpdate%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20this.updateMaterialForDrawable(util.target.drawableID)%0A%20%20%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20preUpdateCameraAngle()%20%7B%0A%20%20%20%20%20%20if%20(!(YAW%20in%20this.camera))%20this.camera%5BYAW%5D%20%3D%200%3B%0A%20%20%20%20%20%20if%20(!(PITCH%20in%20this.camera))%20this.camera%5BPITCH%5D%20%3D%200%3B%0A%20%20%20%20%20%20if%20(!(ROLL%20in%20this.camera))%20this.camera%5BROLL%5D%20%3D%200%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20updateCameraAngle()%20%7B%0A%20%20%20%20%20%20this.camera.rotation.x%20%3D%200%3B%0A%20%20%20%20%20%20this.camera.rotation.y%20%3D%200%3B%0A%20%20%20%20%20%20this.camera.rotation.z%20%3D%200%3B%0A%0A%20%20%20%20%20%20const%20WRAP_MIN%20%3D%20THREE.MathUtils.degToRad(-180)%3B%0A%20%20%20%20%20%20const%20WRAP_MAX%20%3D%20THREE.MathUtils.degToRad(180)%3B%0A%20%20%20%20%20%20this.camera%5BYAW%5D%20%3D%20this.wrapClamp(this.camera%5BYAW%5D%2C%20WRAP_MIN%2C%20WRAP_MAX)%3B%0A%20%20%20%20%20%20this.camera%5BPITCH%5D%20%3D%20this.wrapClamp(this.camera%5BPITCH%5D%2C%20WRAP_MIN%2C%20WRAP_MAX)%3B%0A%20%20%20%20%20%20this.camera%5BROLL%5D%20%3D%20this.wrapClamp(this.camera%5BROLL%5D%2C%20WRAP_MIN%2C%20WRAP_MAX)%3B%0A%0A%20%20%20%20%20%20this.camera.rotation.y%20%3D%20this.camera%5BYAW%5D%3B%0A%20%20%20%20%20%20this.camera.rotateOnAxis(%0A%20%20%20%20%20%20%20%20new%20THREE.Vector3(1%2C%200%2C%200)%2C%0A%20%20%20%20%20%20%20%20this.camera%5BPITCH%5D%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20this.camera.rotateOnAxis(%0A%20%20%20%20%20%20%20%20new%20THREE.Vector3(0%2C%200%2C%201)%2C%0A%20%20%20%20%20%20%20%20this.camera%5BROLL%5D%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setCam(%7B%20X%2C%20Y%2C%20Z%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%0A%20%20%20%20%20%20const%20x%20%3D%20Scratch.Cast.toNumber(X)%3B%0A%20%20%20%20%20%20const%20y%20%3D%20Scratch.Cast.toNumber(Y)%3B%0A%20%20%20%20%20%20const%20z%20%3D%20Scratch.Cast.toNumber(Z)%3B%0A%20%20%20%20%20%20this.camera.position.set(x%2C%20y%2C%20z)%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%20%20%20%20changeCam(%7B%20X%2C%20Y%2C%20Z%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%0A%20%20%20%20%20%20const%20x%20%3D%20Scratch.Cast.toNumber(X)%3B%0A%20%20%20%20%20%20const%20y%20%3D%20Scratch.Cast.toNumber(Y)%3B%0A%20%20%20%20%20%20const%20z%20%3D%20Scratch.Cast.toNumber(Z)%3B%0A%20%20%20%20%20%20const%20pos%20%3D%20this.camera.position%3B%0A%20%20%20%20%20%20pos.set(pos.x%20%2B%20x%2C%20pos.y%20%2B%20y%2C%20pos.z%20%2B%20z)%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%20%20%20%20camX(args%2C%20util)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%20%20%20%20%20%20return%20this.camera.position.x%3B%0A%20%20%20%20%7D%0A%20%20%20%20camY(args%2C%20util)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%20%20%20%20%20%20return%20this.camera.position.y%3B%0A%20%20%20%20%7D%0A%20%20%20%20camZ(args%2C%20util)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%20%20%20%20%20%20return%20this.camera.position.z%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20moveCamSteps(%7BSTEPS%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20this.camera.position.add(%0A%20%20%20%20%20%20%20%20new%20THREE.Vector3(0%2C%200%2C%201)%0A%20%20%20%20%20%20%20%20%20%20.applyQuaternion(this.camera.quaternion)%0A%20%20%20%20%20%20%20%20%20%20.multiplyScalar(-Scratch.Cast.toNumber(STEPS))%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20rotateCam(%7B%20DIRECTION%2C%20DEGREES%20%7D)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%0A%20%20%20%20%20%20DEGREES%20%3D%20Scratch.Cast.toNumber(DEGREES)%20*%0A%20%20%20%20%20%20%20%20((DIRECTION%20%3D%3D%3D%20%22left%22%20%7C%7C%20DIRECTION%20%3D%3D%3D%20%22down%22%20%7C%7C%20DIRECTION%20%3D%3D%3D%20%22ccw%22)%20%3F%20-1%20%3A%201)%3B%0A%0A%20%20%20%20%20%20this.preUpdateCameraAngle()%3B%0A%20%20%20%20%20%20switch%20(DIRECTION)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22left%22%3A%0A%20%20%20%20%20%20%20%20case%20%22right%22%3A%0A%20%20%20%20%20%20%20%20%20%20this.camera%5BYAW%5D%20-%3D%20THREE.MathUtils.degToRad(DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22up%22%3A%0A%20%20%20%20%20%20%20%20case%20%22down%22%3A%0A%20%20%20%20%20%20%20%20%20%20this.camera%5BPITCH%5D%20%2B%3D%20THREE.MathUtils.degToRad(DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22cw%22%3A%0A%20%20%20%20%20%20%20%20case%20%22ccw%22%3A%0A%20%20%20%20%20%20%20%20%20%20this.camera%5BROLL%5D%20%2B%3D%20THREE.MathUtils.degToRad(DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.updateCameraAngle()%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%20%20%20%20setCamDir(%7B%20DEGREES%2C%20DIRECTION%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%0A%20%20%20%20%20%20DEGREES%20%3D%20Scratch.Cast.toNumber(DEGREES)%3B%0A%0A%20%20%20%20%20%20this.preUpdateCameraAngle()%3B%0A%20%20%20%20%20%20switch%20(DIRECTION)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22y%22%3A%0A%20%20%20%20%20%20%20%20case%20%22angle%22%3A%0A%20%20%20%20%20%20%20%20%20%20this.camera%5BYAW%5D%20%3D%20-THREE.MathUtils.degToRad(DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22x%22%3A%0A%20%20%20%20%20%20%20%20case%20%22aim%22%3A%0A%20%20%20%20%20%20%20%20%20%20this.camera%5BPITCH%5D%20%3D%20THREE.MathUtils.degToRad(DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22z%22%3A%0A%20%20%20%20%20%20%20%20case%20%22roll%22%3A%0A%20%20%20%20%20%20%20%20%20%20this.camera%5BROLL%5D%20%3D%20THREE.MathUtils.degToRad(DEGREES)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.updateCameraAngle()%3B%0A%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%20%20%20%20camDir(%7B%20DIRECTION%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%0A%20%20%20%20%20%20this.preUpdateCameraAngle()%3B%0A%20%20%20%20%20%20switch%20(DIRECTION)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22y%22%3A%0A%20%20%20%20%20%20%20%20case%20%22angle%22%3A%0A%20%20%20%20%20%20%20%20%20%20return%20-THREE.MathUtils.radToDeg(this.camera%5BYAW%5D)%3B%0A%20%20%20%20%20%20%20%20case%20%22x%22%3A%0A%20%20%20%20%20%20%20%20case%20%22aim%22%3A%0A%20%20%20%20%20%20%20%20%20%20return%20THREE.MathUtils.radToDeg(this.camera%5BPITCH%5D)%3B%0A%20%20%20%20%20%20%20%20case%20%22z%22%3A%0A%20%20%20%20%20%20%20%20case%20%22roll%22%3A%0A%20%20%20%20%20%20%20%20%20%20return%20THREE.MathUtils.radToDeg(this.camera%5BROLL%5D)%3B%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setCameraParam(%7BPARAM%2C%20VALUE%7D)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%0A%20%20%20%20%20%20PARAM%20%3D%20Scratch.Cast.toString(PARAM)%3B%0A%20%20%20%20%20%20switch%20(PARAM)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22minimum%20render%20distance%22%3A%0A%20%20%20%20%20%20%20%20%20%20VALUE%20%3D%20Math.max(Scratch.Cast.toNumber(VALUE)%2C%200.1)%3B%0A%20%20%20%20%20%20%20%20%20%20this.camera.near%20%3D%20VALUE%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22maximum%20render%20distance%22%3A%0A%20%20%20%20%20%20%20%20%20%20VALUE%20%3D%20Math.min(Scratch.Cast.toNumber(VALUE)%2C%204800000)%3B%0A%20%20%20%20%20%20%20%20%20%20this.camera.far%20%3D%20VALUE%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22vertical%20FOV%22%3A%0A%20%20%20%20%20%20%20%20%20%20VALUE%20%3D%20Math.min(Math.max(Scratch.Cast.toNumber(VALUE)%2C%200.001)%2C%2036000)%0A%20%20%20%20%20%20%20%20%20%20this.camera.fov%20%3D%20VALUE%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20this.camera.updateProjectionMatrix()%3B%0A%20%20%20%20%20%20this.updateRenderer()%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20getCameraParam(%7BPARAM%7D)%20%7B%0A%20%20%20%20%20%20this.init()%3B%0A%0A%20%20%20%20%20%20PARAM%20%3D%20Scratch.Cast.toString(PARAM)%3B%0A%20%20%20%20%20%20switch%20(PARAM)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22minimum%20render%20distance%22%3A%0A%20%20%20%20%20%20%20%20%20%20return%20this.camera.near%3B%0A%20%20%20%20%20%20%20%20case%20%22maximum%20render%20distance%22%3A%0A%20%20%20%20%20%20%20%20%20%20return%20this.camera.far%3B%0A%20%20%20%20%20%20%20%20case%20%22vertical%20FOV%22%3A%0A%20%20%20%20%20%20%20%20%20%20return%20this.camera.fov%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20%40ts-expect-error%20-%20i%20have%20no%20idea%0A%20%20Scratch.extensions.register(new%20ThreeD())%3B%0A%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Tune%20Shark%20V3%0D%0A%2F%2F%20ID%3A%20SPtuneShark3%0D%0A%2F%2F%20Description%3A%20An%20advanced%20audio%20engine%2C%20providing%20complex%20sound%20control.%0D%0A%2F%2F%20By%3A%20SharkPool%0D%0A%2F%2F%20License%3A%20MIT%20AND%20LGPL-3.0%0D%0A%0D%0A%2F%2F%20Version%20V.3.5.01%0D%0A%2F%2F%20Thanks%20to%20HOME%20for%20the%20song%20%22Resonance%22%20being%20used%20as%20the%20default%20audio%20link%0D%0A%0D%0A(function%20(Scratch)%20%7B%0D%0A%20%20%22use%20strict%22%3B%0D%0A%20%20if%20(!Scratch.extensions.unsandboxed)%0D%0A%20%20%20%20throw%20new%20Error(Scratch.translate(%22Tune%20Shark%20V3%20must%20be%20run%20unsandboxed%22))%3B%0D%0A%0D%0A%20%20const%20menuIconURI%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDIuMTg1IiBoZWlnaHQ9IjEwMi4xODUiIHZpZXdCb3g9IjAgMCAxMDIuMTg1IDEwMi4xODUiPjxnIHN0cm9rZS1taXRlcmxpbWl0PSIxMCI%2BPHBhdGggZD0iTTAgNTEuMDkzQzAgMjIuODc1IDIyLjg3NSAwIDUxLjA5MyAwczUxLjA5MyAyMi44NzUgNTEuMDkzIDUxLjA5My0yMi44NzUgNTEuMDkzLTUxLjA5MyA1MS4wOTNTMCA3OS4zMTEgMCA1MS4wOTMiIGZpbGw9IiM0MDQwNDAiLz48cGF0aCBkPSJNNC44NiA1MS4wOTNjMC0yNS41MzQgMjAuNy00Ni4yMzMgNDYuMjMzLTQ2LjIzMyAyNS41MzQgMCA0Ni4yMzMgMjAuNyA0Ni4yMzMgNDYuMjMzIDAgMjUuNTM0LTIwLjcgNDYuMjMzLTQ2LjIzMyA0Ni4yMzMtMjUuNTM0IDAtNDYuMjMzLTIwLjctNDYuMjMzLTQ2LjIzMyIgZmlsbD0iIzY2NiIvPjxwYXRoIGQ9Ik03Mi44MzcgODYuNjQzdi0uMDAzYy0xLjI1NCAyLjUzNi00LjY2OCAzLjkzNS04LjI2NCAzLjE5Ny00LjExOC0uODQ0LTYuOTE1LTQuMTctNi4yNDYtNy40MjguNjY4LTMuMjYgNC41NDgtNS4yMTYgOC42NjYtNC4zNzEgMS44NzUuMzg0IDMuNDc0IDEuMjg0IDQuNiAyLjQ1N2w2LjY4My0xNC4xNzhjLTEwLjU2Ni00LjEzNS0xOS43Ni01LjA5Ni0xOS43Ni01LjA5NmwtOC45ODcgMTkuMDYxYy0uOTY2IDIuOTI3LTQuNjM2IDQuNjIyLTguNTIgMy44MjYtNC4xMTctLjg0NC02LjkxNC00LjE3LTYuMjQ2LTcuNDMuNjY5LTMuMjU4IDQuNTQ4LTUuMjE0IDguNjY3LTQuMzcgMS45MS4zOTEgMy41MzYgMS4zMTcgNC42NjQgMi41MjJsMTIuMDM1LTI1LjUwN3MxMy41MzIuMjM2IDI2Ljk0NyA3LjExNHoiIGZpbGw9IiNmZmYiLz48cGF0aCBkPSJtMjguMzA5IDMwLjgzMSA0LjA0MyAyMy42ODQiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIi8%2BPHBhdGggZD0iTTM0LjAzMyA1NS4yMTljMS4zOCAyLjYwNi0uNzcyIDYuMDQtNC44MDggNy42Ny00LjAzNyAxLjYzLTguNDI5LjgzNy05LjgxLTEuNzctMS4zOC0yLjYwNi43NzItNi4wNCA0LjgwOS03LjY3IDQuMDM2LTEuNjI5IDguNDI4LS44MzcgOS44MDkgMS43N20tNy45NS0yNy4wNjhzOS43MDUtMS43MDQgMTIuMzYzIDIuNzdjMi4zNzUgNCAuMDcxIDguNjk1LjIxMiAxMC4xMjguMTQgMS40MzMgMi4xNzUgMS4xMDkgMi4xNzUgMS4xMDlsLS4wMTQgMS42NzRzLTIuODY0LjY2OS0zLjQxMi0xLjMyYy0uNTQ3LTEuOTg4LS41Ni01Ljk3OC0yLjgyMy04LjIyNy0yLjI2NS0yLjI1LTcuNTM3LS43NTktNy41MzctLjc1OSIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik02MC40MzYgMzUuMzcxYy0uMzMzIDIuMTE4LTIuMzUzIDMuMzA5LTQuMTg5IDQuMDAyLTEuNjUuNzI2LTMuNTUgMS4wMDgtNS4yNzYuMzctMS42MzEtLjM4MS0zLjE4OC0xLjgwNy0yLjk5NC0zLjU5OC4xNTQtMi4wODUgMS44OTYtMy44MjIgMy44NDItNC40MDUgMS45NC0uNzk5IDQuMjUzLS43MyA2LjEwNS4yNi45MTMuNDIxIDIuMTg5LTE0LjE0MiAzLjAzNS0yMC41ODMuMS0uNjQyIDIuNTg0LS40NyAyLjUxMy4xNTEgMCAwLTEuODU0IDE1LjUyMi0zLjAzNiAyMy44MDMiIGZpbGw9IiNmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvZz48L3N2Zz4%3D%22%3B%0D%0A%20%20const%20blockIconURI%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3OC45NzQiIGhlaWdodD0iNzguOTc0IiB2aWV3Qm94PSIwIDAgNzguOTc0IDc4Ljk3NCI%2BPGcgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIj48cGF0aCBkPSJNMCA3OC45NzRWMGg3OC45NzR2NzguOTc0eiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Im02MS4yMDIgNTMuODM2LS4wMDItLjAwM2MtLjA2OCAzLjcxLTMuMzM3IDcuMjgtOC4wMTYgOC40MTYtNS4zNTkgMS4zMDItMTAuNTM4LTEuMDgtMTEuNTY4LTUuMzJzMi40OC04LjczMyA3LjgzOS0xMC4wMzVjMi40NC0uNTkzIDQuODQtLjQyIDYuODMxLjM0MnYtMjAuNTZjLTE0Ljg1IDEuMDAzLTI2LjI5OCA1LjAwNi0yNi4yOTggNS4wMDZ2MjcuNjQ0Yy40OSA0LjAxNC0yLjkxNiA4LjA3OC03Ljk3IDkuMzA2LTUuMzU4IDEuMzAxLTEwLjUzNy0xLjA4MS0xMS41NjctNS4zMjFzMi40OC04LjczMyA3LjgzOC0xMC4wMzVjMi40ODYtLjYwNCA0LjkzMy0uNDE0IDYuOTQ2LjM4NGwuMDEyLTM2Ljk5OHMxNi4xOS03LjI5IDM1Ljk1NS02LjYzM3oiIGZpbGw9IiNmZmYiLz48L2c%2BPC9zdmc%2B%22%3B%0D%0A%0D%0A%20%20const%20extraIcons%20%3D%20%7B%0D%0A%20%20%20%20set%3A%20%22dpZHRoPSI3OC45NzQiIGhlaWdodD0iNzguOTc0IiB2aWV3Qm94PSIwIDAgNzguOTc0IDc4Ljk3NCI%2BPGcgc3Ryb2tlLXdpZHRoPSIwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiID48cGF0aCBkPSJtNjQuNTMzIDQyLjYxIDIuMDQyLjg1NWE1LjAyIDUuMDIgMCAwIDEgMi42OSA2LjU3bC0xLjM3IDMuMjc0YTUuMDIgNS4wMiAwIDAgMS02LjU3IDIuNjlsLTIuMDQyLS44NTVhMjUgMjUgMCAwIDEtNC4yOTUgNC4yNmwuODQgMi4wNWE1LjAyIDUuMDIgMCAwIDEtMi43NDIgNi41NDhsLTMuMjg1IDEuMzQ1YTUuMDIgNS4wMiAwIDAgMS02LjU0OC0yLjc0MmwtLjg0LTIuMDVhMjUgMjUgMCAwIDEtNi4wNDktLjAyMmwtLjg1NSAyLjA0MmE1LjAyIDUuMDIgMCAwIDEtNi41NyAyLjY5bC0zLjI3NC0xLjM3YTUuMDIgNS4wMiAwIDAgMS0yLjY5LTYuNTdsLjg1NS0yLjA0MmEyNSAyNSAwIDAgMS00LjI2LTQuMjk1bC0yLjA1Ljg0YTUuMDIgNS4wMiAwIDAgMS02LjU0OC0yLjc0MmwtMS4zNDUtMy4yODVhNS4wMiA1LjAyIDAgMCAxIDIuNzQyLTYuNTQ4bDIuMDUtLjg0YTI1IDI1IDAgMCAxIC4wMjItNi4wNDlsLTIuMDQyLS44NTVhNS4wMiA1LjAyIDAgMCAxLTIuNjktNi41N2wxLjM3LTMuMjc0YTUuMDIgNS4wMiAwIDAgMSA2LjU3LTIuNjlsMi4wNDIuODU1YTI1IDI1IDAgMCAxIDQuMjk1LTQuMjZsLS44NC0yLjA1YTUuMDIgNS4wMiAwIDAgMSAyLjc0Mi02LjU0OGwzLjI4NS0xLjM0NWE1LjAyIDUuMDIgMCAwIDEgNi41NDggMi43NDJsLjg0IDIuMDVhMjUgMjUgMCAwIDEgNi4wNDkuMDIybC44NTUtMi4wNDJhNS4wMiA1LjAyIDAgMCAxIDYuNTctMi42OWwzLjI3NCAxLjM3YTUuMDIgNS4wMiAwIDAgMSAyLjY5IDYuNTdsLS44NTUgMi4wNDJhMjUgMjUgMCAwIDEgNC4yNiA0LjI5NWwyLjA1LS44NGE1LjAyIDUuMDIgMCAwIDEgNi41NDggMi43NDJsMS4zNDUgMy4yODVhNS4wMiA1LjAyIDAgMCAxLTIuNzQyIDYuNTQ4bC0yLjA1Ljg0YTI1IDI1IDAgMCAxLS4wMjIgNi4wNDltLTM3LjQ5OC04LjMzOGMtMi44OCA2Ljg3Ny4zNiAxNC43ODcgNy4yMzcgMTcuNjY3czE0Ljc4Ny0uMzYgMTcuNjY3LTcuMjM3LS4zNi0xNC43ODctNy4yMzctMTcuNjY3LTE0Ljc4Ny4zNi0xNy42NjcgNy4yMzciIGZpbGw9IiNmZmYiLz48cGF0aCBkPSJNMCA3OC45NzRWMGg3OC45NzR2NzguOTc0eiIgZmlsbD0ibm9uZSIvPjwvZz48L3N2Zz4%3D%22%2C%0D%0A%20%20%20%20nob%3A%20%22dpZHRoPSI3OC45NzQiIGhlaWdodD0iNzguOTc0IiB2aWV3Qm94PSIwIDAgNzguOTc0IDc4Ljk3NCI%2BPGcgc3Ryb2tlLXdpZHRoPSIwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiPjxwYXRoIGQ9Ik0wIDc4Ljk3NFYwaDc4Ljk3NHY3OC45NzR6IiBmaWxsPSJub25lIi8%2BPHBhdGggZD0iTTM3Ljk2MSAxMC44NDdhMi4xMDUgMi4xMDUgMCAwIDEtMi4xMDQtMi4xMDRWNS42OTJjMC0xLjE2My45NDItMi4xMDUgMi4xMDQtMi4xMDVoMy4wNTJjMS4xNjIgMCAyLjEwNC45NDIgMi4xMDQgMi4xMDV2My4wNTFhMi4xMDUgMi4xMDUgMCAwIDEtMi4xMDQgMi4xMDV6bTAgNjQuNTRhMi4xMDUgMi4xMDUgMCAwIDEtMi4xMDQtMi4xMDV2LTMuMDUxYzAtMS4xNjIuOTQyLTIuMTA1IDIuMTA0LTIuMTA1aDMuMDUyYzEuMTYyIDAgMi4xMDQuOTQzIDIuMTA0IDIuMTA1djMuMDUxYTIuMTA1IDIuMTA1IDAgMCAxLTIuMTA0IDIuMTA1em0yMC42OTgtNTcuMjNhMi4xMDUgMi4xMDUgMCAwIDEgMC0yLjk3NmwyLjE1OC0yLjE1OGEyLjEwNSAyLjEwNSAwIDAgMSAyLjk3NiAwbDIuMTU4IDIuMTU4YTIuMTA1IDIuMTA1IDAgMCAxIDAgMi45NzZsLTIuMTU4IDIuMTU4YTIuMTA1IDIuMTA1IDAgMCAxLTIuOTc2IDB6TTEzLjAyMyA2My43OTNhMi4xMDUgMi4xMDUgMCAwIDEgMC0yLjk3NmwyLjE1OC0yLjE1OGEyLjEwNSAyLjEwNSAwIDAgMSAyLjk3NiAwbDIuMTU4IDIuMTU4YTIuMTA1IDIuMTA1IDAgMCAxIDAgMi45NzZsLTIuMTU4IDIuMTU4YTIuMTA1IDIuMTA1IDAgMCAxLTIuOTc2IDB6bTU1LjEwNC0yNS44MzJjMC0xLjE2Mi45NDItMi4xMDQgMi4xMDQtMi4xMDRoMy4wNTFjMS4xNjMgMCAyLjEwNS45NDIgMi4xMDUgMi4xMDR2My4wNTJhMi4xMDUgMi4xMDUgMCAwIDEtMi4xMDUgMi4xMDRoLTMuMDUxYTIuMTA1IDIuMTA1IDAgMCAxLTIuMTA1LTIuMTA0em0tNjQuNTQgMGMwLTEuMTYyLjk0Mi0yLjEwNCAyLjEwNS0yLjEwNGgzLjA1MWMxLjE2MiAwIDIuMTA1Ljk0MiAyLjEwNSAyLjEwNHYzLjA1MmEyLjEwNSAyLjEwNSAwIDAgMS0yLjEwNSAyLjEwNEg1LjY5MmEyLjEwNSAyLjEwNSAwIDAgMS0yLjEwNS0yLjEwNHptNTcuMjMgMjAuNjk4YTIuMTA1IDIuMTA1IDAgMCAxIDIuOTc2IDBsMi4xNTggMi4xNThhMi4xMDUgMi4xMDUgMCAwIDEgMCAyLjk3NmwtMi4xNTggMi4xNThhMi4xMDUgMi4xMDUgMCAwIDEtMi45NzYgMGwtMi4xNTgtMi4xNThhMi4xMDUgMi4xMDUgMCAwIDEgMC0yLjk3NnpNMTUuMTgxIDEzLjAyM2EyLjEwNSAyLjEwNSAwIDAgMSAyLjk3NiAwbDIuMTU4IDIuMTU4YTIuMTA1IDIuMTA1IDAgMCAxIDAgMi45NzZsLTIuMTU4IDIuMTU4YTIuMTA1IDIuMTA1IDAgMCAxLTIuOTc2IDBsLTIuMTU4LTIuMTU4YTIuMTA1IDIuMTA1IDAgMCAxIDAtMi45NzZ6bTguNDE2IDEwLjQzYzcuNTQ2LTcuNTQ3IDE5LjA2NS04LjcwMiAyNy44MjctMy40NjUtLjEyNS4wOS0xMy4yNjQgMTcuODcyLTEyLjEzMyAxOS4wMDNsMS4wMzcgMS4wMzdjMS4xMyAxLjEzIDE4LjkxMy0xMi4wMDggMTkuMDAzLTEyLjEzMyA1LjIzNyA4Ljc2MiA0LjA4MiAyMC4yOC0zLjQ2NSAyNy44MjgtOC45MTEgOC45MS0yMy4zNTkgOC45MS0zMi4yNyAwLTguOTEtOC45MTEtOC45MS0yMy4zNTkgMC0zMi4yNyIgZmlsbD0iI2ZmZiIvPjwvZz48L3N2Zz4%3D%22%2C%0D%0A%20%20%20%20flag%3A%20%22ZpZXdCb3g9IjAgMCAxNi42MyAxNy41Ij48cGF0aCBkPSJNLjc1IDJhNi40NCA2LjQ0IDAgMCAxIDcuNjkgMGgwYTYuNDQgNi40NCAwIDAgMCA3LjY5IDB2MTAuNGE2LjQ0IDYuNDQgMCAwIDEtNy42OSAwaDBhNi40NCA2LjQ0IDAgMCAwLTcuNjkgMCIgc3R5bGU9ImZpbGw6IzRjYmY1NjtzdHJva2U6IzQ1OTkzZDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQiLz48cGF0aCBzdHlsZT0iZmlsbDojNGNiZjU2O3N0cm9rZTojNDU5OTNkO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6MS41cHgiIGQ9Ik0uNzUgMTYuNzV2LTE2Ii8%2BPC9zdmc%2B%22%2C%0D%0A%20%20%20%20stop%3A%20%22ZpZXdCb3g9IjAgMCAxNCAxNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI%2BPHBhdGggc3R5bGU9ImZpbGw6I2VjNTk1OTtzdHJva2U6I2I4NDg0ODtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MTAiIGQ9Ik00LjMuNWg1LjRsMy44IDMuOHY1LjRsLTMuOCAzLjhINC4zTC41IDkuN1Y0LjN6Ii8%2BPC9zdmc%2B%22%2C%0D%0A%20%20%7D%3B%0D%0A%20%20for%20(const%20key%20in%20extraIcons)%0D%0A%20%20%20%20extraIcons%5Bkey%5D%20%3D%0D%0A%20%20%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIH%22%20%2B%0D%0A%20%20%20%20%20%20extraIcons%5Bkey%5D%3B%0D%0A%0D%0A%20%20%2F%2F%20Modified%20Pizzicato%20Library%20(Web%20Audio%20API%2C%20but%20with%20Premade%20Effects%20and%20Stuff)%0D%0A%20%20%2F%2F%20Modified%20Version%3A%20https%3A%2F%2Fgithub.com%2FSharkPool-SP%2Fpizzicato%2F%0D%0A%20%20%2F%2F%20Original%3A%20https%3A%2F%2Fgithub.com%2Falemangui%2Fpizzicato%0D%0A%20%20%2F%2F%20https%3A%2F%2Fgithub.com%2Falemangui%2Fpizzicato%2Fblob%2Fmaster%2FLICENSE%0D%0A%0D%0A%20%20%2F*%20eslint-disable%20*%2F%0D%0A%20%20const%20Pizzicato%20%3D%20(function()%7B%22use%20strict%22%3Bvar%20e%3D%7B%7D%2Ct%3De%2Ci%3D%22undefined%22!%3Dtypeof%20window%3Fwindow.AudioContext%7C%7Cwindow.webkitAudioContext%3A%22undefined%22!%3Dtypeof%20global%3Fglobal.AudioContext%7C%7Cglobal.webkitAudioContext%3Anull%3Bif(!i)throw%20Error(%22No%20AudioContext%20found%20in%20this%20environment.%22)%3Be.context%3Dnew%20i%3Bvar%20n%3De.context.createGain()%3Bn.connect(e.context.destination)%2Ce.Util%3D%7BisString%3Afunction(e)%7Breturn%22%5Bobject%20String%5D%22%3D%3D%3DtoString.call(e)%7D%2CisObject%3Afunction(e)%7Breturn%22%5Bobject%20Object%5D%22%3D%3D%3DtoString.call(e)%7D%2CisFunction%3Afunction(e)%7Breturn%22%5Bobject%20Function%5D%22%3D%3D%3DtoString.call(e)%7D%2CisNumber%3Afunction(e)%7Breturn%22%5Bobject%20Number%5D%22%3D%3D%3DtoString.call(e)%26%26e%3D%3D%3D%2Be%7D%2CisArray%3Afunction(e)%7Breturn%22%5Bobject%20Array%5D%22%3D%3D%3DtoString.call(e)%7D%2CisInRange%3Afunction(e%2Ci%2Cn)%7Breturn!!(t.Util.isNumber(e)%26%26t.Util.isNumber(i)%26%26t.Util.isNumber(n))%26%26e%3E%3Di%26%26e%3C%3Dn%7D%2CisBool%3Afunction(e)%7Breturn%22boolean%22%3D%3Dtypeof%20e%7D%2CisOscillator%3Afunction(e)%7Breturn%20e%26%26%22%5Bobject%20OscillatorNode%5D%22%3D%3D%3De.toString()%7D%2CisAudioBufferSourceNode%3Afunction(e)%7Breturn%20e%26%26%22%5Bobject%20AudioBufferSourceNode%5D%22%3D%3D%3De.toString()%7D%2CisSound%3Afunction(e)%7Breturn%20e%20instanceof%20t.Sound%7D%2CisEffect%3Afunction(t)%7Bfor(var%20i%20in%20e.Effects)if(t%20instanceof%20e.Effects%5Bi%5D)return!0%3Breturn!1%7D%2Cnormalize%3Afunction(e%2Ci%2Cn)%7Bif(t.Util.isNumber(e)%26%26t.Util.isNumber(i)%26%26t.Util.isNumber(n))return(n-i)*e%2F1%2Bi%7D%2CgetDryLevel%3Afunction(e)%7Breturn!t.Util.isNumber(e)%7C%7Ce%3E1%7C%7Ce%3C0%3F0%3Ae%3C%3D.5%3F1%3A1-(e-.5)*2%7D%2CgetWetLevel%3Afunction(e)%7Breturn!t.Util.isNumber(e)%7C%7Ce%3E1%7C%7Ce%3C0%3F0%3Ae%3E%3D.5%3F1%3A1-(.5-e)*2%7D%7D%3Bvar%20o%3DObject.getPrototypeOf(Object.getPrototypeOf(e.context.createGain()))%2Cs%3Do.connect%3Bo.connect%3Dfunction(e)%7Bvar%20i%3Dt.Util.isEffect(e)%3Fe.inputNode%3Ae%3Breturn%20s.call(this%2Ci)%2Ce%7D%2CObject.defineProperty(e%2C%22volume%22%2C%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20n.gain.value%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C1)%26%26n%26%26(n.gain.value%3De)%7D%7D)%2CObject.defineProperty(e%2C%22masterGainNode%22%2C%7Benumerable%3A!1%2Cget%3Afunction()%7Breturn%20n%7D%2Cset%3Afunction(e)%7Bconsole.error(%22Can't%20set%20the%20master%20gain%20node%22)%7D%7D)%2Ce.Events%3D%7Bon%3Afunction(e%2Ct%2Ci)%7Be%26%26t%26%26(this._events%3Dthis._events%7C%7C%7B%7D%2C(this._events%5Be%5D%7C%7C(this._events%5Be%5D%3D%5B%5D)).push(%7Bcallback%3At%2Ccontext%3Ai%7C%7Cthis%2Chandler%3Athis%7D))%7D%2Ctrigger%3Afunction(e)%7Bvar%20t%2Ci%2Cn%2Co%3Bif(e)%7Bfor(this._events%3Dthis._events%7C%7C%7B%7D%2Ct%3Dthis._events%5Be%5D%7C%7C(this._events%5Be%5D%3D%5B%5D)%2Co%3D0%2Ci%3DMath.max(0%2Carguments.length-1)%2Cn%3D%5B%5D%3Bo%3Ci%3Bo%2B%2B)n%5Bo%5D%3Darguments%5Bo%2B1%5D%3Bfor(o%3D0%3Bo%3Ct.length%3Bo%2B%2B)t%5Bo%5D.callback.apply(t%5Bo%5D.context%2Cn)%7D%7D%2Coff%3Afunction(e)%7Be%3Fthis._events%5Be%5D%3Dvoid%200%3Athis._events%3D%7B%7D%7D%7D%2Ce.Sound%3Dfunction(i%2Cn)%7Bvar%20o%3Dthis%2Cs%3De.Util%2Cr%3Dfunction%20e(t)%7Bif(t%26%26!s.isFunction(t)%26%26!s.isString(t)%26%26!s.isObject(t))return%22Description%20type%20not%20supported.%20Initialize%20a%20sound%20using%20an%20object%2C%20a%20function%20or%20a%20string.%22%3Bif(s.isObject(t))%7Bif(!s.isString(t.source)%7C%7C-1%3D%3D%3D%5B%22wave%22%2C%22file%22%2C%22input%22%2C%22script%22%2C%22sound%22%2C%22buffer%22%5D.indexOf(t.source))return%22Specified%20source%20not%20supported.%20Sources%20can%20be%20wave%2C%20file%2C%20input%20or%20script%22%3Bif(%22file%22%3D%3D%3Dt.source%26%26(!t.options%7C%7C!t.options.path))return%22A%20path%20is%20needed%20for%20sounds%20with%20a%20file%20source%22%3Bif(%22script%22%3D%3D%3Dt.source%26%26(!t.options%7C%7C!t.options.audioFunction))return%22An%20audio%20function%20is%20needed%20for%20sounds%20with%20a%20script%20source%22%7D%7D(i)%2Ca%3Ds.isObject(i)%26%26s.isObject(i.options)%3Bif(r)throw%20console.error(r)%2CError(%22Error%20initializing%20Pizzicato%20Sound%3A%20%22%2Br)%3Bfunction%20c(i%2Cn)%7Bi%3Di%7C%7C%7B%7D%2Cthis.getRawSourceNode%3Dfunction()%7Bvar%20t%3Dthis.sourceNode%3Fthis.sourceNode.frequency.value%3Ai.frequency%2Cn%3De.context.createOscillator()%3Breturn%20n.type%3Di.type%7C%7C%22sine%22%2Cn.frequency.value%3Dt%7C%7C440%2Cn%7D%2Cthis.sourceNode%3Dthis.getRawSourceNode()%2Cthis.sourceNode.gainSuccessor%3Dt.context.createGain()%2Cthis.sourceNode.connect(this.sourceNode.gainSuccessor)%2Cs.isFunction(n)%26%26n()%7Dfunction%20h(t%2Ci)%7Bt%3Ds.isArray(t)%3Ft%3A%5Bt%5D%3Bvar%20n%3Dnew%20XMLHttpRequest%3Bn.open(%22GET%22%2Ct%5B0%5D%2C!0)%2Cn.responseType%3D%22arraybuffer%22%2Cn.onload%3Dfunction(n)%7Be.context.decodeAudioData(n.target.response%2C(function(t)%7Bo.getRawSourceNode%3Dfunction()%7Bvar%20i%3De.context.createBufferSource()%3Breturn%20i.loop%3Dthis.loop%2Ci.buffer%3Dt%2Ci%7D%2Cs.isFunction(i)%26%26i()%7D).bind(o)%2C(function(e)%7Bif(console.error(%22Error%20decoding%20audio%20file%20%22%2Bt%5B0%5D)%2Ct.length%3E1)%7Bt.shift()%2Ch(t%2Ci)%3Breturn%7De%3De%7C%7CError(%22Error%20decoding%20audio%20file%20%22%2Bt%5B0%5D)%2Cs.isFunction(i)%26%26i(e)%7D).bind(o))%7D%2Cn.onreadystatechange%3Dfunction(e)%7B4%3D%3D%3Dn.readyState%26%26200!%3D%3Dn.status%26%26console.error(%22Error%20while%20fetching%20%22%2Bt%5B0%5D%2B%22.%20%22%2Bn.statusText)%7D%2Cn.send()%7Dfunction%20u(t%2Ci)%7Bvar%20n%3Ds.isFunction(t)%3Ft%3At.audioFunction%2Co%3Ds.isObject(t)%26%26t.bufferSize%3Ft.bufferSize%3Anull%3Bif(!o)try%7Be.context.createScriptProcessor()%7Dcatch(r)%7Bo%3D2048%7Dthis.getRawSourceNode%3Dfunction()%7Bvar%20t%3De.context.createScriptProcessor(o%2C1%2C1)%3Breturn%20t.onaudioprocess%3Dn%2Ct%7D%7Dthis.detached%3Da%26%26i.options.detached%2Cthis.masterVolume%3De.context.createGain()%2Cthis.fadeNode%3De.context.createGain()%2Cthis.fadeNode.gain.value%3D0%2Cthis.detached%7C%7Cthis.masterVolume.connect(e.masterGainNode)%2Cthis.lastTimePlayed%3D0%2Cthis.effects%3D%5B%5D%2Cthis.effectConnectors%3D%5B%5D%2Cthis.playing%3Dthis.paused%3D!1%2Cthis.loop%3Da%26%26i.options.loop%2Cthis.attack%3Da%26%26s.isNumber(i.options.attack)%3Fi.options.attack%3A.04%2Cthis.volume%3Da%26%26s.isNumber(i.options.volume)%3Fi.options.volume%3A1%2Ca%26%26s.isNumber(i.options.release)%3Fthis.release%3Di.options.release%3Aa%26%26s.isNumber(i.options.sustain)%3F(console.warn(%22'sustain'%20is%20deprecated.%20Use%20'release'%20instead.%22)%2Cthis.release%3Di.options.sustain)%3Athis.release%3D.04%2Ci%3Fs.isString(i)%3Fh.bind(this)(i%2Cn)%3As.isFunction(i)%3Fu.bind(this)(i%2Cn)%3A%22file%22%3D%3D%3Di.source%3Fh.bind(this)(i.options.path%2Cn)%3A%22wave%22%3D%3D%3Di.source%3Fc.bind(this)(i.options%2Cn)%3A%22input%22%3D%3D%3Di.source%3F(function%20t(i%2Cn)%7Bif(navigator.getUserMedia%3Dnavigator.getUserMedia%7C%7Cnavigator.webkitGetUserMedia%7C%7Cnavigator.mozGetUserMedia%7C%7Cnavigator.msGetUserMedia%2C!navigator.getUserMedia%26%26(!navigator.mediaDevices%7C%7Cnavigator.mediaDevices.getUserMedia))%7Bconsole.error(%22Your%20browser%20does%20not%20support%20getUserMedia.%20Note%20that%20the%20current%20document%20must%20be%20loaded%20securely%20for%20this%20to%20work%22)%3Breturn%7Dvar%20r%3D(function(t)%7Bo.getRawSourceNode%3Dfunction()%7Breturn%20e.context.createMediaStreamSource(t)%7D%2Cs.isFunction(n)%26%26n()%7D).bind(o)%2Ca%3Dfunction(e)%7Bs.isFunction(n)%26%26n(e)%7D%3Bnavigator.mediaDevices.getUserMedia%3Fnavigator.mediaDevices.getUserMedia(%7Baudio%3A!0%7D).then(r).catch(a)%3Anavigator.getUserMedia(%7Baudio%3A!0%7D%2Cr%2Ca)%7D).bind(this)(i%2Cn)%3A%22script%22%3D%3D%3Di.source%3Fu.bind(this)(i.options%2Cn)%3A%22sound%22%3D%3D%3Di.source%3F(function%20e(i%2Cn)%7Bthis.getRawSourceNode%3Di.sound.getRawSourceNode%2Ci.sound.sourceNode%26%26t.Util.isOscillator(i.sound.sourceNode)%26%26(this.sourceNode%3Dthis.getRawSourceNode()%2Cthis.frequency%3Di.sound.frequency)%7D).bind(this)(i.options%2Cn)%3A%22buffer%22%3D%3D%3Di.source%26%26(function%20t(i%2Cn)%7Blet%20o%3DArray.isArray(i)%3Fi%5B0%5D%3Ai%3Bo%20instanceof%20AudioBuffer%3F(this.getRawSourceNode%3Dfunction()%7Blet%20t%3De.context.createBufferSource()%3Breturn%20t.loop%3Dthis.loop%2Ct.buffer%3Do%2Ct%7D%2C%22function%22%3D%3Dtypeof%20n%26%26n())%3Aconsole.error(%22Invalid%20buffer%20provided.%20Expected%20an%20AudioBuffer.%22)%7D).bind(this)(i.options.buffer%2Cn)%3Ac.bind(this)(%7B%7D%2Cn)%7D%2Ce.Sound.prototype%3DObject.create(e.Events%2C%7Bplay%3A%7Benumerable%3A!0%2Cvalue%3Afunction(i%2Cn)%7Bthis.playing%7C%7C(t.Util.isNumber(n)%7C%7C(n%3Dthis.offsetTime%7C%7C0)%2Ct.Util.isNumber(i)%7C%7C(i%3D0)%2Cthis.playing%3D!0%2Cthis.paused%3D!1%2Cthis.sourceNode%3Dthis.getSourceNode()%2Cthis.applyAttack()%2Ct.Util.isFunction(this.sourceNode.start)%26%26(this.lastTimePlayed%3De.context.currentTime-n%2Cthis.sourceNode.start(t.context.currentTime%2Bi%2Cn))%2Cthis.trigger(%22play%22))%7D%7D%2Cstop%3A%7Benumerable%3A!0%2Cvalue%3Afunction()%7B(this.paused%7C%7Cthis.playing)%26%26(this.paused%3Dthis.playing%3D!1%2Cthis.stopWithRelease()%2Cthis.offsetTime%3D0%2Cthis.trigger(%22stop%22))%7D%7D%2Cpause%3A%7Benumerable%3A!0%2Cvalue%3Afunction()%7Bif(!this.paused%26%26this.playing)%7Bthis.paused%3D!0%2Cthis.playing%3D!1%2Cthis.stopWithRelease()%3Bvar%20e%3Dt.context.currentTime-this.lastTimePlayed%3Bthis.sourceNode.buffer%3Fthis.offsetTime%3De%25(this.sourceNode.buffer.length%2Ft.context.sampleRate)%3Athis.offsetTime%3De%2Cthis.trigger(%22pause%22)%7D%7D%7D%2Cclone%3A%7Benumerable%3A!0%2Cvalue%3Afunction()%7Bfor(var%20t%3Dnew%20e.Sound(%7Bsource%3A%22sound%22%2Coptions%3A%7Bloop%3Athis.loop%2Cattack%3Athis.attack%2Crelease%3Athis.release%2Cvolume%3Athis.volume%2Csound%3Athis%7D%7D)%2Ci%3D0%3Bi%3Cthis.effects.length%3Bi%2B%2B)t.addEffect(this.effects%5Bi%5D)%3Breturn%20t%7D%7D%2ConEnded%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Breturn%20function()%7Bthis.sourceNode%26%26this.sourceNode!%3D%3De%7C%7C(this.playing%26%26this.stop()%2Cthis.paused%7C%7Cthis.trigger(%22end%22))%7D%7D%7D%2CaddEffect%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Bif(!t.Util.isEffect(e))return%20console.error(%22The%20object%20provided%20is%20not%20a%20Pizzicato%20effect.%22)%2Cthis%3Bthis.effects.push(e)%3Bvar%20i%3Dthis.effectConnectors.length%3E0%3Fthis.effectConnectors%5Bthis.effectConnectors.length-1%5D%3Athis.fadeNode%3Bi.disconnect()%2Ci.connect(e)%3Bvar%20n%3Dt.context.createGain()%3Breturn%20this.effectConnectors.push(n)%2Ce.connect(n)%2Cn.connect(this.masterVolume)%2Cthis%7D%7D%2CremoveEffect%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Bvar%20t%2Ci%3Dthis.effects.indexOf(e)%3Bif(-1%3D%3D%3Di)return%20console.warn(%22Cannot%20remove%20effect%20that%20is%20not%20applied%20to%20this%20sound.%22)%2Cthis%3Bvar%20n%3Dthis.playing%3Bn%26%26this.pause()%3Bvar%20o%3D0%3D%3D%3Di%3Fthis.fadeNode%3Athis.effectConnectors%5Bi-1%5D%3Bo.disconnect()%3Bvar%20s%3Dthis.effectConnectors%5Bi%5D%3Breturn%20s.disconnect()%2Ce.disconnect(s)%2Cthis.effectConnectors.splice(i%2C1)%2Cthis.effects.splice(i%2C1)%2Ct%3Di%3Ethis.effects.length-1%7C%7C0%3D%3D%3Dthis.effects.length%3Fthis.masterVolume%3Athis.effects%5Bi%5D%2Co.connect(t)%2Cn%26%26this.play()%2Cthis%7D%7D%2Cconnect%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Breturn%20this.masterVolume.connect(e)%2Cthis%7D%7D%2Cdisconnect%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Breturn%20this.masterVolume.disconnect(e)%2Cthis%7D%7D%2CconnectEffects%3A%7Benumerable%3A!0%2Cvalue%3Afunction()%7Bfor(var%20e%3D%5B%5D%2Ci%3D0%3Bi%3Cthis.effects.length%3Bi%2B%2B)%7Bvar%20n%3Di%3D%3D%3Dthis.effects.length-1%3Fthis.masterVolume%3Athis.effects%5Bi%2B1%5D.inputNode%3Be%5Bi%5D%3Dt.context.createGain()%2Cthis.effects%5Bi%5D.outputNode.disconnect(this.effectConnectors%5Bi%5D)%2Cthis.effects%5Bi%5D.outputNode.connect(n)%7D%7D%7D%2Cvolume%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Bif(this.masterVolume)return%20this.masterVolume.gain.value%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C1)%26%26this.masterVolume%26%26(this.masterVolume.gain.value%3De)%7D%7D%2Cfrequency%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.sourceNode%26%26t.Util.isOscillator(this.sourceNode)%3Fthis.sourceNode.frequency.value%3Anull%7D%2Cset%3Afunction(e)%7Bthis.sourceNode%26%26t.Util.isOscillator(this.sourceNode)%26%26(this.sourceNode.frequency.value%3De)%7D%7D%2Csustain%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20console.warn(%22'sustain'%20is%20deprecated.%20Use%20'release'%20instead.%22)%2Cthis.release%7D%2Cset%3Afunction(e)%7Bconsole.warn(%22'sustain'%20is%20deprecated.%20Use%20'release'%20instead.%22)%2Ct.Util.isInRange(e%2C0%2C10)%26%26(this.release%3De)%7D%7D%2CgetSourceNode%3A%7Benumerable%3A!0%2Cvalue%3Afunction()%7Bif(this.sourceNode)%7Bvar%20e%3Dthis.sourceNode%3Be.gainSuccessor.gain.setValueAtTime(e.gainSuccessor.gain.value%2Ct.context.currentTime)%2Ce.gainSuccessor.gain.linearRampToValueAtTime(1e-4%2Ct.context.currentTime%2B.2)%2CsetTimeout(function()%7Be.disconnect()%2Ce.gainSuccessor.disconnect()%7D%2C200)%7Dvar%20i%3Dthis.getRawSourceNode()%3Breturn%20i.gainSuccessor%3Dt.context.createGain()%2Ci.connect(i.gainSuccessor)%2Ci.gainSuccessor.connect(this.fadeNode)%2Cthis.fadeNode.connect(this.getInputNode())%2Ct.Util.isAudioBufferSourceNode(i)%26%26(i.onended%3Dthis.onEnded(i).bind(this))%2Ci%7D%7D%2CgetInputNode%3A%7Benumerable%3A!0%2Cvalue%3Afunction()%7Breturn%20this.effects.length%3E0%3Fthis.effects%5B0%5D.inputNode%3Athis.masterVolume%7D%7D%2CapplyAttack%3A%7Benumerable%3A!1%2Cvalue%3Afunction()%7Bif(this.fadeNode.gain.value%2Cthis.fadeNode.gain.cancelScheduledValues(t.context.currentTime)%2C!this.attack)%7Bthis.fadeNode.gain.setTargetAtTime(1%2Ct.context.currentTime%2C.001)%3Breturn%7Dvar%20e%3Dnavigator.userAgent.toLowerCase().indexOf(%22firefox%22)%3E-1%2Ci%3Dthis.attack%3Be%7C%7C(i%3D(1-this.fadeNode.gain.value)*this.attack)%2Cthis.fadeNode.gain.setTargetAtTime(1%2Ct.context.currentTime%2C2*i)%7D%7D%2CstopWithRelease%3A%7Benumerable%3A!1%2Cvalue%3Afunction(e)%7Bvar%20i%3Dthis.sourceNode%2Cn%3Dfunction()%7Breturn%20t.Util.isFunction(i.stop)%3Fi.stop(0)%3Ai.disconnect()%7D%3Bif(this.fadeNode.gain.value%2Cthis.fadeNode.gain.cancelScheduledValues(t.context.currentTime)%2C!this.release)%7Bthis.fadeNode.gain.setTargetAtTime(0%2Ct.context.currentTime%2C.001)%2Cn()%3Breturn%7Dvar%20o%3Dnavigator.userAgent.toLowerCase().indexOf(%22firefox%22)%3E-1%2Cs%3Dthis.release%3Bo%7C%7C(s%3Dthis.fadeNode.gain.value*this.release)%2Cthis.fadeNode.gain.setTargetAtTime(1e-5%2Ct.context.currentTime%2Cs%2F5)%2Cwindow.setTimeout(function()%7Bn()%7D%2C1e3*s)%7D%7D%7D)%2Ce.Group%3Dfunction(e)%7Be%3De%7C%7C%5B%5D%2Cthis.mergeGainNode%3Dt.context.createGain()%2Cthis.masterVolume%3Dt.context.createGain()%2Cthis.sounds%3D%5B%5D%2Cthis.effects%3D%5B%5D%2Cthis.effectConnectors%3D%5B%5D%2Cthis.mergeGainNode.connect(this.masterVolume)%2Cthis.masterVolume.connect(t.masterGainNode)%3Bfor(var%20i%3D0%3Bi%3Ce.length%3Bi%2B%2B)this.addSound(e%5Bi%5D)%7D%2Ce.Group.prototype%3DObject.create(t.Events%2C%7Bconnect%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Breturn%20this.masterVolume.connect(e)%2Cthis%7D%7D%2Cdisconnect%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Breturn%20this.masterVolume.disconnect(e)%2Cthis%7D%7D%2CaddSound%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Bif(!t.Util.isSound(e))%7Bconsole.error(%22You%20can%20only%20add%20Pizzicato.Sound%20objects%22)%3Breturn%7Dif(this.sounds.indexOf(e)%3E-1)%7Bconsole.warn(%22The%20Pizzicato.Sound%20object%20was%20already%20added%20to%20this%20group%22)%3Breturn%7Dif(e.detached)%7Bconsole.warn(%22Groups%20do%20not%20support%20detached%20sounds.%20You%20can%20manually%20create%20an%20audio%20graph%20to%20group%20detached%20sounds%20together.%22)%3Breturn%7De.disconnect(t.masterGainNode)%2Ce.connect(this.mergeGainNode)%2Cthis.sounds.push(e)%7D%7D%2CremoveSound%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Bvar%20i%3Dthis.sounds.indexOf(e)%3Bif(-1%3D%3D%3Di)%7Bconsole.warn(%22Cannot%20remove%20a%20sound%20that%20is%20not%20part%20of%20this%20group.%22)%3Breturn%7De.disconnect(this.mergeGainNode)%2Ce.connect(t.masterGainNode)%2Cthis.sounds.splice(i%2C1)%7D%7D%2Cvolume%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Bif(this.masterVolume)return%20this.masterVolume.gain.value%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C1)%26%26(this.masterVolume.gain.value%3De)%7D%7D%2Cplay%3A%7Benumerable%3A!0%2Cvalue%3Afunction()%7Bfor(var%20e%3D0%3Be%3Cthis.sounds.length%3Be%2B%2B)this.sounds%5Be%5D.play()%3Bthis.trigger(%22play%22)%7D%7D%2Cstop%3A%7Benumerable%3A!0%2Cvalue%3Afunction()%7Bfor(var%20e%3D0%3Be%3Cthis.sounds.length%3Be%2B%2B)this.sounds%5Be%5D.stop()%3Bthis.trigger(%22stop%22)%7D%7D%2Cpause%3A%7Benumerable%3A!0%2Cvalue%3Afunction()%7Bfor(var%20e%3D0%3Be%3Cthis.sounds.length%3Be%2B%2B)this.sounds%5Be%5D.pause()%3Bthis.trigger(%22pause%22)%7D%7D%2CaddEffect%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Bif(!t.Util.isEffect(e))return%20console.error(%22The%20object%20provided%20is%20not%20a%20Pizzicato%20effect.%22)%2Cthis%3Bthis.effects.push(e)%3Bvar%20i%3Dthis.effectConnectors.length%3E0%3Fthis.effectConnectors%5Bthis.effectConnectors.length-1%5D%3Athis.mergeGainNode%3Bi.disconnect()%2Ci.connect(e)%3Bvar%20n%3Dt.context.createGain()%3Breturn%20this.effectConnectors.push(n)%2Ce.connect(n)%2Cn.connect(this.masterVolume)%2Cthis%7D%7D%2CremoveEffect%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Bvar%20t%2Ci%3Dthis.effects.indexOf(e)%3Bif(-1%3D%3D%3Di)return%20console.warn(%22Cannot%20remove%20effect%20that%20is%20not%20applied%20to%20this%20group.%22)%2Cthis%3Bvar%20n%3D0%3D%3D%3Di%3Fthis.mergeGainNode%3Athis.effectConnectors%5Bi-1%5D%3Bn.disconnect()%3Bvar%20o%3Dthis.effectConnectors%5Bi%5D%3Breturn%20o.disconnect()%2Ce.disconnect(o)%2Cthis.effectConnectors.splice(i%2C1)%2Cthis.effects.splice(i%2C1)%2Ct%3Di%3Ethis.effects.length-1%7C%7C0%3D%3D%3Dthis.effects.length%3Fthis.masterVolume%3Athis.effects%5Bi%5D%2Cn.connect(t)%2Cthis%7D%7D%7D)%2Ce.Effects%3D%7B%7D%3Bvar%20r%3DObject.create(null%2C%7Bconnect%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Breturn%20this.outputNode.connect(e)%2Cthis%7D%7D%2Cdisconnect%3A%7Benumerable%3A!0%2Cvalue%3Afunction(e)%7Breturn%20this.outputNode.disconnect(e)%2Cthis%7D%7D%7D)%3Bfunction%20a(i%2Cn)%7Bthis.options%3D%7B%7D%2Ci%3Di%7C%7Cthis.options%3Bvar%20o%3D%7Bfrequency%3A350%2Cpeak%3A1%7D%3Bfor(var%20s%20in%20this.inputNode%3Dthis.filterNode%3Dt.context.createBiquadFilter()%2Cthis.filterNode.type%3Dn%2Cthis.outputNode%3De.context.createGain()%2Cthis.filterNode.connect(this.outputNode)%2Co)this%5Bs%5D%3Di%5Bs%5D%2Cthis%5Bs%5D%3Dvoid%200%3D%3D%3Dthis%5Bs%5D%7C%7Cnull%3D%3D%3Dthis%5Bs%5D%3Fo%5Bs%5D%3Athis%5Bs%5D%7De.Effects.Delay%3Dfunction(t)%7Bthis.options%3D%7B%7D%2Ct%3Dt%7C%7Cthis.options%3Bvar%20i%3D%7Bfeedback%3A.5%2Ctime%3A.3%2Cmix%3A.5%7D%3Bfor(var%20n%20in%20this.inputNode%3De.context.createGain()%2Cthis.outputNode%3De.context.createGain()%2Cthis.dryGainNode%3De.context.createGain()%2Cthis.wetGainNode%3De.context.createGain()%2Cthis.feedbackGainNode%3De.context.createGain()%2Cthis.delayNode%3De.context.createDelay()%2Cthis.inputNode.connect(this.dryGainNode)%2Cthis.dryGainNode.connect(this.outputNode)%2Cthis.delayNode.connect(this.feedbackGainNode)%2Cthis.feedbackGainNode.connect(this.delayNode)%2Cthis.inputNode.connect(this.delayNode)%2Cthis.delayNode.connect(this.wetGainNode)%2Cthis.wetGainNode.connect(this.outputNode)%2Ci)this%5Bn%5D%3Dt%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%7D%2Ce.Effects.Delay.prototype%3DObject.create(r%2C%7Bmix%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.mix%7D%2Cset%3Afunction(i)%7Bt.Util.isInRange(i%2C0%2C1)%26%26(this.options.mix%3Di%2Cthis.dryGainNode.gain.value%3De.Util.getDryLevel(this.mix)%2Cthis.wetGainNode.gain.value%3De.Util.getWetLevel(this.mix))%7D%7D%2Ctime%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.time%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C180)%26%26(this.options.time%3De%2Cthis.delayNode.delayTime.value%3De)%7D%7D%2Cfeedback%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.feedback%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C1)%26%26(this.options.feedback%3DparseFloat(e%2C10)%2Cthis.feedbackGainNode.gain.value%3Dthis.feedback)%7D%7D%7D)%2Ce.Effects.Compressor%3Dfunction(t)%7Bthis.options%3D%7B%7D%2Ct%3Dt%7C%7Cthis.options%3Bvar%20i%3D%7Bthreshold%3A-24%2Cknee%3A30%2Cattack%3A.003%2Crelease%3A.25%2Cratio%3A12%7D%3Bfor(var%20n%20in%20this.inputNode%3Dthis.compressorNode%3De.context.createDynamicsCompressor()%2Cthis.outputNode%3De.context.createGain()%2Cthis.compressorNode.connect(this.outputNode)%2Ci)this%5Bn%5D%3Dt%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%7D%2Ce.Effects.Compressor.prototype%3DObject.create(r%2C%7Bthreshold%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.compressorNode.threshold.value%7D%2Cset%3Afunction(t)%7Be.Util.isInRange(t%2C-100%2C0)%26%26(this.compressorNode.threshold.value%3Dt)%7D%7D%2Cknee%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.compressorNode.knee.value%7D%2Cset%3Afunction(t)%7Be.Util.isInRange(t%2C0%2C40)%26%26(this.compressorNode.knee.value%3Dt)%7D%7D%2Cattack%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.compressorNode.attack.value%7D%2Cset%3Afunction(t)%7Be.Util.isInRange(t%2C0%2C1)%26%26(this.compressorNode.attack.value%3Dt)%7D%7D%2Crelease%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.compressorNode.release.value%7D%2Cset%3Afunction(t)%7Be.Util.isInRange(t%2C0%2C1)%26%26(this.compressorNode.release.value%3Dt)%7D%7D%2Cratio%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.compressorNode.ratio.value%7D%2Cset%3Afunction(t)%7Be.Util.isInRange(t%2C1%2C20)%26%26(this.compressorNode.ratio.value%3Dt)%7D%7D%2CgetCurrentGainReduction%3Afunction()%7Breturn%20this.compressorNode.reduction%7D%7D)%2Ce.Effects.LowPassFilter%3Dfunction(e)%7Ba.call(this%2Ce%2C%22lowpass%22)%7D%2Ce.Effects.HighPassFilter%3Dfunction(e)%7Ba.call(this%2Ce%2C%22highpass%22)%7D%3Bvar%20c%3DObject.create(r%2C%7Bfrequency%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.filterNode.frequency.value%7D%2Cset%3Afunction(t)%7Be.Util.isInRange(t%2C10%2C22050)%26%26(this.filterNode.frequency.value%3Dt)%7D%7D%2Cpeak%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.filterNode.Q.value%7D%2Cset%3Afunction(t)%7Be.Util.isInRange(t%2C1e-4%2C1e3)%26%26(this.filterNode.Q.value%3Dt)%7D%7D%7D)%3Bfunction%20h()%7Bvar%20i%2Cn%2Co%3Dt.context.sampleRate*this.time%2Cs%3De.context.createBuffer(2%2Co%2Ct.context.sampleRate)%2Cr%3Ds.getChannelData(0)%2Ca%3Ds.getChannelData(1)%3Bfor(n%3D0%3Bn%3Co%3Bn%2B%2B)i%3Dthis.reverse%3Fo-n%3An%2Cr%5Bn%5D%3D(2*Math.random()-1)*Math.pow(1-i%2Fo%2Cthis.decay)%2Ca%5Bn%5D%3D(2*Math.random()-1)*Math.pow(1-i%2Fo%2Cthis.decay)%3Bthis.reverbNode.buffer%26%26(this.inputNode.disconnect(this.reverbNode)%2Cthis.reverbNode.disconnect(this.wetGainNode)%2Cthis.reverbNode%3De.context.createConvolver()%2Cthis.inputNode.connect(this.reverbNode)%2Cthis.reverbNode.connect(this.wetGainNode))%2Cthis.reverbNode.buffer%3Ds%7Dfunction%20u(e)%7Bthis.options%3D%7B%7D%2Ce%3De%7C%7Cthis.options%3Bvar%20i%3D%7Bcutoff_frequency_low%3A100%2Ccutoff_frequency_high%3A8e3%2Clow_band_gain%3A1%2Cmid_band_gain%3A1%2Chigh_band_gain%3A1%2Clow_peak%3A1%2Cmid_peak%3A1%2Chigh_peak%3A1%7D%3Bfor(var%20n%20in%20this.inputNode%3Dt.context.createGain()%2Cthis.outputNode%3Dt.context.createGain()%2Cthis.lowFilterNode%3Dt.context.createBiquadFilter()%2Cthis.lowFilterNode.type%3D%22lowpass%22%2Cthis.inputNode.connect(this.lowFilterNode)%2Cthis.lowGainNode%3Dt.context.createGain()%2Cthis.lowFilterNode.connect(this.lowGainNode)%2Cthis.midFilterNode%3Dt.context.createBiquadFilter()%2Cthis.midFilterNode.type%3D%22bandpass%22%2Cthis.inputNode.connect(this.midFilterNode)%2Cthis.midGainNode%3Dt.context.createGain()%2Cthis.midFilterNode.connect(this.midGainNode)%2Cthis.highFilterNode%3Dt.context.createBiquadFilter()%2Cthis.highFilterNode.type%3D%22highpass%22%2Cthis.inputNode.connect(this.highFilterNode)%2Cthis.highGainNode%3Dt.context.createGain()%2Cthis.highFilterNode.connect(this.highGainNode)%2Cthis.analyserNode%3Dt.context.createAnalyser()%2Cthis.lowGainNode.connect(this.analyserNode)%2Cthis.midGainNode.connect(this.analyserNode)%2Cthis.highGainNode.connect(this.analyserNode)%2Cthis.analyserNode.connect(this.outputNode)%2Cthis.analyserNode.minDecibels%3D-90%2Cthis.analyserNode.maxDecibels%3D15%2Cthis.analyserNode.smoothingTimeConstant%3D.85%2Cthis.analyserNode.fftSize%3D256%2Cthis.options.cutoff_frequency_low%3Di.cutoff_frequency_low%2Cthis.options.cutoff_frequency_high%3Di.cutoff_frequency_high%2Ci)this%5Bn%5D%3De%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%7De.Effects.LowPassFilter.prototype%3Dc%2Ce.Effects.HighPassFilter.prototype%3Dc%2Ce.Effects.Distortion%3Dfunction(t)%7Bthis.options%3D%7B%7D%2Ct%3Dt%7C%7Cthis.options%3Bvar%20i%3D%7Bgain%3A.5%7D%3Bfor(var%20n%20in%20this.waveShaperNode%3De.context.createWaveShaper()%2Cthis.inputNode%3Dthis.outputNode%3Dthis.waveShaperNode%2Ci)this%5Bn%5D%3Dt%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%7D%2Ce.Effects.Distortion.prototype%3DObject.create(r%2C%7Bgain%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.gain%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C1)%26%26(this.options.gain%3De%2Cthis.adjustGain())%7D%7D%2CadjustGain%3A%7Bwritable%3A!1%2Cconfigurable%3A!1%2Cenumerable%3A!1%2Cvalue%3Afunction()%7Bfor(var%20e%2Ci%3Dt.Util.isNumber(this.options.gain)%3FparseInt(100*this.options.gain%2C10)%3A50%2Cn%3Dnew%20Float32Array(44100)%2Co%3DMath.PI%2F180%2Cs%3D0%3Bs%3C44100%3B%2B%2Bs)e%3D2*s%2F44100-1%2Cn%5Bs%5D%3D(3%2Bi)*e*20*o%2F(Math.PI%2Bi*Math.abs(e))%3Bthis.waveShaperNode.curve%3Dn%7D%7D%7D)%2Ce.Effects.Flanger%3Dfunction(t)%7Bthis.options%3D%7B%7D%2Ct%3Dt%7C%7Cthis.options%3Bvar%20i%3D%7Btime%3A.45%2Cspeed%3A.2%2Cdepth%3A.1%2Cfeedback%3A.1%2Cmix%3A.5%7D%3Bfor(var%20n%20in%20this.inputNode%3De.context.createGain()%2Cthis.outputNode%3De.context.createGain()%2Cthis.inputFeedbackNode%3De.context.createGain()%2Cthis.wetGainNode%3De.context.createGain()%2Cthis.dryGainNode%3De.context.createGain()%2Cthis.delayNode%3De.context.createDelay()%2Cthis.oscillatorNode%3De.context.createOscillator()%2Cthis.gainNode%3De.context.createGain()%2Cthis.feedbackNode%3De.context.createGain()%2Cthis.oscillatorNode.type%3D%22sine%22%2Cthis.inputNode.connect(this.inputFeedbackNode)%2Cthis.inputNode.connect(this.dryGainNode)%2Cthis.inputFeedbackNode.connect(this.delayNode)%2Cthis.inputFeedbackNode.connect(this.wetGainNode)%2Cthis.delayNode.connect(this.wetGainNode)%2Cthis.delayNode.connect(this.feedbackNode)%2Cthis.feedbackNode.connect(this.inputFeedbackNode)%2Cthis.oscillatorNode.connect(this.gainNode)%2Cthis.gainNode.connect(this.delayNode.delayTime)%2Cthis.dryGainNode.connect(this.outputNode)%2Cthis.wetGainNode.connect(this.outputNode)%2Cthis.oscillatorNode.start(0)%2Ci)this%5Bn%5D%3Dt%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%7D%2Ce.Effects.Flanger.prototype%3DObject.create(r%2C%7Btime%3A%7Benumberable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.time%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C1)%26%26(this.options.time%3De%2Cthis.delayNode.delayTime.value%3Dt.Util.normalize(e%2C.001%2C.02))%7D%7D%2Cspeed%3A%7Benumberable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.speed%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C1)%26%26(this.options.speed%3De%2Cthis.oscillatorNode.frequency.value%3Dt.Util.normalize(e%2C.5%2C5))%7D%7D%2Cdepth%3A%7Benumberable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.depth%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C1)%26%26(this.options.depth%3De%2Cthis.gainNode.gain.value%3Dt.Util.normalize(e%2C5e-4%2C.005))%7D%7D%2Cfeedback%3A%7Benumberable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.feedback%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C1)%26%26(this.options.feedback%3De%2Cthis.feedbackNode.gain.value%3Dt.Util.normalize(e%2C0%2C.8))%7D%7D%2Cmix%3A%7Benumberable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.mix%7D%2Cset%3Afunction(i)%7Bt.Util.isInRange(i%2C0%2C1)%26%26(this.options.mix%3Di%2Cthis.dryGainNode.gain.value%3De.Util.getDryLevel(this.mix)%2Cthis.wetGainNode.gain.value%3De.Util.getWetLevel(this.mix))%7D%7D%7D)%2Ce.Effects.Panner3D%3Dfunction(t)%7Bthis.options%3D%7B%7D%2Ct%3Dt%7C%7Cthis.options%3Blet%20i%3D%7Bx%3A0%2Cy%3A0%2Cz%3A0%2CpanningModel%3A%22HRTF%22%2CdistanceModel%3A%22inverse%22%2CrefDistance%3A1%2CmaxDistance%3A1e4%2CrolloffFactor%3A1%7D%3Bif(this.inputNode%3De.context.createGain()%2Cthis.outputNode%3De.context.createGain()%2C!e.context.createPanner)%7Bconsole.warn(%22Your%20browser%20does%20not%20support%203D%20PannerNode.%22)%2Cthis.inputNode.connect(this.outputNode)%3Breturn%7Dfor(let%20n%20in%20this.pannerNode%3De.context.createPanner()%2Cthis.pannerNode.panningModel%3Di.panningModel%2Cthis.pannerNode.distanceModel%3Di.distanceModel%2Cthis.pannerNode.refDistance%3Di.refDistance%2Cthis.pannerNode.maxDistance%3Di.maxDistance%2Cthis.pannerNode.rolloffFactor%3Di.rolloffFactor%2Cthis.inputNode.connect(this.pannerNode)%2Cthis.pannerNode.connect(this.outputNode)%2Ci)this.options%5Bn%5D%3Dvoid%200!%3D%3Dt%5Bn%5D%3Ft%5Bn%5D%3Ai%5Bn%5D%3Bthis.pannerNode.setPosition(this.options.x%2Cthis.options.y%2Cthis.options.z)%7D%2Ce.Effects.Panner3D.prototype%3DObject.create(r%2C%7Bx%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.x%7D%2Cset%3Afunction(e)%7Bthis.options.x%3De%2Cthis._updatePosition()%7D%7D%2Cy%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.y%7D%2Cset%3Afunction(e)%7Bthis.options.y%3De%2Cthis._updatePosition()%7D%7D%2Cz%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.z%7D%2Cset%3Afunction(e)%7Bthis.options.z%3De%2Cthis._updatePosition()%7D%7D%2C_updatePosition%3A%7Bvalue%3Afunction()%7Bthis.pannerNode%26%26%22function%22%3D%3Dtypeof%20this.pannerNode.setPosition%26%26this.pannerNode.setPosition(this.options.x%2Cthis.options.y%2Cthis.options.z)%7D%7D%7D)%2Ce.Effects.StereoPanner%3Dfunction(t)%7Bthis.options%3D%7B%7D%2Ct%3Dt%7C%7Cthis.options%3Bvar%20i%3D%7Bpan%3A0%7D%3Bfor(var%20n%20in%20this.inputNode%3De.context.createGain()%2Cthis.outputNode%3De.context.createGain()%2Ce.context.createStereoPanner%3F(this.pannerNode%3De.context.createStereoPanner()%2Cthis.inputNode.connect(this.pannerNode)%2Cthis.pannerNode.connect(this.outputNode))%3Ae.context.createPanner%3F(console.warn(%22Your%20browser%20does%20not%20support%20the%20StereoPannerNode.%20Will%20use%20PannerNode%20instead.%22)%2Cthis.pannerNode%3De.context.createPanner()%2Cthis.pannerNode.type%3D%22equalpower%22%2Cthis.inputNode.connect(this.pannerNode)%2Cthis.pannerNode.connect(this.outputNode))%3A(console.warn(%22Your%20browser%20does%20not%20support%20the%20Panner%20effect.%22)%2Cthis.inputNode.connect(this.outputNode))%2Ci)this%5Bn%5D%3Dt%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%7D%2Ce.Effects.StereoPanner.prototype%3DObject.create(r%2C%7Bpan%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.pan%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C-1%2C1)%26%26(this.options.pan%3De%2Cthis.pannerNode%26%26(this.pannerNode.toString().indexOf(%22StereoPannerNode%22)%3E-1%3Fthis.pannerNode.pan.value%3De%3Athis.pannerNode.setPosition(e%2C0%2C1-Math.abs(e))))%7D%7D%7D)%2Ce.Effects.Convolver%3Dfunction(i%2Cn)%7Bthis.options%3D%7B%7D%2Ci%3Di%7C%7Cthis.options%3Bvar%20o%3Dthis%2Cs%3Dnew%20XMLHttpRequest%2Cr%3D%7Bmix%3A.5%7D%3Bfor(var%20a%20in%20this.callback%3Dn%2Cthis.inputNode%3De.context.createGain()%2Cthis.convolverNode%3De.context.createConvolver()%2Cthis.outputNode%3De.context.createGain()%2Cthis.wetGainNode%3De.context.createGain()%2Cthis.dryGainNode%3De.context.createGain()%2Cthis.inputNode.connect(this.convolverNode)%2Cthis.convolverNode.connect(this.wetGainNode)%2Cthis.inputNode.connect(this.dryGainNode)%2Cthis.dryGainNode.connect(this.outputNode)%2Cthis.wetGainNode.connect(this.outputNode)%2Cr)this%5Ba%5D%3Di%5Ba%5D%2Cthis%5Ba%5D%3Dvoid%200%3D%3D%3Dthis%5Ba%5D%7C%7Cnull%3D%3D%3Dthis%5Ba%5D%3Fr%5Ba%5D%3Athis%5Ba%5D%3Bif(!i.impulse)%7Bconsole.error(%22No%20impulse%20file%20specified.%22)%3Breturn%7Ds.open(%22GET%22%2Ci.impulse%2C!0)%2Cs.responseType%3D%22arraybuffer%22%2Cs.onload%3Dfunction(i)%7Bvar%20n%3Di.target.response%3Be.context.decodeAudioData(n%2Cfunction(e)%7Bo.convolverNode.buffer%3De%2Co.callback%26%26t.Util.isFunction(o.callback)%26%26o.callback()%7D%2Cfunction(e)%7Be%3De%7C%7CError(%22Error%20decoding%20impulse%20file%22)%2Co.callback%26%26t.Util.isFunction(o.callback)%26%26o.callback(e)%7D)%7D%2Cs.onreadystatechange%3Dfunction(e)%7B4%3D%3D%3Ds.readyState%26%26200!%3D%3Ds.status%26%26console.error(%22Error%20while%20fetching%20%22%2Bi.impulse%2B%22.%20%22%2Bs.statusText)%7D%2Cs.send()%7D%2Ce.Effects.Convolver.prototype%3DObject.create(r%2C%7Bmix%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.mix%7D%2Cset%3Afunction(i)%7Bt.Util.isInRange(i%2C0%2C1)%26%26(this.options.mix%3Di%2Cthis.dryGainNode.gain.value%3De.Util.getDryLevel(this.mix)%2Cthis.wetGainNode.gain.value%3De.Util.getWetLevel(this.mix))%7D%7D%7D)%2Ce.Effects.PingPongDelay%3Dfunction(t)%7Bthis.options%3D%7B%7D%2Ct%3Dt%7C%7Cthis.options%3Bvar%20i%3D%7Bfeedback%3A.5%2Ctime%3A.3%2Cmix%3A.5%7D%3Bfor(var%20n%20in%20this.inputNode%3De.context.createGain()%2Cthis.outputNode%3De.context.createGain()%2Cthis.delayNodeLeft%3De.context.createDelay()%2Cthis.delayNodeRight%3De.context.createDelay()%2Cthis.dryGainNode%3De.context.createGain()%2Cthis.wetGainNode%3De.context.createGain()%2Cthis.feedbackGainNode%3De.context.createGain()%2Cthis.channelMerger%3De.context.createChannelMerger(2)%2Cthis.inputNode.connect(this.dryGainNode)%2Cthis.dryGainNode.connect(this.outputNode)%2Cthis.delayNodeLeft.connect(this.channelMerger%2C0%2C0)%2Cthis.delayNodeRight.connect(this.channelMerger%2C0%2C1)%2Cthis.delayNodeLeft.connect(this.delayNodeRight)%2Cthis.feedbackGainNode.connect(this.delayNodeLeft)%2Cthis.delayNodeRight.connect(this.feedbackGainNode)%2Cthis.inputNode.connect(this.feedbackGainNode)%2Cthis.channelMerger.connect(this.wetGainNode)%2Cthis.wetGainNode.connect(this.outputNode)%2Ci)this%5Bn%5D%3Dt%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%7D%2Ce.Effects.PingPongDelay.prototype%3DObject.create(r%2C%7Bmix%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.mix%7D%2Cset%3Afunction(i)%7Bt.Util.isInRange(i%2C0%2C1)%26%26(this.options.mix%3Di%2Cthis.dryGainNode.gain.value%3De.Util.getDryLevel(this.mix)%2Cthis.wetGainNode.gain.value%3De.Util.getWetLevel(this.mix))%7D%7D%2Ctime%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.time%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C180)%26%26(this.options.time%3De%2Cthis.delayNodeLeft.delayTime.value%3De%2Cthis.delayNodeRight.delayTime.value%3De)%7D%7D%2Cfeedback%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.feedback%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C1)%26%26(this.options.feedback%3DparseFloat(e%2C10)%2Cthis.feedbackGainNode.gain.value%3Dthis.feedback)%7D%7D%7D)%2Ce.Effects.Reverb%3Dfunction(t)%7Bthis.options%3D%7B%7D%2Ct%3Dt%7C%7Cthis.options%3Bvar%20i%3D%7Bmix%3A.5%2Ctime%3A.01%2Cdecay%3A.01%2Creverse%3A!1%7D%3Bfor(var%20n%20in%20this.inputNode%3De.context.createGain()%2Cthis.reverbNode%3De.context.createConvolver()%2Cthis.outputNode%3De.context.createGain()%2Cthis.wetGainNode%3De.context.createGain()%2Cthis.dryGainNode%3De.context.createGain()%2Cthis.inputNode.connect(this.reverbNode)%2Cthis.reverbNode.connect(this.wetGainNode)%2Cthis.inputNode.connect(this.dryGainNode)%2Cthis.dryGainNode.connect(this.outputNode)%2Cthis.wetGainNode.connect(this.outputNode)%2Ci)this%5Bn%5D%3Dt%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%3Bh.bind(this)()%7D%2Ce.Effects.Reverb.prototype%3DObject.create(r%2C%7Bmix%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.mix%7D%2Cset%3Afunction(i)%7Bt.Util.isInRange(i%2C0%2C1)%26%26(this.options.mix%3Di%2Cthis.dryGainNode.gain.value%3De.Util.getDryLevel(this.mix)%2Cthis.wetGainNode.gain.value%3De.Util.getWetLevel(this.mix))%7D%7D%2Ctime%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.time%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C1e-4%2C10)%26%26(this.options.time%3De%2Ch.bind(this)())%7D%7D%2Cdecay%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.decay%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C1e-4%2C10)%26%26(this.options.decay%3De%2Ch.bind(this)())%7D%7D%2Creverse%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.reverse%7D%2Cset%3Afunction(e)%7Bt.Util.isBool(e)%26%26(this.options.reverse%3De%2Ch.bind(this)())%7D%7D%7D)%2Ce.Effects.Bitcrusher%3Dfunction(e)%7Blet%20i%3Dt.context%3Bthis.inputNode%3Di.createGain()%2Cthis.outputNode%3Di.createGain()%2Cthis.bits%3De.bits%7C%7C4%2Cthis.frequency%3De.frequency%7C%7C44100%2Cthis.crusherNode%3Di.createScriptProcessor(4096%2C1%2C1)%3Blet%20n%3Dthis%3Bthis.crusherNode.onaudioprocess%3Dfunction(e)%7Blet%20t%3De.inputBuffer%2Co%3De.outputBuffer%2Cs%3DMath.pow(.5%2Cn.bits-1)%2Cr%3Dn.frequency%2Fi.sampleRate%3Bfor(let%20a%3D0%3Ba%3Co.numberOfChannels%3Ba%2B%2B)%7Blet%20c%3Dt.getChannelData(a)%2Ch%3Do.getChannelData(a)%3Bfor(let%20u%3D0%3Bu%3Cc.length%3Bu%2B%2B)u%25r%3D%3D0%3Fh%5Bu%5D%3DMath.floor(c%5Bu%5D%2Fs)*s%3Ah%5Bu%5D%3Dh%5Bu-1%5D%7D%7D%2Cthis.inputNode.connect(this.crusherNode)%2Cthis.crusherNode.connect(this.outputNode)%2Cthis.connect%3Dfunction(e)%7Bthis.outputNode.connect(e)%7D%2Cthis.disconnect%3Dfunction()%7Bthis.outputNode.disconnect()%7D%7D%2Ce.Effects.Bitcrusher.prototype%3D%7Bconstructor%3Ae.Effects.Bitcrusher%2CsetBits%3Afunction(e)%7Be%3E%3D1%26%26e%3C%3D16%26%26(this.bits%3De)%7D%2CgetBits%3Afunction()%7Breturn%20this.bits%7D%2CsetFrequency%3Afunction(e)%7Be%3E0%26%26(this.frequency%3De)%7D%2CgetFrequency%3Afunction()%7Breturn%20this.frequency%7D%7D%2Ce.Effects.ThreeBandEqualizer%3Dfunction(e)%7Bu.call(this%2Ce)%7D%3Bvar%20d%3DObject.create(r%2C%7Bcutoff_frequency_low%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.cutoff_frequency_low%7D%2Cset%3Afunction(t)%7Be.Util.isInRange(t%2C10%2C22050)%26%26(this.options.cutoff_frequency_low%3Dt%2Cthis.lowFilterNode.frequency.value%3Dt%2Cthis.midFilterNode.frequency.value%3D.707*(this.options.cutoff_frequency_low%2Bthis.options.cutoff_frequency_high))%7D%7D%2Ccutoff_frequency_high%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.cutoff_frequency_high%7D%2Cset%3Afunction(t)%7Be.Util.isInRange(t%2C10%2C22050)%26%26(this.options.cutoff_frequency_high%3Dt%2Cthis.highFilterNode.frequency.value%3Dt%2Cthis.midFilterNode.frequency.value%3D.707*(this.options.cutoff_frequency_low%2Bthis.options.cutoff_frequency_high))%7D%7D%2Clow_band_gain%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.low_band_gain%7D%2Cset%3Afunction(t)%7Be.Util.isInRange(t%2C-40%2C15)%26%26(this.options.low_band_gain%3Dt%2Cthis.lowGainNode.gain.value%3DMath.pow(10%2Ct%2F20))%7D%7D%2Cmid_band_gain%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.mid_band_gain%7D%2Cset%3Afunction(t)%7Be.Util.isInRange(t%2C-40%2C15)%26%26(this.options.mid_band_gain%3Dt%2Cthis.midGainNode.gain.value%3DMath.pow(10%2Ct%2F20))%7D%7D%2Chigh_band_gain%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.high_band_gain%7D%2Cset%3Afunction(t)%7Be.Util.isInRange(t%2C-40%2C15)%26%26(this.options.high_band_gain%3Dt%2Cthis.highGainNode.gain.value%3DMath.pow(10%2Ct%2F20))%7D%7D%2Clow_peak%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.lowFilterNode.Q.value%7D%2Cset%3Afunction(t)%7Be.Util.isInRange(t%2C1e-4%2C100)%26%26(this.lowFilterNode.Q.value%3Dt)%7D%7D%2Cmid_peak%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.midFilterNode.Q.value%7D%2Cset%3Afunction(t)%7Be.Util.isInRange(t%2C1e-4%2C100)%26%26(this.midFilterNode.Q.value%3Dt)%7D%7D%2Chigh_peak%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.highFilterNode.Q.value%7D%2Cset%3Afunction(t)%7Be.Util.isInRange(t%2C1e-4%2C1e3)%26%26(this.highFilterNode.Q.value%3Dt)%7D%7D%2CvisualizerBinCount%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.analyserNode.frequencyBinCount%7D%2Cset%3Afunction(t)%7Be.Util.isInRange(t%2C16%2C1024)%26%26(this.analyzerNode.fftSize%3Dt)%7D%7D%2Canalyser%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.analyserNode%7D%7D%2CfrequencyData%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20void%200%3D%3D%3Dthis.byteFrequencyData%26%26(this.byteFrequencyData%3Dnew%20Uint8Array(this.analyserNode.frequencyBinCount.value))%2Cthis.analyserNode.getByteFrequencyData(this.FrequencyData)%2Cthis.byteFrequencyData%7D%7D%7D)%3Be.Effects.ThreeBandEqualizer.prototype%3Dd%2Ce.Effects.Tremolo%3Dfunction(t)%7Bthis.options%3D%7B%7D%2Ct%3Dt%7C%7Cthis.options%3Bvar%20i%3D%7Bspeed%3A4%2Cdepth%3A1%2Cmix%3A.8%7D%3Bfor(var%20n%20in%20this.inputNode%3De.context.createGain()%2Cthis.outputNode%3De.context.createGain()%2Cthis.dryGainNode%3De.context.createGain()%2Cthis.wetGainNode%3De.context.createGain()%2Cthis.tremoloGainNode%3De.context.createGain()%2Cthis.tremoloGainNode.gain.value%3D0%2Cthis.lfoNode%3De.context.createOscillator()%2Cthis.shaperNode%3De.context.createWaveShaper()%2Cthis.shaperNode.curve%3Dnew%20Float32Array(%5B0%2C1%5D)%2Cthis.shaperNode.connect(this.tremoloGainNode.gain)%2Cthis.inputNode.connect(this.dryGainNode)%2Cthis.dryGainNode.connect(this.outputNode)%2Cthis.lfoNode.connect(this.shaperNode)%2Cthis.lfoNode.type%3D%22sine%22%2Cthis.lfoNode.start(0)%2Cthis.inputNode.connect(this.tremoloGainNode)%2Cthis.tremoloGainNode.connect(this.wetGainNode)%2Cthis.wetGainNode.connect(this.outputNode)%2Ci)this%5Bn%5D%3Dt%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%7D%2Ce.Effects.Tremolo.prototype%3DObject.create(r%2C%7Bmix%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.mix%7D%2Cset%3Afunction(i)%7Bt.Util.isInRange(i%2C0%2C1)%26%26(this.options.mix%3Di%2Cthis.dryGainNode.gain.value%3De.Util.getDryLevel(this.mix)%2Cthis.wetGainNode.gain.value%3De.Util.getWetLevel(this.mix))%7D%7D%2Cspeed%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.speed%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C20)%26%26(this.options.speed%3De%2Cthis.lfoNode.frequency.value%3De)%7D%7D%2Cdepth%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.depth%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C1)%26%26(this.options.depth%3De%2Cthis.shaperNode.curve%3Dnew%20Float32Array(%5B1-e%2C1%5D))%7D%7D%7D)%2Ce.Effects.DubDelay%3Dfunction(t)%7Bthis.options%3D%7B%7D%2Ct%3Dt%7C%7Cthis.options%3Bvar%20i%3D%7Bfeedback%3A.6%2Ctime%3A.7%2Cmix%3A.5%2Ccutoff%3A700%7D%3Bfor(var%20n%20in%20this.inputNode%3De.context.createGain()%2Cthis.outputNode%3De.context.createGain()%2Cthis.dryGainNode%3De.context.createGain()%2Cthis.wetGainNode%3De.context.createGain()%2Cthis.feedbackGainNode%3De.context.createGain()%2Cthis.delayNode%3De.context.createDelay()%2Cthis.bqFilterNode%3De.context.createBiquadFilter()%2Cthis.inputNode.connect(this.dryGainNode)%2Cthis.dryGainNode.connect(this.outputNode)%2Cthis.inputNode.connect(this.wetGainNode)%2Cthis.inputNode.connect(this.feedbackGainNode)%2Cthis.feedbackGainNode.connect(this.bqFilterNode)%2Cthis.bqFilterNode.connect(this.delayNode)%2Cthis.delayNode.connect(this.feedbackGainNode)%2Cthis.delayNode.connect(this.wetGainNode)%2Cthis.wetGainNode.connect(this.outputNode)%2Ci)this%5Bn%5D%3Dt%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%7D%2Ce.Effects.DubDelay.prototype%3DObject.create(r%2C%7Bmix%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.mix%7D%2Cset%3Afunction(i)%7Bt.Util.isInRange(i%2C0%2C1)%26%26(this.options.mix%3Di%2Cthis.dryGainNode.gain.value%3De.Util.getDryLevel(this.mix)%2Cthis.wetGainNode.gain.value%3De.Util.getWetLevel(this.mix))%7D%7D%2Ctime%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.time%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C180)%26%26(this.options.time%3De%2Cthis.delayNode.delayTime.value%3De)%7D%7D%2Cfeedback%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.feedback%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C1)%26%26(this.options.feedback%3DparseFloat(e%2C10)%2Cthis.feedbackGainNode.gain.value%3Dthis.feedback)%7D%7D%2Ccutoff%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.cutoff%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C4e3)%26%26(this.options.cutoff%3De%2Cthis.bqFilterNode.frequency.value%3Dthis.cutoff)%7D%7D%7D)%2Ce.Effects.RingModulator%3Dfunction(t)%7Bthis.options%3D%7B%7D%2Ct%3Dt%7C%7Cthis.options%3Bvar%20i%3D%7Bspeed%3A30%2Cdistortion%3A1%2Cmix%3A.5%7D%3Bfor(var%20n%20in%20this.inputNode%3De.context.createGain()%2Cthis.outputNode%3De.context.createGain()%2Cthis.dryGainNode%3De.context.createGain()%2Cthis.wetGainNode%3De.context.createGain()%2Cthis.vIn%3De.context.createOscillator()%2Cthis.vIn.start(0)%2Cthis.vInGain%3De.context.createGain()%2Cthis.vInGain.gain.value%3D.5%2Cthis.vInInverter1%3De.context.createGain()%2Cthis.vInInverter1.gain.value%3D-1%2Cthis.vInInverter2%3De.context.createGain()%2Cthis.vInInverter2.gain.value%3D-1%2Cthis.vInDiode1%3Dnew%20l(e.context)%2Cthis.vInDiode2%3Dnew%20l(e.context)%2Cthis.vInInverter3%3De.context.createGain()%2Cthis.vInInverter3.gain.value%3D-1%2Cthis.vcInverter1%3De.context.createGain()%2Cthis.vcInverter1.gain.value%3D-1%2Cthis.vcDiode3%3Dnew%20l(e.context)%2Cthis.vcDiode4%3Dnew%20l(e.context)%2Cthis.outGain%3De.context.createGain()%2Cthis.outGain.gain.value%3D3%2Cthis.compressor%3De.context.createDynamicsCompressor()%2Cthis.compressor.threshold.value%3D-24%2Cthis.compressor.ratio.value%3D16%2Cthis.inputNode.connect(this.dryGainNode)%2Cthis.dryGainNode.connect(this.outputNode)%2Cthis.inputNode.connect(this.vcInverter1)%2Cthis.inputNode.connect(this.vcDiode4.node)%2Cthis.vcInverter1.connect(this.vcDiode3.node)%2Cthis.vIn.connect(this.vInGain)%2Cthis.vInGain.connect(this.vInInverter1)%2Cthis.vInGain.connect(this.vcInverter1)%2Cthis.vInGain.connect(this.vcDiode4.node)%2Cthis.vInInverter1.connect(this.vInInverter2)%2Cthis.vInInverter1.connect(this.vInDiode2.node)%2Cthis.vInInverter2.connect(this.vInDiode1.node)%2Cthis.vInDiode1.connect(this.vInInverter3)%2Cthis.vInDiode2.connect(this.vInInverter3)%2Cthis.vInInverter3.connect(this.compressor)%2Cthis.vcDiode3.connect(this.compressor)%2Cthis.vcDiode4.connect(this.compressor)%2Cthis.compressor.connect(this.outGain)%2Cthis.outGain.connect(this.wetGainNode)%2Cthis.wetGainNode.connect(this.outputNode)%2Ci)this%5Bn%5D%3Dt%5Bn%5D%2Cthis%5Bn%5D%3Dvoid%200%3D%3D%3Dthis%5Bn%5D%7C%7Cnull%3D%3D%3Dthis%5Bn%5D%3Fi%5Bn%5D%3Athis%5Bn%5D%7D%3Bvar%20l%3Dfunction(e)%7Bthis.context%3De%2Cthis.node%3Dthis.context.createWaveShaper()%2Cthis.vb%3D.2%2Cthis.vl%3D.4%2Cthis.h%3D1%2Cthis.setCurve()%7D%3Bfunction%20f(e)%7Bfor(var%20i%3Dt.context.sampleRate%2Cn%3Dnew%20Float32Array(i)%2Co%3DMath.PI%2F180%2Cs%3D0%3Bs%3Ci%3Bs%2B%2B)%7Bvar%20r%3D2*s%2Fi-1%3Bn%5Bs%5D%3D(3%2Be)*r*20*o%2F(Math.PI%2Be*Math.abs(r))%7Dreturn%20n%7Dl.prototype.setDistortion%3Dfunction(e)%7Breturn%20this.h%3De%2Cthis.setCurve()%7D%2Cl.prototype.setCurve%3Dfunction()%7Bvar%20e%2Ct%2Ci%2Cn%2Co%2Cs%2Cr%2Ca%3Bfor(t%3D1024%2Co%3Dnew%20Float32Array(t)%2Ce%3Ds%3D0%2Cr%3Do.length%3B0%3C%3Dr%3Fs%3Cr%3As%3Er%3Be%3D0%3C%3Dr%3F%2B%2Bs%3A--s)n%3D(i%3DMath.abs(i%3D(e-t%2F2)%2F(t%2F2)))%3C%3Dthis.vb%3F0%3Athis.vb%3Ci%26%26i%3C%3Dthis.vl%3Fthis.h*(Math.pow(i-this.vb%2C2)%2F(2*this.vl-2*this.vb))%3Athis.h*i-this.h*this.vl%2Bthis.h*(Math.pow(this.vl-this.vb%2C2)%2F(2*this.vl-2*this.vb))%2Co%5Be%5D%3Dn%3Breturn%20this.node.curve%3Do%7D%2Cl.prototype.connect%3Dfunction(e)%7Breturn%20this.node.connect(e)%7D%2Ce.Effects.RingModulator.prototype%3DObject.create(r%2C%7Bmix%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.mix%7D%2Cset%3Afunction(i)%7Bt.Util.isInRange(i%2C0%2C1)%26%26(this.options.mix%3Di%2Cthis.dryGainNode.gain.value%3De.Util.getDryLevel(this.mix)%2Cthis.wetGainNode.gain.value%3De.Util.getWetLevel(this.mix))%7D%7D%2Cspeed%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.speed%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C2e3)%26%26(this.options.speed%3De%2Cthis.vIn.frequency.value%3De)%7D%7D%2Cdistortion%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.distortion%7D%2Cset%3Afunction(e)%7Bif(t.Util.isInRange(e%2C.2%2C50))%7Bthis.options.distortion%3DparseFloat(e%2C10)%3Bfor(var%20i%3D%5Bthis.vInDiode1%2Cthis.vInDiode2%2Cthis.vcDiode3%2Cthis.vcDiode4%5D%2Cn%3D0%2Co%3Di.length%3Bn%3Co%3Bn%2B%2B)i%5Bn%5D.setDistortion(e)%7D%7D%7D%7D)%2Ce.Effects.Quadrafuzz%3Dfunction(e)%7Bthis.options%3D%7B%7D%2Ce%3De%7C%7Cthis.options%3Bvar%20i%3D%7BlowGain%3A.6%2CmidLowGain%3A.8%2CmidHighGain%3A.5%2ChighGain%3A.6%7D%3Bthis.inputNode%3Dt.context.createGain()%2Cthis.outputNode%3Dt.context.createGain()%2Cthis.dryGainNode%3Dt.context.createGain()%2Cthis.wetGainNode%3Dt.context.createGain()%2Cthis.lowpassLeft%3Dt.context.createBiquadFilter()%2Cthis.lowpassLeft.type%3D%22lowpass%22%2Cthis.lowpassLeft.frequency.value%3D147%2Cthis.lowpassLeft.Q.value%3D.7071%2Cthis.bandpass1Left%3Dt.context.createBiquadFilter()%2Cthis.bandpass1Left.type%3D%22bandpass%22%2Cthis.bandpass1Left.frequency.value%3D587%2Cthis.bandpass1Left.Q.value%3D.7071%2Cthis.bandpass2Left%3Dt.context.createBiquadFilter()%2Cthis.bandpass2Left.type%3D%22bandpass%22%2Cthis.bandpass2Left.frequency.value%3D2490%2Cthis.bandpass2Left.Q.value%3D.7071%2Cthis.highpassLeft%3Dt.context.createBiquadFilter()%2Cthis.highpassLeft.type%3D%22highpass%22%2Cthis.highpassLeft.frequency.value%3D4980%2Cthis.highpassLeft.Q.value%3D.7071%2Cthis.overdrives%3D%5B%5D%3Bfor(var%20n%3D0%3Bn%3C4%3Bn%2B%2B)this.overdrives%5Bn%5D%3Dt.context.createWaveShaper()%2Cthis.overdrives%5Bn%5D.curve%3Df()%3Bthis.inputNode.connect(this.wetGainNode)%2Cthis.inputNode.connect(this.dryGainNode)%2Cthis.dryGainNode.connect(this.outputNode)%3Bvar%20o%3D%5Bthis.lowpassLeft%2Cthis.bandpass1Left%2Cthis.bandpass2Left%2Cthis.highpassLeft%5D%3Bfor(n%3D0%3Bn%3Co.length%3Bn%2B%2B)this.wetGainNode.connect(o%5Bn%5D)%2Co%5Bn%5D.connect(this.overdrives%5Bn%5D)%2Cthis.overdrives%5Bn%5D.connect(this.outputNode)%3Bfor(var%20s%20in%20i)this%5Bs%5D%3De%5Bs%5D%2Cthis%5Bs%5D%3Dvoid%200%3D%3D%3Dthis%5Bs%5D%7C%7Cnull%3D%3D%3Dthis%5Bs%5D%3Fi%5Bs%5D%3Athis%5Bs%5D%7D%2Ce.Effects.Quadrafuzz.prototype%3DObject.create(r%2C%7BlowGain%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.lowGain%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C1)%26%26(this.options.lowGain%3De%2Cthis.overdrives%5B0%5D.curve%3Df(t.Util.normalize(this.lowGain%2C0%2C150)))%7D%7D%2CmidLowGain%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.midLowGain%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C1)%26%26(this.options.midLowGain%3De%2Cthis.overdrives%5B1%5D.curve%3Df(t.Util.normalize(this.midLowGain%2C0%2C150)))%7D%7D%2CmidHighGain%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.midHighGain%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C1)%26%26(this.options.midHighGain%3De%2Cthis.overdrives%5B2%5D.curve%3Df(t.Util.normalize(this.midHighGain%2C0%2C150)))%7D%7D%2ChighGain%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20this.options.highGain%7D%2Cset%3Afunction(e)%7Bt.Util.isInRange(e%2C0%2C1)%26%26(this.options.highGain%3De%2Cthis.overdrives%5B3%5D.curve%3Df(t.Util.normalize(this.highGain%2C0%2C150)))%7D%7D%7D)%3Breturn%20e%7D)()%3B%0D%0A%20%20%2F*%20eslint-enable%20*%2F%0D%0A%0D%0A%20%20const%20%7B%20vm%2C%20Cast%20%7D%20%3D%20Scratch%3B%0D%0A%20%20const%20runtime%20%3D%20vm.runtime%3B%0D%0A%20%20const%20scratchAudio%20%3D%20runtime.audioEngine%3B%0D%0A%0D%0A%20%20const%20ts3Data%20%3D%20Symbol(%22ts3Data%22)%3B%0D%0A%20%20const%20simpleEffects%20%3D%20%5B%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22pitch%22)%2C%20value%3A%20%22pitch%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22detune%22)%2C%20value%3A%20%22detune%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22speed%22)%2C%20value%3A%20%22speed%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22pan%22)%2C%20value%3A%20%22pan%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22gain%22)%2C%20value%3A%20%22gain%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22distortion%22)%2C%20value%3A%20%22distortion%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22attack%22)%2C%20value%3A%20%22attack%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22release%22)%2C%20value%3A%20%22release%22%20%7D%2C%0D%0A%20%20%5D%3B%0D%0A%20%20const%20complexEffects%20%3D%20%5B%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22reverb%22)%2C%20value%3A%20%22reverb%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22delay%22)%2C%20value%3A%20%22delay%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22pan%203D%22)%2C%20value%3A%20%22pan3D%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22tremolo%22)%2C%20value%3A%20%22tremolo%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22fuzz%22)%2C%20value%3A%20%22fuzz%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22bitcrush%22)%2C%20value%3A%20%22bitcrush%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22highpass%22)%2C%20value%3A%20%22highpass%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22lowpass%22)%2C%20value%3A%20%22lowpass%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22flanger%22)%2C%20value%3A%20%22flanger%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22compressor%22)%2C%20value%3A%20%22compressor%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20Scratch.translate(%22equalizer%22)%2C%20value%3A%20%22equalizer%22%20%7D%2C%0D%0A%20%20%5D%3B%0D%0A%0D%0A%20%20let%20deltaTime%20%3D%200%2C%0D%0A%20%20%20%20prevFrameTime%20%3D%200%3B%0D%0A%20%20let%20soundBank%20%3D%20Object.create(null)%3B%0D%0A%20%20let%20settings%20%3D%20%7B%20flagCtrl%3A%20false%2C%20canSave%3A%20false%20%7D%3B%0D%0A%0D%0A%20%20class%20SPtuneShark3%20%7B%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20%2F*%20Deprecation%20Marker%20*%2F%0D%0A%20%20%20%20%20%20this.loadStorage%20%3D%20function%20(storage)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(storage%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20%20%20settings%20%3D%20storage.settings%3B%0D%0A%20%20%20%20%20%20%20%20const%20tempBank%20%3D%20structuredClone(storage.bank)%3B%0D%0A%20%20%20%20%20%20%20%20const%20sounds%20%3D%20Object.values(tempBank)%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20const%20getTargetName%20%3D%20(name)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20runtime.targets.find((t)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20t.getName().replaceAll(%22%2F%22%2C%20%22%22)%20%3D%3D%3D%20name%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20const%20loadEndHandler%20%3D%20(index)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(index%20%3E%3D%20sounds.length%20-%201)%20soundBank%20%3D%20tempBank%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20sounds.length%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20sound%20%3D%20sounds%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20sound.loaded%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(sound.isVanilla)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20info%20%3D%20sound.src%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20.substring(1%2C%20sound.src.lastIndexOf(%22.%22))%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20.split(%22%2F%22)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20target%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20info%5B0%5D%20%3D%3D%3D%20%22Stage%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20runtime.getTargetForStage()%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20getTargetName(info%5B0%5D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(target%20%3D%3D%3D%20undefined)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60Tune%20Shark%203%20--%20Failed%20to%20load%20%24%7Binfo%5B1%5D%7D%20from%20%24%7Binfo%5B0%5D%7D%60%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20scratchSound%20%3D%20target.sprite.sounds.find((i)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20i.name.replaceAll(%22%2F%22%2C%20%22%22)%20%3D%3D%3D%20info%5B1%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(scratchSound%20%3D%3D%3D%20undefined)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60Tune%20Shark%203%20--%20Failed%20to%20load%20%24%7Binfo%5B1%5D%7D%20from%20%24%7Binfo%5B0%5D%7D%60%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20buffer%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20target.sprite.soundBank.soundPlayers%5BscratchSound.soundId%5D.buffer%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20engine%20%3D%20new%20Pizzicato.Sound(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20source%3A%20%22buffer%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20options%3A%20%7B%20buffer%2C%20attack%3A%200%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20engine.sourceNode%20%3D%20engine.getSourceNode()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20sound.context%20%3D%20engine%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20sound.loaded%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20loadEndHandler(i)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20engine%20%3D%20new%20Pizzicato.Sound(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20source%3A%20%22file%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20options%3A%20%7B%20path%3A%20sound.src%2C%20attack%3A%200%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20engine.sourceNode%20%3D%20engine.getSourceNode()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sound.context%20%3D%20engine%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sound.loaded%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20loadEndHandler(i)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20if%20(!Scratch.extensions.isPenguinMod)%20%7B%0D%0A%20%20%20%20%20%20%20%20runtime.on(%22PROJECT_LOADED%22%2C%20()%20%3D%3E%0D%0A%20%20%20%20%20%20%20%20%20%20this.loadStorage(runtime.extensionStorage%5B%22SPtuneShark3%22%5D)%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%2F*%20Marker%20End%20*%2F%0D%0A%0D%0A%20%20%20%20%20%20runtime.on(%22PROJECT_START%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(settings.flagCtrl)%20this.ctrlSounds(%7B%20CONTROL%3A%20%22stop%22%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20runtime.on(%22PROJECT_STOP_ALL%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(settings.flagCtrl)%20this.ctrlSounds(%7B%20CONTROL%3A%20%22stop%22%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20runtime.on(%22BEFORE_EXECUTE%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20now%20%3D%20performance.now()%3B%0D%0A%20%20%20%20%20%20%20%20deltaTime%20%3D%20prevFrameTime%20%3D%3D%3D%200%20%3F%200%20%3A%20(now%20-%20prevFrameTime)%20%2F%201000%3B%0D%0A%20%20%20%20%20%20%20%20prevFrameTime%20%3D%20now%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20const%20projectVal%20%3D%20scratchAudio.inputNode.gain.value%3B%0D%0A%20%20%20%20%20%20%20%20const%20speedBuffer%20%3D%20runtime.frameLoop.framerate%20%2F%201000%3B%0D%0A%20%20%20%20%20%20%20%20Object.values(soundBank).forEach((bank)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(bank.loaded)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20sound%20%3D%20bank.context%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Clamp%20Volume%20to%20Project%20Volume%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20curVol%20%3D%20Math.min(100%2C%20Math.max(0%2C%20bank.vol))%20%2F%20100%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20sound.volume%20%3D%20curVol%20*%20projectVal%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(sound.playing)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Increment%20Current%20Time%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20leng%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sound.loop%20%26%26%20bank.loopParm%5B1%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3F%20bank.loopParm%5B1%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20sound.sourceNode.buffer.duration%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20time%20%3D%20bank.currentTime%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20time%20%2B%3D%20deltaTime%20*%20bank.rate%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(sound.loop)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20time%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Math.max(0%2C%20(time%20%25%20(leng%20-%20bank.loopParm%5B0%5D))%20%2B%200.00001)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bank.loopParm%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20time%20%3D%20Math.min(leng%2C%20Math.max(0%2C%20time))%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20bank.currentTime%20%3D%20time%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Apply%20Speed%20Changes%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(bank.speed%20!%3D%3D%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20lastTime%20%3D%20bank.currentTime%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sound.release%20%3D%20speedBuffer%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sound.stop()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bank.currentTime%20%3D%20lastTime%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sound.attack%20%3D%20speedBuffer%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sound.play(0%2C%20lastTime)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.updateAudioNodes(sound.sourceNode%2C%20bank)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20runtime.on(%22RUNTIME_PAUSED%22%2C%20()%20%3D%3E%20this.ctrlSounds(%7B%20CONTROL%3A%20%22pause%22%20%7D))%3B%0D%0A%20%20%20%20%20%20runtime.on(%22RUNTIME_UNPAUSED%22%2C%20()%20%3D%3E%0D%0A%20%20%20%20%20%20%20%20this.ctrlSounds(%7B%20CONTROL%3A%20%22unpause%22%20%7D)%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20getInfo()%20%7B%0D%0A%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20id%3A%20%22SPtuneShark3%22%2C%0D%0A%20%20%20%20%20%20%20%20name%3A%20Scratch.translate(%22Tune%20Shark%20V3%22)%2C%0D%0A%20%20%20%20%20%20%20%20docsURI%3A%20%22https%3A%2F%2Fextensions.turbowarp.org%2FSharkPool%2FTune-Shark-V3%22%2C%0D%0A%20%20%20%20%20%20%20%20color1%3A%20%22%23666666%22%2C%0D%0A%20%20%20%20%20%20%20%20menuIconURI%2C%0D%0A%20%20%20%20%20%20%20%20blockIconURI%2C%0D%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22importURL%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22import%20sound%20from%20URL%20%5BURL%5D%20named%20%5BNAME%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20URL%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22https%3A%2F%2Fsharkpools-extensions.vercel.app%2Fextension-utils%2FTS%2FResonance-Home.mp3%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22importMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22import%20sound%20%5BSOUND%5D%20named%20%5BNAME%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SOUND%3A%20%7B%20type%3A%20Scratch.ArgumentType.SOUND%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22bindSound%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BTYPE%5D%20sound%20%5BNAME2%5D%20and%20sound%20%5BNAME%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22bindMenu%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME2%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound2%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.LABEL%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22Audio%20Playback%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22startSound%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22start%20sound%20%5BNAME%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22startSoundAt%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22start%20sound%20%5BNAME%5D%20at%20time%20%5BTIME%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TIME%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%205%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22playAndStop%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22start%20sound%20%5BNAME%5D%20at%20time%20%5BTIME%5D%20and%20stop%20at%20%5BMAX%5D%20seconds%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TIME%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%200%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MAX%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%202%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22stopSound%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22stop%20sound%20%5BNAME%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22pauseSound%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BUN_PAUSE%5D%20sound%20%5BNAME%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20UN_PAUSE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22un_pauseMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22ctrlSounds%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BCONTROL%5D%20all%20sounds%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CONTROL%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22playMenu%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.LABEL%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22Audio%20Operations%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22enableControl%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22toggle%20sound%20link%20to%20%5BGO%5D%20%5BSTOP%5D%20%5BON_OFF%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20GO%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.IMAGE%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dataURI%3A%20extraIcons.flag%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STOP%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.IMAGE%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dataURI%3A%20extraIcons.stop%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ON_OFF%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22toggleMenu%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22toggleOverlap%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22toggle%20sound%20%5BNAME%5D%20overlapping%20%5BTYPE%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22toggleMenu%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22toggleReverse%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22toggle%20sound%20%5BNAME%5D%20reverse%20mode%20%5BTYPE%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22toggleMenu%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22toggleLoop%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22toggle%20sound%20%5BNAME%5D%20looping%20%5BTYPE%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22toggleMenu%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22loopParams%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sound%20%5BNAME%5D%20loop%20start%20%5BSTART%5D%20end%20%5BEND%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20START%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%200%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20END%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%202%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deleteSound%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22delete%20sound%20%5BNAME%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deleteAllSounds%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22delete%20all%20sounds%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22allSounds%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22all%20sounds%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22allPlaySounds%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22all%20playing%20sounds%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22whenSound%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.HAT%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22when%20sound%20%5BNAME%5D%20%5BCONTROL%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CONTROL%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22hatPlayer%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22soundCheck%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22sound%20%5BNAME%5D%20%5BCONTROL%5D%20%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CONTROL%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22soundBools%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22soundProperty%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BPROP%5D%20of%20sound%20%5BNAME%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20PROP%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22soundProps%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getLoudTime%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%5BTYPE%5D%20of%20sound%20%5BNAME%5D%20at%20time%20%5BTIME%5D%20in%20channel%20%5BCHANNEL%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22loudProps%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TIME%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%200%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CHANNEL%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%201%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.LABEL%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22Audio%20Effects%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setVol%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20volume%20of%20sound%20%5BNAME%5D%20to%20%5BNUM%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NUM%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22resetEffect%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22reset%20%5BEFFECT%5D%20of%20sound%20%5BNAME%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20EFFECT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22effectMenu%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setThingNew%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20%5BTYPE%5D%20of%20sound%20%5BNAME%5D%20to%20%5BVALUE%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22singleEffectNew%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%200%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setReverb%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20reverb%20of%20sound%20%5BNAME%5D%20to%20time%20%5BTIME%5D%20decay%20%5BDECAY%5D%20mix%20%5BMIX%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TIME%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DECAY%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MIX%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setDelay%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20delay%20of%20sound%20%5BNAME%5D%20to%20time%20%5BTIME%5D%20feedback%20%5BFEED%5D%20mix%20%5BMIX%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FEED%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2060%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TIME%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MIX%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setPan3D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20pan%203D%20of%20sound%20%5BNAME%5D%20to%20x%20%5BX%5D%20y%20%5BY%5D%20z%20%5BZ%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20X%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%200%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Z%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setTremolo%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20tremolo%20of%20sound%20%5BNAME%5D%20to%20speed%20%5BSPEED%5D%20depth%20%5BDEPTH%5D%20mix%20%5BMIX%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SPEED%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2035%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DEPTH%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2080%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MIX%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setFuzz%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20fuzz%20of%20sound%20%5BNAME%5D%20to%20low%20%5BLOW%5D%20med-low%20%5BMED1%5D%20med-high%20%5BMED2%5D%20high%20%5BHIGH%5D%20mix%20%5BMIX%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20LOW%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2060%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MED1%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2080%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MED2%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20HIGH%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2060%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MIX%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setBitcrush%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20bitcrush%20of%20sound%20%5BNAME%5D%20bits%20%5BBITS%5D%20freq%20%5BFREQ%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BITS%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2065%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FREQ%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2060000%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setPass%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20%5BTYPE%5D%20of%20sound%20%5BNAME%5D%20to%20frequency%20%5BFREQ%5D%20peak%20%5BPEAK%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22typePass%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FREQ%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20400%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20PEAK%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2010%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setFlanger%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20flanger%20of%20sound%20%5BNAME%5D%20to%20time%20%5BTIME%5D%20speed%20%5BSPEED%5D%20depth%20%5BDEPTH%5D%20feed%20%5BFEED%5D%20mix%20%5BMIX%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TIME%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2045%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SPEED%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2020%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DEPTH%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2010%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FEED%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2010%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MIX%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setCompress%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20compressor%20of%20sound%20%5BNAME%5D%20to%20threshold%20%5BTHRESH%5D%20knee%20%5BKNEE%5D%20attack%20%5BATTACK%5D%20release%20%5BRELEASE%5D%20ratio%20%5BRATIO%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20THRESH%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2015%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20KNEE%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ATTACK%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20RELEASE%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20RATIO%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setEqualize%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20equalizer%20of%20sound%20%5BNAME%5D%20to%20gain%20low%20%5BLOW%5D%20mid%20%5BMID%5D%20high%20%5BHIGH%5D%20cutoff%20low%20%5BCUT_LOW%5D%20cutoff%20high%20%5BCUT_HIGH%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.nob%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22MySound%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20LOW%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MID%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20HIGH%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CUT_LOW%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20-50%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CUT_HIGH%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2050%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F*%20Deprecation%20Marker%20*%2F%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22save2Project%22%2C%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BSAVE%5D%20all%20sounds%20to%20project%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%20hideFromPalette%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%20SAVE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22saveMenu%22%20%7D%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22convertSound%22%2C%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22convert%20sound%20%5BNAME1%5D%20from%20URL%20to%20URI%20and%20save%20to%20%5BNAME2%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20extraIcons.set%2C%20hideFromPalette%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%20NAME1%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%20%7D%2C%20NAME2%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%20%7D%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setThing%22%2C%20blockType%3A%20Scratch.BlockType.COMMAND%2C%20hideFromPalette%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20%5BTYPE%5D%20of%20sound%20%5BNAME%5D%20to%20%5BVALUE%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%20NAME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22MySound%22%20%7D%2C%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22singleEffects%22%20%7D%2C%20VALUE%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%20%7D%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F*%20Marker%20End%20*%2F%0D%0A%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F*%20Deprecation%20Marker%20*%2F%0D%0A%20%20%20%20%20%20%20%20%20%20singleEffects%3A%20simpleEffects%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F*%20Marker%20End%20*%2F%0D%0A%20%20%20%20%20%20%20%20%20%20saveMenu%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22save%22)%2C%20value%3A%20%22save%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22dont%20save%22)%2C%20value%3A%20%22dont%20save%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20un_pauseMenu%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22pause%22)%2C%20value%3A%20%22pause%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22unpause%22)%2C%20value%3A%20%22unpause%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20playMenu%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22start%22)%2C%20value%3A%20%22start%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22stop%22)%2C%20value%3A%20%22stop%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22pause%22)%2C%20value%3A%20%22pause%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22unpause%22)%2C%20value%3A%20%22unpause%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20hatPlayer%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22starts%22)%2C%20value%3A%20%22starts%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22stops%22)%2C%20value%3A%20%22stops%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20toggleMenu%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22on%22)%2C%20value%3A%20%22on%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22off%22)%2C%20value%3A%20%22off%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20bindMenu%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22bind%22)%2C%20value%3A%20%22bind%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22unBind%22)%2C%20value%3A%20%22unBind%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20loudProps%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22loudness%22)%2C%20value%3A%20%22loudness%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22raw%20noise%22)%2C%20value%3A%20%22raw%20noise%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22tone%22)%2C%20value%3A%20%22tone%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20typePass%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22highpass%22)%2C%20value%3A%20%22highpass%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22lowpass%22)%2C%20value%3A%20%22lowpass%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20singleEffectNew%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20simpleEffects%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20soundProps%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22length%22)%2C%20value%3A%20%22length%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22current%20time%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22current%20time%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22source%22)%2C%20value%3A%20%22source%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22estimated%20bpm%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22estimated%20bpm%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22channels%22)%2C%20value%3A%20%22channels%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22fft%20data%22)%2C%20value%3A%20%22fft%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22binds%22)%2C%20value%3A%20%22binds%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22volume%22)%2C%20value%3A%20%22volume%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D.concat(simpleEffects%2C%20complexEffects)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20soundBools%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22exists%22)%2C%20value%3A%20%22exists%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22playing%22)%2C%20value%3A%20%22playing%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22paused%22)%2C%20value%3A%20%22paused%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22looped%22)%2C%20value%3A%20%22looped%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22overlaped%22)%2C%20value%3A%20%22overlaped%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22reversed%22)%2C%20value%3A%20%22reversed%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22binded%22)%2C%20value%3A%20%22binded%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20effectMenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22all%20effects%22)%2C%20value%3A%20%22all%20effects%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D.concat(simpleEffects%2C%20complexEffects)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Helper%20Funcs%0D%0A%20%20%20%20startHats(data)%20%7B%0D%0A%20%20%20%20%20%20let%20newThreads%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20runtime.allScriptsByOpcodeDo(%0D%0A%20%20%20%20%20%20%20%20%22SPtuneShark3_whenSound%22%2C%0D%0A%20%20%20%20%20%20%20%20(script%2C%20target)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20thread%20%3D%20runtime._pushThread(script.blockId%2C%20target)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20thread%5Bts3Data%5D%20%3D%20data%3B%0D%0A%20%20%20%20%20%20%20%20%20%20newThreads.push(thread)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20return%20newThreads%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20generateData(name%2C%20src%2C%20context%2C%20isVanilla)%20%7B%0D%0A%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20name%2C%0D%0A%20%20%20%20%20%20%20%20src%2C%0D%0A%20%20%20%20%20%20%20%20context%2C%0D%0A%20%20%20%20%20%20%20%20isVanilla%2C%0D%0A%20%20%20%20%20%20%20%20effects%3A%20%7B%7D%2C%0D%0A%20%20%20%20%20%20%20%20loaded%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20reversed%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20currentTime%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20vol%3A%20100%2C%0D%0A%20%20%20%20%20%20%20%20gain%3A%201%2C%0D%0A%20%20%20%20%20%20%20%20pitch%3A%201%2C%0D%0A%20%20%20%20%20%20%20%20detune%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20speed%3A%201%2C%0D%0A%20%20%20%20%20%20%20%20attack%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20release%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20rate%3A%201%2C%0D%0A%20%20%20%20%20%20%20%20loopParm%3A%20%5B0%2C%200%5D%2C%0D%0A%20%20%20%20%20%20%20%20overlap%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20overlays%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20%20%20isBind%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20binds%3A%20%7B%7D%2C%0D%0A%20%20%20%20%20%20%20%20_cache%3A%20%7B%20loudness%3A%20%7B%7D%2C%20tone%3A%20%7B%7D%20%7D%2C%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getBPM(data%2C%20sampleRate)%20%7B%0D%0A%20%20%20%20%20%20const%20peaks%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20let%20lastPeakIndex%20%3D%200%2C%0D%0A%20%20%20%20%20%20%20%20max%20%3D%200.1%3B%0D%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20data.length%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(data%5Bi%5D%20%3E%20max)%20max%20%3D%20data%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20data.length%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(data%5Bi%5D%20%3E%20max%20-%200.1%20%26%26%20i%20-%20lastPeakIndex%20%3E%20sampleRate%20%2F%204)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20peaks.push(i)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20lastPeakIndex%20%3D%20i%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20const%20intervals%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20for%20(let%20i%20%3D%201%3B%20i%20%3C%20peaks.length%3B%20i%2B%2B)%0D%0A%20%20%20%20%20%20%20%20intervals.push(peaks%5Bi%5D%20-%20peaks%5Bi%20-%201%5D)%3B%0D%0A%20%20%20%20%20%20const%20avgInterval%20%3D%0D%0A%20%20%20%20%20%20%20%20intervals.reduce((a%2C%20b)%20%3D%3E%20a%20%2B%20b%2C%200)%20%2F%20intervals.length%3B%0D%0A%20%20%20%20%20%20const%20value%20%3D%20Math.round((sampleRate%20%2F%20avgInterval)%20*%2060)%3B%0D%0A%20%20%20%20%20%20return%20isNaN(value)%20%3F%200%20%3A%20value%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20updateAudioNodes(src%2C%20sound)%20%7B%0D%0A%20%20%20%20%20%20src.playbackRate.value%20%3D%20sound.pitch%3B%0D%0A%20%20%20%20%20%20src.detune.value%20%3D%20sound.detune%3B%0D%0A%20%20%20%20%20%20src.gainSuccessor.gain.value%20%3D%20sound.gain%3B%0D%0A%20%20%20%20%20%20sound.context.attack%20%3D%20sound.attack%3B%0D%0A%20%20%20%20%20%20sound.context.release%20%3D%20sound.release%3B%0D%0A%20%20%20%20%20%20if%20(src.loop)%0D%0A%20%20%20%20%20%20%20%20this.loopParams(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20NAME%3A%20sound.name%2C%0D%0A%20%20%20%20%20%20%20%20%20%20START%3A%20sound.loopParm%5B0%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20END%3A%20sound.loopParm%5B1%5D%2C%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20checkForStatic(obj1%2C%20obj2)%20%7B%0D%0A%20%20%20%20%20%20for%20(let%20k%20in%20obj1)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(obj1%5Bk%5D%20!%3D%3D%20obj2%5Bk%5D)%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20updateEffect(effect%2C%20sound%2C%20name%2C%20args)%20%7B%0D%0A%20%20%20%20%20%20delete%20args.NAME%3B%0D%0A%20%20%20%20%20%20delete%20args.TYPE%3B%0D%0A%20%20%20%20%20%20effect.arguments%20%3D%20args%3B%20%2F%2F%20Match%20Original%20Values%2C%20not%20Converted%0D%0A%20%20%20%20%20%20if%20(sound.effects%5Bname%5D%20%3D%3D%3D%20undefined)%20%7B%0D%0A%20%20%20%20%20%20%20%20effect.id%20%3D%20name%3B%0D%0A%20%20%20%20%20%20%20%20sound.context.addEffect(effect)%3B%0D%0A%20%20%20%20%20%20%20%20sound.effects%5Bname%5D%20%3D%20effect%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Dont%20Remove%20the%20Effect%20(Causes%20Glitches%20in%20Forever%20Loops)%2C%20simply%20change%20each%20value%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20We%20use%20args%20just%20in%20case%20some%20Effects%20dont%20store%20them%20in%20the%20audio%20context%0D%0A%20%20%20%20%20%20%20%20const%20options%20%3D%20effect.options%3B%0D%0A%20%20%20%20%20%20%20%20const%20thisEffect%20%3D%20sound.context.effects.find(%0D%0A%20%20%20%20%20%20%20%20%20%20(effect)%20%3D%3E%20effect.id%20%3D%3D%3D%20name%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20const%20isArgsStatic%20%3D%20this.checkForStatic(thisEffect.arguments%2C%20effect.arguments)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(isArgsStatic)%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20thisEffect.arguments%20%3D%20effect.arguments%3B%0D%0A%20%20%20%20%20%20%20%20thisEffect.options%20%3D%20options%3B%0D%0A%20%20%20%20%20%20%20%20switch%20(name)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%22PAN%22%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20pan%20%3D%20options.pan%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.pannerNode.pan.value%20%3D%20options.pan%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.pan%20%3D%20options.pan%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%22PAN3D%22%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.x%20%3D%20Cast.toNumber(args.X)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.y%20%3D%20Cast.toNumber(args.Y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.z%20%3D%20Cast.toNumber(args.Z)%20-%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%22DISTORTION%22%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.gain%20%3D%20options.gain%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%22BITCRUSH%22%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.frequency%20%3D%20Math.max(30000%2C%20Cast.toNumber(args.FREQ))%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.bits%20%3D%20Math.max(10%2C%20Cast.toNumber(args.BITS))%20%2F%2010%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%22LOWPASS%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%22HIGHPASS%22%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20freq%20%3D%20Cast.toNumber(args.FREQ)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20peak%20%3D%20Cast.toNumber(args.PEAK)%20%2F%205%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.filterNode.frequency.value%20%3D%20freq%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.inputNode.frequency.value%20%3D%20freq%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.frequency%20%3D%20freq%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.filterNode.Q.value%20%3D%20peak%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.inputNode.Q.value%20%3D%20peak%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20thisEffect.peak%20%3D%20peak%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%22COMPRESSOR%22%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20node%20%3D%20thisEffect.compressorNode%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20node.knee.value%20%3D%20Cast.toNumber(args.KNEE)%20%2F%202.5%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20node.ratio.value%20%3D%20Cast.toNumber(args.RATIO)%20%2F%205%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20node.threshold.value%20%3D%20Math.min(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Math.max(-100%2C%20Cast.toNumber(args.THRESH)%20*%20-1)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20node.attack.value%20%3D%20Math.min(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Math.max(1%2C%20Cast.toNumber(args.ATTACK)%20%2F%20100)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20node.release.value%20%3D%20Math.min(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Math.max(1%2C%20Cast.toNumber(args.RELEASE)%20%2F%20100)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20Object.assign(thisEffect%2C%20options)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20play(sound%2C%20atTime%2C%20con)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(sound.playing%20%26%26%20con.overlap)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20clone%20%3D%20sound.clone()%3B%20%2F%2F%20Clone%20context%20to%20Menu%20for%20Control%20Purposes%0D%0A%20%20%20%20%20%20%20%20%20%20const%20newName%20%3D%20%60%24%7Bcon.name%7D_COPY_%24%7BMath.random()%7D%60%3B%0D%0A%20%20%20%20%20%20%20%20%20%20soundBank%5BnewName%5D%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20...sound%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20context%3A%20clone%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20newName%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20loopParm%3A%20%5B0%2C%200%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20overlap%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20overlays%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isBind%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20binds%3A%20%7B%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20clone.play(0%2C%20atTime)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20clone.sourceNode.playbackRate.value%20%3D%20con.pitch%3B%0D%0A%20%20%20%20%20%20%20%20%20%20clone.sourceNode.gainSuccessor.gain.value%20%3D%20con.gain%3B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20overlayIndex%20%3D%20con.overlays.length%3B%0D%0A%20%20%20%20%20%20%20%20%20%20con.overlays.push(clone)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20clone.on(%22end%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clone.masterVolume.disconnect()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20con.overlays.splice(overlayIndex%2C%201)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20delete%20soundBank%5BnewName%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(!sound.playing)%20con.currentTime%20%3D%20atTime%3B%0D%0A%20%20%20%20%20%20%20%20%20%20sound.play(0%2C%20atTime)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20srcNode%20%3D%20sound.sourceNode%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.updateAudioNodes(srcNode%2C%20con)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(Object.keys(con.binds).length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20Object.keys(con.binds).forEach((key)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20thisSound%20%3D%20con.binds%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20context%20%3D%20thisSound.context%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!context.playing)%20thisSound.currentTime%20%3D%20atTime%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20context.play(0%2C%20atTime)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.updateAudioNodes(context.sourceNode%2C%20thisSound)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(sound.loop)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.loopParams(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20con.name%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20START%3A%20con.loopParm%5B0%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20END%3A%20con.loopParm%5B1%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20this.startHats(%7B%20name%3A%20con.name%2C%20type%3A%20%22starts%22%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(Scratch.translate(%22Audio%20has%20not%20loaded%20yet!%22))%3B%0D%0A%20%20%20%20%20%20%20%20sound.stop()%3B%20%2F%2F%20Reset%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20typeOverlay(sound%2C%20type)%20%7B%0D%0A%20%20%20%20%20%20const%20ctx%20%3D%20sound.context%3B%0D%0A%20%20%20%20%20%20if%20(type%20%3D%3D%3D%20%22stop%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20lastTime%20%3D%20sound.currentTime%3B%0D%0A%20%20%20%20%20%20%20%20ctx.stop()%3B%0D%0A%20%20%20%20%20%20%20%20sound.currentTime%20%3D%20lastTime%3B%0D%0A%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20sound.overlays.length%3B%20i%2B%2B)%0D%0A%20%20%20%20%20%20%20%20%20%20sound.overlays%5Bi%5D.stop()%3B%0D%0A%20%20%20%20%20%20%20%20this.startHats(%7B%20name%3A%20sound.name%2C%20type%3A%20%22stops%22%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(type%20%3D%3D%3D%20%22pause%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20ctx.pause()%3B%0D%0A%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20sound.overlays.length%3B%20i%2B%2B)%0D%0A%20%20%20%20%20%20%20%20%20%20sound.overlays%5Bi%5D.pause()%3B%0D%0A%20%20%20%20%20%20%20%20this.startHats(%7B%20name%3A%20sound.name%2C%20type%3A%20%22stops%22%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.startHats(%7B%20name%3A%20sound.name%2C%20type%3A%20%22starts%22%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(!ctx.paused)%20return%3B%0D%0A%20%20%20%20%20%20%20%20const%20lastTime%20%3D%20sound.currentTime%3B%0D%0A%20%20%20%20%20%20%20%20ctx.stop()%3B%0D%0A%20%20%20%20%20%20%20%20sound.currentTime%20%3D%20lastTime%3B%0D%0A%20%20%20%20%20%20%20%20ctx.play(0%2C%20lastTime)%3B%0D%0A%20%20%20%20%20%20%20%20this.updateAudioNodes(ctx.sourceNode%2C%20sound)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20attachAnalyser(bank%2C%20engine)%20%7B%0D%0A%20%20%20%20%20%20bank.analyser%20%3D%20Pizzicato.context.createAnalyser()%3B%0D%0A%20%20%20%20%20%20bank.analyser.fftSize%20%3D%201024%3B%0D%0A%20%20%20%20%20%20bank.analyser.smoothingTimeConstant%20%3D%200.8%3B%0D%0A%20%20%20%20%20%20engine.connect(bank.analyser)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20trackEndFn(bank%2C%20engine)%20%7B%0D%0A%20%20%20%20%20%20bank.currentTime%20%3D%20engine.loop%20%26%26%20bank.loopParm%5B1%5D%0D%0A%20%20%20%20%20%20%20%20%3F%20bank.loopParm%5B1%5D%20%3A%20engine.sourceNode.buffer.duration%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20importURL(args%2C%20util)%20%7B%0D%0A%20%20return%20new%20Promise((resolve)%20%3D%3E%20%7B%0D%0A%20%20%20%20this.deleteSound(args)%3B%0D%0A%20%20%20%20if%20(!args.URL)%20return%20resolve()%3B%0D%0A%20%20%20%20%0D%0A%20%20%20%20const%20engine%20%3D%20new%20Pizzicato.Sound(%0D%0A%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20source%3A%20%22file%22%2C%0D%0A%20%20%20%20%20%20%20%20options%3A%20%7B%20path%3A%20args.URL%2C%20attack%3A%200%20%7D%2C%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20engine.sourceNode%20%3D%20engine.getSourceNode()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20bank%20%3D%20(soundBank%5Bargs.NAME%5D%20%3D%20this.generateData(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20args.NAME%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20args.URL%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20engine%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20false%0D%0A%20%20%20%20%20%20%20%20%20%20))%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20this.attachAnalyser(bank%2C%20engine)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20engine.on(%22stop%22%2C%20()%20%3D%3E%20this.trackEndFn(bank%2C%20engine))%3B%0D%0A%20%20%20%20%20%20%20%20%20%20resolve()%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20console.error(%22Sound%20load%20error%3A%22%2C%20e)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20alert(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Tune%20Shark%20V3%20can't%20import%20this%20sound%2C%20file%20may%20be%20corrupted%20or%20non-existent.%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20resolve()%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20)%3B%0D%0A%20%20%7D)%3B%0D%0A%7D%0D%0A%0D%0A%20%20%20%20importMenu(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20name%20%3D%20Cast.toString(args.SOUND)%3B%0D%0A%20%20%20%20%20%20const%20target%20%3D%20util.target.sprite%3B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20target.sounds.find((i)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20i.name%20%3D%3D%3D%20name%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20if%20(sound)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.deleteSound(args)%3B%0D%0A%20%20%20%20%20%20%20%20const%20sourceURL%20%3D%20%60%2F%24%7Btarget.name.replaceAll(%22%2F%22%2C%20%22%22)%7D%2F%24%7Bsound.name.replaceAll(%22%2F%22%2C%20%22%22)%7D.%24%7Bsound.dataFormat%7D%60%3B%0D%0A%20%20%20%20%20%20%20%20const%20buffer%20%3D%20target.soundBank.soundPlayers%5Bsound.soundId%5D.buffer%3B%0D%0A%20%20%20%20%20%20%20%20const%20engine%20%3D%20new%20Pizzicato.Sound(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20source%3A%20%22buffer%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20options%3A%20%7B%20buffer%2C%20attack%3A%200%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20this%20part%20of%20the%20Library%20was%20modified%20to%20work%20like%20this%0D%0A%20%20%20%20%20%20%20%20engine.sourceNode%20%3D%20engine.getSourceNode()%3B%0D%0A%20%20%20%20%20%20%20%20const%20bank%20%3D%20this.generateData(args.NAME%2C%20sourceURL%2C%20engine%2C%20true)%3B%0D%0A%20%20%20%20%20%20%20%20soundBank%5Bargs.NAME%5D%20%3D%20bank%3B%0D%0A%20%20%20%20%20%20%20%20this.attachAnalyser(bank%2C%20engine)%3B%0D%0A%20%20%20%20%20%20%20%20engine.on(%22stop%22%2C%20()%20%3D%3E%20this.trackEndFn(bank%2C%20engine))%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20bindSound(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound1%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20const%20sound2%20%3D%20soundBank%5Bargs.NAME2%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound1%20%3D%3D%3D%20undefined%20%7C%7C%20sound2%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20shouldBind%20%3D%20args.TYPE%20%3D%3D%3D%20%22bind%22%3B%0D%0A%20%20%20%20%20%20sound1.isBind%20%3D%20shouldBind%3B%0D%0A%20%20%20%20%20%20sound2.isBind%20%3D%20shouldBind%3B%0D%0A%20%20%20%20%20%20if%20(shouldBind)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(sound1.binds%5Bsound2.name%5D)%0D%0A%20%20%20%20%20%20%20%20%20%20this.typeOverlay(sound1.binds%5Bsound2.name%5D%2C%20%22stop%22)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(sound2.binds%5Bsound1.name%5D)%0D%0A%20%20%20%20%20%20%20%20%20%20this.typeOverlay(sound2.binds%5Bsound1.name%5D%2C%20%22stop%22)%3B%0D%0A%20%20%20%20%20%20%20%20sound1.binds%5Bsound2.name%5D%20%3D%20sound2%3B%0D%0A%20%20%20%20%20%20%20%20sound2.binds%5Bsound1.name%5D%20%3D%20sound1%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20delete%20sound1.binds%5Bsound2.name%5D%3B%0D%0A%20%20%20%20%20%20%20%20delete%20sound2.binds%5Bsound1.name%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20startSound(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20!%3D%3D%20undefined)%20this.play(sound.context%2C%200%2C%20sound)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20startSoundAt(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20const%20time%20%3D%20Cast.toNumber(args.TIME)%3B%0D%0A%20%20%20%20%20%20if%20(sound%20!%3D%3D%20undefined)%20this.play(sound.context%2C%20time%2C%20sound)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20playAndStop(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20if%20(util.stackFrame.awaitingSound%20%3D%3D%3D%20undefined)%20%7B%0D%0A%20%20%20%20%20%20%20%20util.stackFrame.awaitingSound%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20this.play(sound.context%2C%20Cast.toNumber(args.TIME)%2C%20sound)%3B%0D%0A%20%20%20%20%20%20%20%20util.yield()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(util.stackFrame.awaitingSound)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(sound.currentTime%20%3E%3D%20Cast.toNumber(args.MAX))%0D%0A%20%20%20%20%20%20%20%20%20%20this.typeOverlay(sound%2C%20%22stop%22)%3B%0D%0A%20%20%20%20%20%20%20%20else%20util.yield()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20stopSound(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20!%3D%3D%20undefined)%20this.typeOverlay(sound%2C%20%22stop%22)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20pauseSound(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20if%20(args.UN_PAUSE%20%3D%3D%3D%20%22pause%22)%20this.typeOverlay(sound%2C%20%22pause%22)%3B%0D%0A%20%20%20%20%20%20else%20this.typeOverlay(sound%2C%20%22unpause%22)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20ctrlSounds(args)%20%7B%0D%0A%20%20%20%20%20%20const%20allSounds%20%3D%20Object.values(soundBank)%3B%0D%0A%20%20%20%20%20%20if%20(args.CONTROL%20%3D%3D%3D%20%22start%22)%0D%0A%20%20%20%20%20%20%20%20allSounds.forEach((sound)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.play(sound.context%2C%200%2C%20sound)%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20else%20if%20(args.CONTROL%20%3D%3D%3D%20%22stop%22)%0D%0A%20%20%20%20%20%20%20%20allSounds.forEach((sound)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20sound.context.stop()%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20else%20if%20(args.CONTROL%20%3D%3D%3D%20%22pause%22)%0D%0A%20%20%20%20%20%20%20%20allSounds.forEach((sound)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.typeOverlay(sound%2C%20%22pause%22)%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20else%0D%0A%20%20%20%20%20%20%20%20allSounds.forEach((sound)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.typeOverlay(sound%2C%20%22unpause%22)%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20enableControl(args)%20%7B%0D%0A%20%20%20%20%20%20settings.flagCtrl%20%3D%20args.ON_OFF%20%3D%3D%3D%20%22on%22%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20toggleOverlap(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20sound.overlap%20%3D%20args.TYPE%20%3D%3D%3D%20%22on%22%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20toggleLoop(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20oldValue%20%3D%20sound.context.loop%3B%0D%0A%20%20%20%20%20%20sound.context.loop%20%3D%20args.TYPE%20%3D%3D%3D%20%22on%22%3B%0D%0A%20%20%20%20%20%20if%20(args.TYPE%20%3D%3D%3D%20%22off%22)%20this.typeOverlay(sound%2C%20%22stop%22)%3B%0D%0A%20%20%20%20%20%20else%20if%20(!oldValue%20%26%26%20sound.context.playing)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20lastTime%20%3D%20sound.currentTime%3B%0D%0A%20%20%20%20%20%20%20%20sound.context.stop()%3B%0D%0A%20%20%20%20%20%20%20%20sound.currentTime%20%3D%20lastTime%3B%0D%0A%20%20%20%20%20%20%20%20sound.context.play(0%2C%20lastTime)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20toggleReverse(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20if%20(sound.reversed%20%3D%3D%3D%20(args.TYPE%20%3D%3D%3D%20%22on%22))%20return%3B%0D%0A%20%20%20%20%20%20sound.reversed%20%3D%20args.TYPE%20%3D%3D%3D%20%22on%22%3B%0D%0A%20%20%20%20%20%20this.typeOverlay(sound%2C%20%22stop%22)%3B%0D%0A%20%20%20%20%20%20sound._cache%20%3D%20%7B%20loudness%3A%20%7B%7D%2C%20tone%3A%20%7B%7D%20%7D%3B%0D%0A%20%20%20%20%20%20const%20node%20%3D%20sound.context.sourceNode%3B%0D%0A%20%20%20%20%20%20const%20reverseBuffer%20%3D%20(buffer)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20buffer.numberOfChannels%3B%20i%2B%2B)%0D%0A%20%20%20%20%20%20%20%20%20%20buffer.getChannelData(i).reverse()%3B%0D%0A%20%20%20%20%20%20%20%20return%20buffer%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20const%20bufferSource%20%3D%20node.context.createBufferSource()%3B%0D%0A%20%20%20%20%20%20bufferSource.buffer%20%3D%20reverseBuffer(node.buffer)%3B%0D%0A%20%20%20%20%20%20bufferSource.connect(node.context.destination)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20loopParams(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20sound.context.loop%20%3D%20true%3B%0D%0A%20%20%20%20%20%20const%20srcNode%20%3D%20sound.context.sourceNode%3B%0D%0A%20%20%20%20%20%20srcNode.loopStart%20%3D%20Cast.toNumber(args.START)%3B%0D%0A%20%20%20%20%20%20srcNode.loopEnd%20%3D%20Cast.toNumber(args.END)%3B%0D%0A%20%20%20%20%20%20sound.loopParm%20%3D%20%5BsrcNode.loopStart%2C%20srcNode.loopEnd%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20deleteSound(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20this.stopSound(args)%3B%0D%0A%20%20%20%20%20%20if%20(sound)%20%7B%0D%0A%20%20%20%20%20%20%20%20sound.vol%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20sound.context.volume%20%3D%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20delete%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20deleteAllSounds()%20%7B%0D%0A%20%20%20%20%20%20for%20(let%20name%20in%20soundBank)%20this.deleteSound(%7B%20NAME%3A%20name%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20allSounds()%20%7B%0D%0A%20%20%20%20%20%20return%20JSON.stringify(Object.keys(soundBank))%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20allPlaySounds()%20%7B%0D%0A%20%20%20%20%20%20const%20players%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20Object.entries(soundBank).forEach((%5Bkey%2C%20innerSrc%5D)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(innerSrc.context.playing)%20players.push(key)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20return%20JSON.stringify(players)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20whenSound(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20data%20%3D%20util.thread%5Bts3Data%5D%20%3F%3F%20%7B%7D%3B%0D%0A%20%20%20%20%20%20return%20args.CONTROL%20%3D%3D%3D%20data.type%20%26%26%20args.NAME%20%3D%3D%3D%20data.name%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20soundCheck(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%20false%3B%0D%0A%20%20%20%20%20%20switch%20(args.CONTROL)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20%22exists%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.loaded%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22playing%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.context.playing%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22paused%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.context.paused%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22looped%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.context.loop%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22overlaped%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.overlap%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22reversed%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.reversed%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22binded%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.isBind%3B%0D%0A%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20soundProperty(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%200%3B%0D%0A%20%20%20%20%20%20const%20src%20%3D%20sound.context.sourceNode%3B%0D%0A%20%20%20%20%20%20const%20prop%20%3D%20Cast.toString(args.PROP)%3B%0D%0A%20%20%20%20%20%20switch%20(prop)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20%22length%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20src.buffer.duration%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22current%20time%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.currentTime%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22estimated%20bpm%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20this.getBPM(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20src.buffer.getChannelData(0)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20src.buffer.sampleRate%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22channels%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20src.buffer.numberOfChannels%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22fft%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20const%20dataArray%20%3D%20new%20Uint8Array(sound.analyser.frequencyBinCount)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20sound.analyser.getByteFrequencyData(dataArray)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(Array.from(dataArray))%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22source%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.src%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22binds%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(Object.keys(sound.binds))%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22volume%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.vol%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22pitch%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20Math.round((sound.pitch%20-%201)%20*%20100)%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22detune%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.detune%20%2F%2010%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22speed%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.speed%20*%20100%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22gain%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.gain%20*%20100%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22pan%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.effects%5Bprop.toUpperCase()%5D%3F.options.pan%20*%20100%20%7C%7C%200%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22distortion%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20sound.effects%5Bprop.toUpperCase()%5D%3F.options.gain%20*%20100%20%7C%7C%200%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22attack%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.attack%20*%20100%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22release%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20sound.release%20*%20100%3B%0D%0A%20%20%20%20%20%20%20%20default%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20effect%20%3D%20sound.effects%5Bprop.toUpperCase()%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(effect%20%3D%3D%3D%20undefined)%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(effect.arguments)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getLoudTime(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%200%3B%0D%0A%20%20%20%20%20%20const%20time%20%3D%20Cast.toNumber(args.TIME)%3B%0D%0A%20%20%20%20%20%20const%20chan%20%3D%20Cast.toNumber(args.CHANNEL)%20-%201%3B%0D%0A%20%20%20%20%20%20const%20audioCtx%20%3D%20sound.context.sourceNode%3B%0D%0A%20%20%20%20%20%20const%20buffer%20%3D%20audioCtx.buffer%3B%0D%0A%20%20%20%20%20%20const%20duration%20%3D%20buffer.duration%3B%0D%0A%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20time%20%3C%200%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20time%20%3E%20duration%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20chan%20%3C%200%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20chan%20%3E%20buffer.numberOfChannels%20-%201%0D%0A%20%20%20%20%20%20)%0D%0A%20%20%20%20%20%20%20%20return%200%3B%0D%0A%0D%0A%20%20%20%20%20%20let%20value%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20args.TYPE%20!%3D%3D%20%22raw%20noise%22%20%26%26%0D%0A%20%20%20%20%20%20%20%20sound._cache%5Bargs.TYPE%5D%5B%60%24%7Btime%7D%24%7Bchan%7D%60%5D%20!%3D%3D%20undefined%0D%0A%20%20%20%20%20%20)%0D%0A%20%20%20%20%20%20%20%20value%20%3D%20sound._cache%5Bargs.TYPE%5D%5B%60%24%7Btime%7D%24%7Bchan%7D%60%5D%3B%0D%0A%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20sampleRate%20%3D%20buffer.sampleRate%3B%0D%0A%20%20%20%20%20%20%20%20const%20channelData%20%3D%20buffer.getChannelData(chan)%3B%0D%0A%20%20%20%20%20%20%20%20const%20sampleIndex%20%3D%20Math.floor(sampleRate%20*%20time)%3B%0D%0A%20%20%20%20%20%20%20%20const%20windowSize%20%3D%20sampleRate%20*%200.1%3B%0D%0A%20%20%20%20%20%20%20%20const%20startSample%20%3D%20Math.max(0%2C%20sampleIndex%20-%20windowSize%20%2F%202)%3B%0D%0A%20%20%20%20%20%20%20%20const%20endSample%20%3D%20Math.min(%0D%0A%20%20%20%20%20%20%20%20%20%20channelData.length%2C%0D%0A%20%20%20%20%20%20%20%20%20%20sampleIndex%20%2B%20windowSize%20%2F%202%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20no%20need%20to%20cache%20raw%20noise%2C%20no%20work%20is%20done%0D%0A%20%20%20%20%20%20%20%20if%20(args.TYPE%20%3D%3D%3D%20%22raw%20noise%22)%20value%20%3D%20channelData%5BendSample%5D%3B%0D%0A%20%20%20%20%20%20%20%20else%20if%20(args.TYPE%20%3D%3D%3D%20%22tone%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20data%20%3D%20channelData.slice(startSample%2C%20endSample)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20size%20%3D%20data.length%3B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20tauArray%20%3D%20new%20Array(size).fill(0)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(let%20tau%20%3D%201%3B%20tau%20%3C%20size%3B%20tau%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20sum%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20size%20-%20tau%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20diff%20%3D%20data%5Bi%5D%20-%20data%5Bi%20%2B%20tau%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20sum%20%2B%3D%20diff%20*%20diff%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tauArray%5Btau%5D%20%3D%20sum%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(let%20tau%20%3D%201%3B%20tau%20%3C%20size%3B%20tau%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%20%2B%3D%20tauArray%5Btau%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tauArray%5Btau%5D%20*%3D%20tau%20%2F%20value%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20let%20bestTau%20%3D%20-1%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(let%20tau%20%3D%201%3B%20tau%20%3C%20size%3B%20tau%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(tauArray%5Btau%5D%20%3C%200.1)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20bestTau%20%3D%20tau%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%20bestTau%20%3E%200%20%3F%20sampleRate%20%2F%20bestTau%20%3A%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20sound._cache%5B%22tone%22%5D%5B%60%24%7Btime%7D%24%7Bchan%7D%60%5D%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20value%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(args.TYPE%20%3D%3D%3D%20%22loudness%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%20startSample%3B%20i%20%3C%20endSample%3B%20i%2B%2B)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%20%2B%3D%20channelData%5Bi%5D%20*%20channelData%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20rms%20%3D%20Math.sqrt(value%20%2F%20(endSample%20-%20startSample))%3B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20dB%20%3D%2020%20*%20Math.log10(rms)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%20Math.min(Math.max((dB%20%2B%2050)%20%2F%2050%2C%200)%2C%201)%20*%20100%3B%0D%0A%20%20%20%20%20%20%20%20%20%20sound._cache%5B%22loudness%22%5D%5B%60%24%7Btime%7D%24%7Bchan%7D%60%5D%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20isNaN(value)%20%3F%200%20%3A%20value%20*%20sound.gain%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setVol(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20sound.vol%20%3D%20Math.max(0%2C%20Cast.toNumber(args.NUM))%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20resetEffect(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20ctx%20%3D%20sound.context%3B%0D%0A%20%20%20%20%20%20const%20effect%20%3D%20Cast.toString(args.EFFECT)%3B%0D%0A%20%20%20%20%20%20const%20name%20%3D%20effect.toUpperCase()%3B%0D%0A%20%20%20%20%20%20if%20(effect%20%3D%3D%3D%20%22pitch%22)%20sound.pitch%20%3D%201%3B%0D%0A%20%20%20%20%20%20else%20if%20(effect%20%3D%3D%3D%20%22detune%22)%20sound.detune%20%3D%200%3B%0D%0A%20%20%20%20%20%20else%20if%20(effect%20%3D%3D%3D%20%22speed%22)%20sound.speed%20%3D%201%3B%0D%0A%20%20%20%20%20%20else%20if%20(effect%20%3D%3D%3D%20%22gain%22)%20sound.gain%20%3D%201%3B%0D%0A%20%20%20%20%20%20else%20if%20(effect%20%3D%3D%3D%20%22attack%22)%20sound.attack%20%3D%200%3B%0D%0A%20%20%20%20%20%20else%20if%20(effect%20%3D%3D%3D%20%22release%22)%20sound.release%20%3D%200%3B%0D%0A%20%20%20%20%20%20else%20if%20(effect%20%3D%3D%3D%20%22all%20effects%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20sound.pitch%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20sound.detune%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20sound.speed%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20sound.gain%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20sound.attack%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20sound.release%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20const%20effects%20%3D%20sound.effects%3B%0D%0A%20%20%20%20%20%20%20%20Object.values(effects).forEach((e)%20%3D%3E%20ctx.removeEffect(e))%3B%0D%0A%20%20%20%20%20%20%20%20sound.effects%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(sound.effects%5Bname%5D%20!%3D%3D%20undefined)%20%7B%0D%0A%20%20%20%20%20%20%20%20ctx.removeEffect(sound.effects%5Bname%5D)%3B%0D%0A%20%20%20%20%20%20%20%20delete%20sound.effects%5Bname%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20sound.rate%20%3D%20sound.pitch%20*%20sound.speed%20*%20Math.pow(2%2C%20sound.detune%20%2F%201200)%3B%0D%0A%20%20%20%20%20%20this.updateAudioNodes(ctx.sourceNode%2C%20sound)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setThingNew(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20ctx%20%3D%20sound.context%3B%0D%0A%20%20%20%20%20%20const%20value%20%3D%20Cast.toNumber(args.VALUE)%20%2F%20100%3B%0D%0A%20%20%20%20%20%20if%20(args.TYPE%20%3D%3D%3D%20%22pitch%22)%20sound.pitch%20%3D%20Math.max(0%2C%20value%20%2B%201)%3B%0D%0A%20%20%20%20%20%20else%20if%20(args.TYPE%20%3D%3D%3D%20%22detune%22)%20sound.detune%20%3D%20value%20*%201000%3B%0D%0A%20%20%20%20%20%20else%20if%20(args.TYPE%20%3D%3D%3D%20%22speed%22)%20sound.speed%20%3D%20Math.max(0%2C%20value)%3B%0D%0A%20%20%20%20%20%20else%20if%20(args.TYPE%20%3D%3D%3D%20%22gain%22)%20sound.gain%20%3D%20value%3B%0D%0A%20%20%20%20%20%20else%20if%20(args.TYPE%20%3D%3D%3D%20%22attack%22)%20sound.attack%20%3D%20Math.max(0%2C%20value)%3B%0D%0A%20%20%20%20%20%20else%20if%20(args.TYPE%20%3D%3D%3D%20%22release%22)%20sound.release%20%3D%20Math.max(0%2C%20value)%3B%0D%0A%20%20%20%20%20%20else%20if%20(args.TYPE%20%3D%3D%3D%20%22pan%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20pan%20%3D%20new%20Pizzicato.Effects.StereoPanner(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20pan%3A%20Math.max(-1%2C%20Math.min(1%2C%20value))%2C%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20return%20this.updateEffect(pan%2C%20sound%2C%20%22PAN%22%2C%20args)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(args.TYPE%20%3D%3D%3D%20%22distortion%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20distort%20%3D%20new%20Pizzicato.Effects.Distortion(%7B%20gain%3A%20value%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20return%20this.updateEffect(distort%2C%20sound%2C%20%22DISTORTION%22%2C%20args)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20sound.rate%20%3D%20sound.pitch%20*%20sound.speed%20*%20Math.pow(2%2C%20sound.detune%20%2F%201200)%3B%0D%0A%20%20%20%20%20%20this.updateAudioNodes(ctx.sourceNode%2C%20sound)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setReverb(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20reverb%20%3D%20new%20Pizzicato.Effects.Reverb(%7B%0D%0A%20%20%20%20%20%20%20%20time%3A%20Cast.toNumber(args.TIME)%20%2F%2010%2C%0D%0A%20%20%20%20%20%20%20%20decay%3A%20Cast.toNumber(args.DECAY)%20%2F%2010%2C%0D%0A%20%20%20%20%20%20%20%20mix%3A%20Cast.toNumber(args.MIX)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20this.updateEffect(reverb%2C%20sound%2C%20%22REVERB%22%2C%20args)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setDelay(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20delay%20%3D%20new%20Pizzicato.Effects.Delay(%7B%0D%0A%20%20%20%20%20%20%20%20time%3A%20Math.min(1%2C%20Math.max(0%2C%20Cast.toNumber(args.TIME)%20%2F%20100))%2C%0D%0A%20%20%20%20%20%20%20%20decay%3A%20Cast.toNumber(args.FEED)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%20%20mix%3A%20Cast.toNumber(args.MIX)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20this.updateEffect(delay%2C%20sound%2C%20%22DELAY%22%2C%20args)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setFuzz(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20fuzz%20%3D%20new%20Pizzicato.Effects.Quadrafuzz(%7B%0D%0A%20%20%20%20%20%20%20%20lowGain%3A%20Math.min(1%2C%20Math.max(0%2C%20Cast.toNumber(args.LOW)%20%2F%20100))%2C%0D%0A%20%20%20%20%20%20%20%20midLowGain%3A%20Math.min(1%2C%20Math.max(0%2C%20Cast.toNumber(args.MED1)%20%2F%20100))%2C%0D%0A%20%20%20%20%20%20%20%20midHighGain%3A%20Math.min(1%2C%20Math.max(0%2C%20Cast.toNumber(args.MED2)%20%2F%20100))%2C%0D%0A%20%20%20%20%20%20%20%20highGain%3A%20Math.min(1%2C%20Math.max(0%2C%20Cast.toNumber(args.HIGH)%20%2F%20100))%2C%0D%0A%20%20%20%20%20%20%20%20mix%3A%20Cast.toNumber(args.MIX)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20this.updateEffect(fuzz%2C%20sound%2C%20%22FUZZ%22%2C%20args)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setBitcrush(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20%2F*%20NOTE%3A%20Bitcrusher%20uses%20%22ScriptProcessorNode%22%0D%0A%20%20%20%20%20%20%20%20despite%20being%20%22deprecated%22%20they%20are%20still%20widely%20used%0D%0A%20%20%20%20%20%20*%2F%0D%0A%20%20%20%20%20%20const%20bitcrush%20%3D%20new%20Pizzicato.Effects.Bitcrusher(%7B%0D%0A%20%20%20%20%20%20%20%20bits%3A%20Math.max(10%2C%20Cast.toNumber(args.BITS))%20%2F%2010%2C%0D%0A%20%20%20%20%20%20%20%20frequency%3A%20Math.max(30000%2C%20Cast.toNumber(args.FREQ))%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20this.updateEffect(bitcrush%2C%20sound%2C%20%22BITCRUSH%22%2C%20args)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setPan3D(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20pan3d%20%3D%20new%20Pizzicato.Effects.Panner3D(%7B%0D%0A%20%20%20%20%20%20%20%20x%3A%20Cast.toNumber(args.X)%2C%0D%0A%20%20%20%20%20%20%20%20y%3A%20Cast.toNumber(args.Y)%2C%0D%0A%20%20%20%20%20%20%20%20z%3A%20Cast.toNumber(args.Z)%20-%201%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20this.updateEffect(pan3d%2C%20sound%2C%20%22PAN3D%22%2C%20args)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setTremolo(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20tremelo%20%3D%20new%20Pizzicato.Effects.Tremolo(%7B%0D%0A%20%20%20%20%20%20%20%20speed%3A%20Cast.toNumber(args.SPEED)%20%2F%205%2C%0D%0A%20%20%20%20%20%20%20%20depth%3A%20Cast.toNumber(args.DEPTH)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%20%20mix%3A%20Cast.toNumber(args.MIX)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20this.updateEffect(tremelo%2C%20sound%2C%20%22TREMOLO%22%2C%20args)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setPass(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20json%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20frequency%3A%20Cast.toNumber(args.FREQ)%2C%0D%0A%20%20%20%20%20%20%20%20peak%3A%20Cast.toNumber(args.PEAK)%20%2F%205%2C%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20if%20(args.TYPE%20%3D%3D%3D%20%22highpass%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20highpass%20%3D%20new%20Pizzicato.Effects.HighPassFilter(json)%3B%0D%0A%20%20%20%20%20%20%20%20this.updateEffect(highpass%2C%20sound%2C%20%22HIGHPASS%22%2C%20args)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20lowpass%20%3D%20new%20Pizzicato.Effects.LowPassFilter(json)%3B%0D%0A%20%20%20%20%20%20%20%20this.updateEffect(lowpass%2C%20sound%2C%20%22LOWPASS%22%2C%20args)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setFlanger(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20flang%20%3D%20new%20Pizzicato.Effects.Flanger(%7B%0D%0A%20%20%20%20%20%20%20%20time%3A%20Cast.toNumber(args.TIME)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%20%20speed%3A%20Cast.toNumber(args.SPEED)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%20%20depth%3A%20Cast.toNumber(args.DEPTH)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%20%20feedback%3A%20Cast.toNumber(args.FEED)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%20%20mix%3A%20Cast.toNumber(args.MIX)%20%2F%20100%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20this.updateEffect(flang%2C%20sound%2C%20%22FLANGER%22%2C%20args)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setCompress(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20compress%20%3D%20new%20Pizzicato.Effects.Compressor(%7B%0D%0A%20%20%20%20%20%20%20%20threshold%3A%20Math.min(0%2C%20Math.max(-100%2C%20Cast.toNumber(args.THRESH)%20*%20-1))%2C%0D%0A%20%20%20%20%20%20%20%20ratio%3A%20Cast.toNumber(args.RATIO)%20%2F%205%2C%0D%0A%20%20%20%20%20%20%20%20attack%3A%20Math.min(0%2C%20Math.max(1%2C%20Cast.toNumber(args.ATTACK)%20%2F%20100))%2C%0D%0A%20%20%20%20%20%20%20%20release%3A%20Math.min(0%2C%20Math.max(1%2C%20Cast.toNumber(args.RELEASE)%20%2F%20100))%2C%0D%0A%20%20%20%20%20%20%20%20knee%3A%20Cast.toNumber(args.KNEE)%20%2F%202.5%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20this.updateEffect(compress%2C%20sound%2C%20%22COMPRESSOR%22%2C%20args)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setEqualize(args)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20const%20equalizer%20%3D%20new%20Pizzicato.Effects.ThreeBandEqualizer(%7B%0D%0A%20%20%20%20%20%20%20%20cutoff_frequency_high%3A%2012000%20%2B%20Cast.toNumber(args.CUT_HIGH)%20*%20120%2C%0D%0A%20%20%20%20%20%20%20%20cutoff_frequency_low%3A%2012000%20%2B%20Cast.toNumber(args.CUT_LOW)%20*%20120%2C%0D%0A%20%20%20%20%20%20%20%20low_band_gain%3A%20Cast.toNumber(args.LOW)%20%2F%2010%2C%0D%0A%20%20%20%20%20%20%20%20mid_band_gain%3A%20Cast.toNumber(args.MID)%20%2F%2010%2C%0D%0A%20%20%20%20%20%20%20%20high_band_gain%3A%20Cast.toNumber(args.HIGH)%20%2F%2010%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20this.updateEffect(equalizer%2C%20sound%2C%20%22EQUALIZER%22%2C%20args)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F*%20Deprecation%20Marker%20*%2F%0D%0A%20%20%20%20%2F%2F%20PenguinMod%20Storage%0D%0A%20%20%20%20serialize()%20%7B%0D%0A%20%20%20%20%20%20if%20(settings.canSave)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20convertedBank%20%3D%20JSON.parse(JSON.stringify(soundBank))%3B%0D%0A%20%20%20%20%20%20%20%20Object.values(convertedBank).forEach(item%20%3D%3E%20delete%20item.context)%3B%0D%0A%20%20%20%20%20%20%20%20return%20%7B%20SPtuneShark3%3A%20%7B%20bank%3A%20convertedBank%2C%20settings%20%7D%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20%7B%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20deserialize(data)%20%7B%0D%0A%20%20%20%20%20%20this.loadStorage(data.SPtuneShark3)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20save2Project(args)%20%7B%0D%0A%20%20%20%20%20%20settings.canSave%20%3D%20args.SAVE%20%3D%3D%3D%20%22save%22%3B%0D%0A%20%20%20%20%20%20if%20(!Scratch.extensions.isPenguinMod)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(settings.canSave)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20convertedBank%20%3D%20JSON.parse(JSON.stringify(soundBank))%3B%0D%0A%20%20%20%20%20%20%20%20%20%20Object.values(convertedBank).forEach(item%20%3D%3E%20delete%20item.context)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20runtime.extensionStorage%5B%22SPtuneShark3%22%5D%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bank%3A%20convertedBank%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20settings%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20runtime.extensionStorage%5B%22SPtuneShark3%22%5D%20%3D%20undefined%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20async%20convertSound(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20sound%20%3D%20soundBank%5Bargs.NAME1%5D%3B%0D%0A%20%20%20%20%20%20if%20(sound%20%3D%3D%3D%20undefined)%20return%3B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20response%20%3D%20await%20Scratch.fetch(sound.src)%3B%0D%0A%20%20%20%20%20%20%20%20const%20audioBlob%20%3D%20await%20response.blob()%3B%0D%0A%20%20%20%20%20%20%20%20const%20audioDataURL%20%3D%20await%20new%20Promise((resolve)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20reader%20%3D%20new%20FileReader()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20reader.onloadend%20%3D%20()%20%3D%3E%20resolve(reader.result)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20reader.readAsDataURL(audioBlob)%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20await%20this.importURL(%7B%20NAME%3A%20args.NAME2%2C%20URL%3A%20audioDataURL%20%7D%2C%20util)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.error(e)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20setThing(args)%20%7B%20this.setThingNew(args)%20%7D%0D%0A%20%20%20%20%2F*%20Marker%20End%20*%2F%0D%0A%20%20%7D%0D%0A%0D%0A%20%20Scratch.extensions.register(new%20SPtuneShark3())%3B%0D%0A%7D)(Scratch)%3B%0D%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Looks%20Expanded%0A%2F%2F%20ID%3A%20SPlooksExpanded%0A%2F%2F%20Description%3A%20Expansion%20of%20the%20Looks%20Category%0A%2F%2F%20By%3A%20SharkPool%0A%2F%2F%20By%3A%20CST1229%20%3Chttps%3A%2F%2Fscratch.mit.edu%2Fusers%2FCST1229%2F%3E%0A%2F%2F%20Licence%3A%20MIT%0A%0A%2F%2F%20Version%20V.1.0.3%0A%0A(function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20throw%20new%20Error(%22Looks%20Expanded%20must%20run%20unsandboxed!%22)%3B%0A%0A%20%20const%20menuIconURI%20%3D%0A%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5Ny43MzkiIGhlaWdodD0iOTcuNzM5IiB2aWV3Qm94PSIwIDAgOTcuNzM5IDk3LjczOSI%2BPGcgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIj48cGF0aCBkPSJNMCA0OC44N0MwIDIxLjg4IDIxLjg4IDAgNDguODcgMHM0OC44NyAyMS44OCA0OC44NyA0OC44Ny0yMS44OCA0OC44Ny00OC44NyA0OC44N1MwIDc1Ljg2IDAgNDguODciIGZpbGw9IiM2MzQyYTYiLz48cGF0aCBkPSJNNS43ODIgNDguODdjMC0yMy43OTcgMTkuMjkxLTQzLjA4OCA0My4wODgtNDMuMDg4UzkxLjk1OCAyNS4wNzMgOTEuOTU4IDQ4Ljg3IDcyLjY2NyA5MS45NTggNDguODcgOTEuOTU4IDUuNzgyIDcyLjY2NyA1Ljc4MiA0OC44NyIgZmlsbD0iIzk2ZiIvPjxwYXRoIGQ9Ik0xNi4xODYgNDQuOTk2YzQuNTMyLTUuMzEgMTYuMjE4LTE2Ljg3NCAzMi4xNzYtMTcuMDM0IDE3LjExNy0uMTcyIDI5LjMzNCAxMi41MzkgMzMuNTIgMTcuNjA0IDEuMDM5IDEuMjU4IDEuMSAyLjc2NC4xNjcgMy45MjctMy45MzUgNC45MDEtMTUuODk4IDE3LjY4Mi0zMy42ODcgMTcuNzY3LTE2Ljk1Ni4wOC0yOC43My0xMi41OS0zMi43MzYtMTcuNjI0LS45OTMtMS4yNDctLjc5My0zLjA1NC41Ni00LjY0IiBmaWxsPSIjZmZmIi8%2BPHBhdGggZD0iTTM1LjE0NiA0Ny42MWMwLTcuNTM2IDYuMTEtMTMuNjQ1IDEzLjY0NS0xMy42NDUgNy41MzYgMCAxMy42NDUgNi4xMSAxMy42NDUgMTMuNjQ1IDAgNy41MzYtNi4xMSAxMy42NDUtMTMuNjQ1IDEzLjY0NS03LjUzNiAwLTEzLjY0NS02LjExLTEzLjY0NS0xMy42NDUiIGZpbGw9IiM5NmYiLz48cGF0aCBkPSJNNDEuMzQyIDQ3LjYxYTcuNDQ5IDcuNDQ5IDAgMSAxIDE0Ljg5OCAwIDcuNDQ5IDcuNDQ5IDAgMCAxLTE0Ljg5OCAwIiBmaWxsPSIjZmZmIi8%2BPHBhdGggZD0iTTY1LjY1IDc4Ljc5YTIuOTIgMi45MiAwIDAgMS0yLjkxOC0yLjkydi02LjcxMmgtNi43MTNhMi45MiAyLjkyIDAgMCAxLTIuOTE5LTIuOTE5VjY0LjA1YTIuOTIgMi45MiAwIDAgMSAyLjkxOS0yLjkxOGg2LjcxM3YtNi43MTNBMi45MiAyLjkyIDAgMCAxIDY1LjY1IDUxLjVoMi4xOWEyLjkyIDIuOTIgMCAwIDEgMi45MTggMi45MTl2Ni43MTNoNi43MTNhMi45MiAyLjkyIDAgMCAxIDIuOTE5IDIuOTE4djIuMTlhMi45MiAyLjkyIDAgMCAxLTIuOTIgMi45MThoLTYuNzEydjYuNzEzYTIuOTIgMi45MiAwIDAgMS0yLjkxOSAyLjkxOXoiIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzk2ZiIgc3Ryb2tlLXdpZHRoPSI4Ii8%2BPHBhdGggZD0iTTY1LjY1IDc4Ljc5YTIuOTIgMi45MiAwIDAgMS0yLjkxOC0yLjkydi02LjcxMmgtNi43MTNhMi45MiAyLjkyIDAgMCAxLTIuOTE5LTIuOTE5VjY0LjA1YTIuOTIgMi45MiAwIDAgMSAyLjkxOS0yLjkxOGg2LjcxM3YtNi43MTNBMi45MiAyLjkyIDAgMCAxIDY1LjY1IDUxLjVoMi4xOWEyLjkyIDIuOTIgMCAwIDEgMi45MTggMi45MTl2Ni43MTNoNi43MTNhMi45MiAyLjkyIDAgMCAxIDIuOTE5IDIuOTE4djIuMTlhMi45MiAyLjkyIDAgMCAxLTIuOTIgMi45MThoLTYuNzEydjYuNzEzYTIuOTIgMi45MiAwIDAgMS0yLjkxOSAyLjkxOXoiIGZpbGw9IiNmZmYiLz48L2c%2BPC9zdmc%2B%22%3B%0A%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0A%20%20const%20Cast%20%3D%20Scratch.Cast%3B%0A%20%20const%20runtime%20%3D%20vm.runtime%3B%0A%20%20const%20looksCore%20%3D%20runtime.ext_scratch3_looks%3B%0A%20%20const%20isPM%20%3D%20Scratch.extensions.isPenguinMod%3B%0A%0A%20%20const%20render%20%3D%20vm.renderer%3B%0A%20%20const%20twgl%20%3D%20render.exports.twgl%3B%0A%0A%20%20const%20drawableKey%20%3D%20Symbol(%22SPlooksKey%22)%3B%0A%20%20const%20MAX_REPLACERS%20%3D%2015%3B%0A%20%20const%20newUniforms%20%3D%20%5B%0A%20%20%20%20%22u_replaceColorFromSP%22%2C%20%22u_replaceColorToSP%22%2C%20%22u_replaceThresholdSP%22%2C%20%22u_numReplacersSP%22%2C%0A%20%20%20%20%22u_warpSP%22%2C%20%22u_maskTextureSP%22%2C%20%22u_shouldMaskSP%22%2C%0A%20%20%20%20%22u_tintColorSP%22%2C%20%22u_saturateSP%22%2C%20%22u_opaqueSP%22%2C%20%22u_contrastSP%22%2C%0A%20%20%20%20%22u_posterizeSP%22%2C%20%22u_sepiaSP%22%2C%20%22u_bloomSP%22%0A%20%20%5D%3B%0A%20%20const%20defaultNewEffects%20%3D%20%7B%0A%20%20%20%20warp%3A%20%5B0.5%2C%20-0.5%2C%20-0.5%2C%20-0.5%2C%20-0.5%2C%200.5%2C%200.5%2C%200.5%5D%2C%0A%20%20%20%20tint%3A%20%5B1%2C%201%2C%201%2C%201%5D%2C%0A%20%20%20%20replacers%3A%20%5B%5D%2C%0A%20%20%20%20maskTexture%3A%20%22%22%2C%0A%20%20%20%20oldMask%3A%20%22%22%2C%0A%20%20%20%20shouldMask%3A%200%2C%0A%20%20%20%20newEffects%3A%20%7B%0A%20%20%20%20%20%20saturation%3A%201%2C%20opaque%3A%200%2C%20contrast%3A%201%2C%0A%20%20%20%20%20%20posterize%3A%200%2C%20sepia%3A%200%2C%20bloom%3A%200%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20let%20currentShader%3B%0A%0A%20%20%2F*%20patch%20for%20new%20effects%20*%2F%0A%20%20function%20initDrawable(drawable)%20%7B%0A%20%20%20%20if%20(!drawable%5BdrawableKey%5D)%20drawable%5BdrawableKey%5D%20%3D%20structuredClone(defaultNewEffects)%3B%0A%20%20%7D%0A%0A%20%20const%20ogGetShader%20%3D%20render._shaderManager.getShader%3B%0A%20%20render._shaderManager.getShader%20%3D%20function%20(drawMode%2C%20effectBits)%20%7B%0A%20%20%20%20const%20shader%20%3D%20ogGetShader.call(this%2C%20drawMode%2C%20effectBits)%3B%0A%20%20%20%20const%20gl%20%3D%20render._gl%3B%0A%0A%20%20%20%20%2F%2F%20add%20uniforms%20to%20the%20existing%20shader%0A%20%20%20%20newUniforms.forEach(name%20%3D%3E%20%7B%0A%20%20%20%20%20%20shader.uniformSetters%5Bname%5D%20%3D%20gl.getUniformLocation(shader.program%2C%20name)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20currentShader%20%3D%20shader%3B%0A%20%20%20%20return%20shader%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2F%20Clear%20the%20renderer%22s%20shader%20cache%20since%20we%22re%20patching%20shaders%0A%20%20for%20(const%20cache%20of%20Object.values(render._shaderManager._shaderCache))%20%7B%0A%20%20%20%20for%20(const%20programInfo%20of%20cache)%20%7B%0A%20%20%20%20%20%20if%20(programInfo)%20render.gl.deleteProgram(programInfo.program)%3B%0A%20%20%20%20%7D%0A%20%20%20%20cache.length%20%3D%200%3B%0A%20%20%7D%0A%0A%20%20let%20patchShaders%20%3D%20false%3B%0A%20%20const%20ogCreateProgramInfo%20%3D%20twgl.createProgramInfo%3B%0A%20%20twgl.createProgramInfo%20%3D%20function%20(...args)%20%7B%0A%20%20%20%20%2F%2F%20perform%20a%20string%20find-and-replace%20on%20the%20shader%20text%0A%20%20%20%20if%20(patchShaders%20%26%26%20args%5B1%5D%20%26%26%20args%5B1%5D%5B0%5D%20%26%26%20args%5B1%5D%5B1%5D)%20%7B%0A%20%20%20%20%20%20args%5B1%5D%5B0%5D%20%3D%20args%5B1%5D%5B0%5D%0A%20%20%20%20%20%20%20%20%2F%2F%20replace%20attribute%20properties%20with%20variables%20we%20can%20modify%0A%20%20%20%20%20%20%20%20.replaceAll(%22vec4(a_position%22%2C%20%22vec4(positionSP%22)%0A%20%20%20%20%20%20%20%20.replace(%22v_texCoord%20%3D%20a_texCoord%3B%22%2C%20%22%22)%0A%20%20%20%20%20%20%20%20.replace(%22%23if%20!(defined(DRAW_MODE_line)%20%7C%7C%20defined(DRAW_MODE_background))%22%2C%20%22%23if%201%22)%0A%20%20%20%20%20%20%20%20.replace(%0A%20%20%20%20%20%20%20%20%60void%20main()%20%7B%60%2C%0A%20%20%20%20%20%20%20%20%60uniform%20vec2%20u_warpSP%5B4%5D%3B%0A%0Avoid%20main()%20%7B%0A%20%20vec2%20positionSP%20%3D%20a_position%3B%0A%20%20%23ifndef%20DRAW_MODE_background%0A%20%20v_texCoord%20%3D%20a_texCoord%3B%0A%20%20%23endif%0A%0A%20%20float%20u%20%3D%20v_texCoord.x%3B%0A%20%20float%20v%20%3D%20v_texCoord.y%3B%0A%0A%20%20%2F%2F%20apply%20position%20warp%20(bilinear)%0A%20%20vec2%20warpedPos%20%3D%20%0A%20%20%20%20(1.0%20-%20u)%20*%20(1.0%20-%20v)%20*%20u_warpSP%5B0%5D%20%2B%20u%20*%20(1.0%20-%20v)%20*%20u_warpSP%5B1%5D%20%2B%0A%20%20%20%20u%20*%20v%20*%20u_warpSP%5B2%5D%20%2B%20(1.0%20-%20u)%20*%20v%20*%20u_warpSP%5B3%5D%3B%0A%0A%20%20%2F%2F%20compute%20w%20for%20perspective%20correction%0A%20%20float%20w%20%3D%20(1.0%20-%20u)%20*%20(1.0%20-%20v)%20%2B%20u%20*%20(1.0%20-%20v)%20%2B%20u%20*%20v%20%2B%20(1.0%20-%20u)%20*%20v%3B%0A%0A%20%20positionSP%20%3D%20warpedPos%20%2F%20max(w%2C%201e-5)%3B%0A%0A%20%20%23ifdef%20DRAW_MODE_background%0A%20%20gl_Position%20%3D%20vec4(positionSP%20*%202.0%2C%200%2C%201)%3B%0A%20%20%23else%0A%20%20gl_Position%20%3D%20u_projectionMatrix%20*%20u_modelMatrix%20*%20vec4(positionSP%2C%200%2C%201)%3B%0A%20%20%23endif%60%0A%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20args%5B1%5D%5B1%5D%20%3D%20args%5B1%5D%5B1%5D.replace(%0A%20%20%20%20%20%20%20%20%60uniform%20sampler2D%20u_skin%3B%60%2C%0A%20%20%20%20%20%20%20%20%60uniform%20sampler2D%20u_skin%3B%0Auniform%20sampler2D%20u_maskTextureSP%3B%0Auniform%20float%20u_shouldMaskSP%3B%0A%0A%23define%20MAX_REPLACERS%2015%0Auniform%20vec3%20u_replaceColorFromSP%5BMAX_REPLACERS%5D%3B%0Auniform%20vec4%20u_replaceColorToSP%5BMAX_REPLACERS%5D%3B%0Auniform%20float%20u_replaceThresholdSP%5BMAX_REPLACERS%5D%3B%0Auniform%20int%20u_numReplacersSP%3B%0A%0Auniform%20vec4%20u_tintColorSP%3B%0Auniform%20float%20u_saturateSP%3B%0Auniform%20float%20u_opaqueSP%3B%0Auniform%20float%20u_contrastSP%3B%0Auniform%20float%20u_posterizeSP%3B%0Auniform%20float%20u_sepiaSP%3B%0Auniform%20float%20u_bloomSP%3B%0A%0Avec3%20spRGB2HSV(vec3%20c)%20%7B%0A%20%20vec4%20K%20%3D%20vec4(0.0%2C%20-1.0%20%2F%203.0%2C%202.0%20%2F%203.0%2C%20-1.0)%3B%0A%20%20vec4%20p%20%3D%20mix(vec4(c.bg%2C%20K.wz)%2C%20vec4(c.gb%2C%20K.xy)%2C%20step(c.b%2C%20c.g))%3B%0A%20%20vec4%20q%20%3D%20mix(vec4(p.xyw%2C%20c.r)%2C%20vec4(c.r%2C%20p.yzx)%2C%20step(p.x%2C%20c.r))%3B%0A%0A%20%20float%20d%20%3D%20q.x%20-%20min(q.w%2C%20q.y)%3B%0A%20%20float%20e%20%3D%201.0e-10%3B%0A%20%20return%20vec3(abs(q.z%20%2B%20(q.w%20-%20q.y)%20%2F%20(6.0%20*%20d%20%2B%20e))%2C%20d%20%2F%20(q.x%20%2B%20e)%2C%20q.x)%3B%0A%7D%0Avec3%20spHSV2RGB(vec3%20c)%20%7B%0A%20%20vec4%20K%20%3D%20vec4(1.0%2C%202.0%20%2F%203.0%2C%201.0%20%2F%203.0%2C%203.0)%3B%0A%20%20vec3%20p%20%3D%20abs(fract(c.xxx%20%2B%20K.xyz)%20*%206.0%20-%20K.www)%3B%0A%20%20return%20c.z%20*%20mix(K.xxx%2C%20clamp(p%20-%20K.xxx%2C%200.0%2C%201.0)%2C%20c.y)%3B%0A%7D%60%0A%20%20%20%20%20%20).replace(%0A%20%20%20%20%20%20%20%20%60gl_FragColor.rgb%20%3D%20clamp(gl_FragColor.rgb%20%2F%20(gl_FragColor.a%20%2B%20epsilon)%2C%200.0%2C%201.0)%3B%60%2C%0A%20%20%20%20%20%20%20%20%60gl_FragColor.rgb%20%3D%20clamp(gl_FragColor.rgb%20%2F%20(gl_FragColor.a%20%2B%20epsilon)%2C%200.0%2C%201.0)%3B%0Avec3%20finalColor%20%3D%20gl_FragColor.rgb%3B%0Afloat%20finalAlpha%20%3D%20gl_FragColor.a%3B%0A%0Aif%20(u_shouldMaskSP%20%3E%200.5%20%26%26%20finalAlpha%20%3E%200.0)%20%7B%0A%20%20vec4%20maskColor%20%3D%20texture2D(u_maskTextureSP%2C%20texcoord0)%3B%0A%20%20maskColor.rgb%20%3D%20clamp(maskColor.rgb%20%2F%20(maskColor.a%20%2B%20epsilon)%2C%200.0%2C%201.0)%3B%0A%20%20finalAlpha%20*%3D%20maskColor.a%3B%0A%7D%0A%0Afor%20(int%20i%20%3D%200%3B%20i%20%3C%20MAX_REPLACERS%3B%20i%2B%2B)%20%7B%0A%20%20if%20(i%20%3E%3D%20u_numReplacersSP)%20break%3B%0A%0A%20%20float%20dist%20%3D%20distance(finalColor%2C%20u_replaceColorFromSP%5Bi%5D)%3B%0A%20%20if%20(dist%20%3C%3D%20u_replaceThresholdSP%5Bi%5D)%20%7B%0A%20%20%20%20float%20strength%20%3D%201.0%20-%20(dist%20%2F%20(u_replaceThresholdSP%5Bi%5D%20%2B%201.0))%3B%0A%20%20%20%20finalColor%20%3D%20mix(finalColor%2C%20u_replaceColorToSP%5Bi%5D.rgb%2C%20strength)%3B%0A%20%20%20%20if%20(u_replaceColorToSP%5Bi%5D.a%20%3C%201.0%20%26%26%20strength%20%3E%200.01)%20%7B%0A%20%20%20%20%20%20finalAlpha%20%3D%20clamp(mix(finalAlpha%2C%20u_replaceColorToSP%5Bi%5D.a%2C%20strength)%2C%200.0%2C%201.0)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A%0Avec3%20hsv%20%3D%20spRGB2HSV(finalColor)%3B%0Aif%20(u_saturateSP%20%3C%200.0)%20%7B%0A%20%20hsv.x%20%3D%20mod(hsv.x%20%2B%200.5%2C%201.0)%3B%0A%20%20hsv.y%20*%3D%20-u_saturateSP%3B%0A%7D%20else%20%7B%0A%20%20hsv.y%20*%3D%20u_saturateSP%3B%0A%7D%0AfinalColor%20%3D%20spHSV2RGB(hsv)%3B%0AfinalColor%20%3D%20(finalColor%20-%200.5)%20*%20u_contrastSP%20%2B%200.5%3B%0Aif%20(u_posterizeSP%20%3E%200.0)%20finalColor%20%3D%20floor(finalColor%20*%20u_posterizeSP)%20%2F%20u_posterizeSP%3B%0A%0Aif%20(u_sepiaSP%20%3E%200.0)%20%7B%0A%20%20vec3%20sepiaColor%20%3D%20vec3(%0A%20%20%20%20dot(finalColor%2C%20vec3(0.393%2C%200.769%2C%200.189))%2C%0A%20%20%20%20dot(finalColor%2C%20vec3(0.349%2C%200.686%2C%200.168))%2C%0A%20%20%20%20dot(finalColor%2C%20vec3(0.272%2C%200.534%2C%200.131))%0A%20%20)%3B%0A%20%20finalColor%20%3D%20mix(finalColor%2C%20sepiaColor%2C%20u_sepiaSP)%3B%0A%7D%0Aif%20(u_bloomSP%20%3E%200.0)%20%7B%0A%20%20vec3%20bloom%20%3D%20max(finalColor%20-%200.4%2C%200.0)%3B%0A%0A%20%20bloom%20%2B%3D%20texture2D(u_skin%2C%20v_texCoord%20%2B%20vec2(%200.001%2C%20%200.001)).rgb%3B%0A%20%20bloom%20%2B%3D%20texture2D(u_skin%2C%20v_texCoord%20%2B%20vec2(-0.001%2C%20%200.001)).rgb%3B%0A%20%20bloom%20%2B%3D%20texture2D(u_skin%2C%20v_texCoord%20%2B%20vec2(%200.001%2C%20-0.001)).rgb%3B%0A%20%20bloom%20%2B%3D%20texture2D(u_skin%2C%20v_texCoord%20%2B%20vec2(-0.001%2C%20-0.001)).rgb%3B%0A%20%20bloom%20*%3D%200.25%3B%0A%0A%20%20finalColor%20%2B%3D%20bloom%20*%20u_bloomSP%3B%0A%20%20finalColor%20%3D%20clamp(finalColor%2C%200.0%2C%201.0)%3B%0A%7D%0A%0Agl_FragColor.rgb%20%3D%20finalColor%20*%20u_tintColorSP.rgb%3B%0Afloat%20baseAlpha%20%3D%20finalAlpha%3B%0Aif%20(baseAlpha%20%3E%200.0%20%26%26%20baseAlpha%20%3C%201.0)%20baseAlpha%20%3D%20mix(baseAlpha%2C%201.0%2C%20u_opaqueSP)%3B%0Agl_FragColor.a%20%3D%20baseAlpha%3B%60%0A%20%20%20%20%20%20).replaceAll(%0A%20%20%20%20%20%20%20%20%2F%2F%20The%20unpremultiply%20code%20will%20now%20always%20run%20due%20to%20palette%20replacement%20stuff.%0A%20%20%20%20%20%20%20%20%2F%2F%20This%20is%20a%20bit%20more%20inefficient%2C%20but%20whatever.%0A%20%20%20%20%20%20%20%20%22%23if%20defined(ENABLE_color)%20%7C%7C%20defined(ENABLE_brightness)%22%2C%0A%20%20%20%20%20%20%20%20%2F%2F%20i%20have%20no%20idea%20how%20webgl%20works%2C%20and%20i%20don%22t%20want%20to%20have%20to%20remove%20the%20%23endif%20somehow%0A%20%20%20%20%20%20%20%20%2F%2F%20just%20do%20something%20that%20will%20always%20be%20true%20-CST%0A%20%20%20%20%20%20%20%20%22%23if%20defined(MAX_REPLACERS)%22%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20ogCreateProgramInfo.apply(this%2C%20args)%3B%0A%20%20%7D%3B%0A%20%20const%20ogBuildShader%20%3D%20render._shaderManager._buildShader%3B%0A%20%20render._shaderManager._buildShader%20%3D%20function%20(...args)%20%7B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20patchShaders%20%3D%20true%3B%0A%20%20%20%20%20%20return%20ogBuildShader.apply(this%2C%20args)%3B%0A%20%20%20%20%7D%20finally%20%7B%0A%20%20%20%20%20%20patchShaders%20%3D%20false%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20const%20ogGetUniforms%20%3D%20render.exports.Drawable.prototype.getUniforms%3B%0A%20%20render.exports.Drawable.prototype.getUniforms%20%3D%20function()%20%7B%0A%20%20%20%20const%20gl%20%3D%20render.gl%3B%0A%20%20%20%20const%20uniforms%20%3D%20ogGetUniforms.call(this)%3B%0A%20%20%20%20if%20(!currentShader)%20return%20uniforms%3B%0A%0A%20%20%20%20initDrawable(this)%3B%0A%20%20%20%20const%20effectData%20%3D%20this%5BdrawableKey%5D%3B%0A%20%20%20%20const%20replacers%20%3D%20effectData.replacers%3B%0A%20%0A%20%20%20%20const%20replaceFrom%20%3D%20new%20Float32Array(MAX_REPLACERS%20*%203).fill(0)%3B%0A%20%20%20%20const%20replaceTo%20%3D%20new%20Float32Array(MAX_REPLACERS%20*%204).fill(0)%3B%0A%20%20%20%20const%20replaceThresh%20%3D%20new%20Float32Array(MAX_REPLACERS).fill(1)%3B%0A%20%20%20%20if%20(replacers.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20Math.min(replacers.length%2C%20MAX_REPLACERS)%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20replaceFrom.set(replacers%5Bi%5D.targetVert%2C%20i%20*%203)%3B%0A%20%20%20%20%20%20%20%20replaceTo.set(replacers%5Bi%5D.replaceVert%2C%20i%20*%204)%3B%0A%20%20%20%20%20%20%20%20replaceThresh%5Bi%5D%20%3D%20replacers%5Bi%5D.soft%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(effectData.shouldMask)%20%7B%0A%20%20%20%20%20%20gl.activeTexture(gl.TEXTURE30)%3B%0A%20%20%20%20%20%20gl.bindTexture(gl.TEXTURE_2D%2C%20effectData._maskTexture)%3B%0A%20%20%20%20%20%20gl.uniform1i(currentShader.uniformSetters%5B%22u_maskTextureSP%22%5D%2C%2030)%3B%0A%20%20%20%20%20%20gl.activeTexture(gl.TEXTURE0)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20newUniformSetters%20%3D%20%7B%0A%20%20%20%20%20%20u_replaceColorFromSP%3A%20%7B%20method%3A%20%22uniform3fv%22%2C%20value%3A%20replaceFrom%20%7D%2C%0A%20%20%20%20%20%20u_replaceColorToSP%3A%20%7B%20method%3A%20%22uniform4fv%22%2C%20value%3A%20replaceTo%20%7D%2C%0A%20%20%20%20%20%20u_replaceThresholdSP%3A%20%7B%20method%3A%20%22uniform1fv%22%2C%20value%3A%20replaceThresh%20%7D%2C%0A%20%20%20%20%20%20u_numReplacersSP%3A%20%7B%20method%3A%20%22uniform1i%22%2C%20value%3A%20replacers%20%3F%20Math.min(replacers.length%2C%20MAX_REPLACERS)%20%3A%200%20%7D%2C%0A%20%20%20%20%20%20u_tintColorSP%3A%20%7B%20method%3A%20%22uniform4fv%22%2C%20value%3A%20effectData.tint%20%7D%2C%0A%20%20%20%20%20%20u_warpSP%3A%20%7B%20method%3A%20%22uniform2fv%22%2C%20value%3A%20effectData.warp%20%7D%2C%0A%20%20%20%20%20%20u_shouldMaskSP%3A%20%7B%20method%3A%20%22uniform1f%22%2C%20value%3A%20effectData.shouldMask%20%7D%2C%0A%20%20%20%20%20%20u_saturateSP%3A%20%7B%20method%3A%20%22uniform1f%22%2C%20value%3A%20effectData.newEffects.saturation%20%7D%2C%0A%20%20%20%20%20%20u_opaqueSP%3A%20%7B%20method%3A%20%22uniform1f%22%2C%20value%3A%20effectData.newEffects.opaque%20%7D%2C%0A%20%20%20%20%20%20u_contrastSP%3A%20%7B%20method%3A%20%22uniform1f%22%2C%20value%3A%20effectData.newEffects.contrast%20%7D%2C%0A%20%20%20%20%20%20u_posterizeSP%3A%20%7B%20method%3A%20%22uniform1f%22%2C%20value%3A%20effectData.newEffects.posterize%20%7D%2C%0A%20%20%20%20%20%20u_sepiaSP%3A%20%7B%20method%3A%20%22uniform1f%22%2C%20value%3A%20effectData.newEffects.sepia%20%7D%2C%0A%20%20%20%20%20%20u_bloomSP%3A%20%7B%20method%3A%20%22uniform1f%22%2C%20value%3A%20effectData.newEffects.bloom%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Object.entries(newUniformSetters).forEach((%5Bkey%2C%20%7B%20method%2C%20value%20%7D%5D)%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20(currentShader.uniformSetters%5Bkey%5D)%20gl%5Bmethod%5D(currentShader.uniformSetters%5Bkey%5D%2C%20value)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20return%20uniforms%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20reset%20on%20stop%2Fstart%2Fclear%0A%20%20const%20ogClearEffects%20%3D%20vm.exports.RenderedTarget.prototype.clearEffects%3B%0A%20%20vm.exports.RenderedTarget.prototype.clearEffects%20%3D%20function()%20%7B%0A%20%20%20%20const%20drawable%20%3D%20render._allDrawables%5Bthis.drawableID%5D%3B%0A%20%20%20%20drawable%5BdrawableKey%5D%20%3D%20structuredClone(defaultNewEffects)%3B%0A%20%20%20%20ogClearEffects.call(this)%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2F%20manipulate%20bounds%20for%20warping%0A%20%20const%20radianConverter%20%3D%20Math.PI%20%2F%20180%3B%0A%20%20function%20rotatePoint(x%2C%20y%2C%20cx%2C%20cy%2C%20rads)%20%7B%0A%20%20%20%20const%20cos%20%3D%20Math.cos(rads)%2C%20sin%20%3D%20Math.sin(rads)%3B%0A%20%20%20%20const%20dx%20%3D%20x%20-%20cx%2C%20dy%20%3D%20y%20-%20cy%3B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20x%3A%20cx%20%2B%20dx%20*%20cos%20-%20dy%20*%20sin%2C%0A%20%20%20%20%20%20y%3A%20cy%20%2B%20dx%20*%20sin%20%2B%20dy%20*%20cos%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%20%20function%20warpBounds(drawable%2C%20bounds)%20%7B%0A%20%20%20%20if%20(!drawable%5BdrawableKey%5D)%20return%20bounds%3B%0A%0A%20%20%20%20let%20warpVals%20%3D%20drawable%5BdrawableKey%5D.warp%3B%0A%20%20%20%20if%20(warpVals.join(%22%2C%22)%20%3D%3D%3D%20defaultNewEffects.warp.join(%22%2C%22))%20return%20bounds%3B%0A%0A%20%20%20%20%2F%2F%20original%20getBounds%20already%20accounts%20for%20rotation%2C%20so%20we%20have%20to%20make%20our%20own%20system%0A%20%20%20%20%2F%2F%20for%20getting%20the%20non-rotated%20scale%20and%20position%0A%20%20%20%20warpVals%20%3D%20warpVals.map((v%2C%20i)%20%3D%3E%20i%20%3E%200%20%26%26%20i%20%3C%205%20%3F%20v%20*%20-1%20%3A%20v)%3B%0A%20%20%20%20const%20angle%20%3D%20(drawable._direction%20-%2090)%20*%20radianConverter%3B%0A%20%20%20%20const%20%5Bx%2C%20y%5D%20%3D%20drawable._position%3B%0A%20%20%20%20const%20width%20%3D%20drawable.skin.size%5B0%5D%20*%20(drawable.scale%5B0%5D%20%2F%20200)%3B%0A%20%20%20%20const%20height%20%3D%20drawable.skin.size%5B1%5D%20*%20(drawable.scale%5B1%5D%20%2F%20200)%3B%0A%0A%20%20%20%20const%20points%20%3D%20%5B%0A%20%20%20%20%20%20%7B%20x%3A%20(warpVals%5B0%5D%20*%202)%20*%20-width%20%2B%20x%2C%20y%3A%20(warpVals%5B1%5D%20*%20-2)%20*%20height%20-%20y%20%7D%2C%0A%20%20%20%20%20%20%7B%20x%3A%20(warpVals%5B2%5D%20*%202)%20*%20width%20%2B%20x%2C%20y%3A%20(warpVals%5B3%5D%20*%20-2)%20*%20height%20-%20y%20%7D%2C%0A%20%20%20%20%20%20%7B%20x%3A%20(warpVals%5B4%5D%20*%202)%20*%20width%20%2B%20x%2C%20y%3A%20(warpVals%5B5%5D%20*%20-2)%20*%20-height%20-%20y%20%7D%2C%0A%20%20%20%20%20%20%7B%20x%3A%20(warpVals%5B6%5D%20*%202)%20*%20-width%20%2B%20x%2C%20y%3A%20(warpVals%5B7%5D%20*%20-2)%20*%20-height%20-%20y%20%7D%0A%20%20%20%20%5D%3B%0A%0A%20%20%20%20const%20rotatedPoints%20%3D%20points.map(p%20%3D%3E%20rotatePoint(p.x%2C%20p.y%2C%20x%2C%20-y%2C%20angle))%3B%0A%20%20%20%20const%20xs%20%3D%20rotatedPoints.map(p%20%3D%3E%20p.x)%3B%0A%20%20%20%20const%20ys%20%3D%20rotatedPoints.map(p%20%3D%3E%20p.y)%3B%0A%0A%20%20%20%20bounds.left%20%3D%20Math.min(...xs)%3B%0A%20%20%20%20bounds.top%20%3D%20-Math.min(...ys)%3B%0A%20%20%20%20bounds.right%20%3D%20Math.max(...xs)%3B%0A%20%20%20%20bounds.bottom%20%3D%20-Math.max(...ys)%3B%0A%20%20%20%20return%20bounds%3B%0A%20%20%7D%0A%0A%20%20const%20ogGetBounds%20%3D%20render.exports.Drawable.prototype.getBounds%3B%0A%20%20render.exports.Drawable.prototype.getBounds%20%3D%20function()%20%7B%0A%20%20%20%20return%20warpBounds(this%2C%20ogGetBounds.call(this))%3B%0A%20%20%7D%3B%0A%20%20const%20ogGetAABB%20%3D%20render.exports.Drawable.prototype.getAABB%3B%0A%20%20render.exports.Drawable.prototype.getAABB%20%3D%20function()%20%7B%0A%20%20%20%20return%20warpBounds(this%2C%20ogGetAABB.call(this))%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2F%20update%20the%20pen%20shader%0A%20%20if%20(runtime.ext_pen%20%26%26%20runtime.ext_pen._penSkinId%20%3E%20-1)%20%7B%0A%20%20%20%20const%20penSkin%20%3D%20render._allSkins%5Bruntime.ext_pen._penSkinId%5D%3B%0A%20%20%20%20const%20gl%20%3D%20render.gl%3B%0A%20%20%20%20penSkin._lineShader%20%3D%20render._shaderManager.getShader(%22line%22%2C%200)%3B%0A%20%20%20%20penSkin._drawTextureShader%20%3D%20render._shaderManager.getShader(%22default%22%2C%200)%3B%0A%20%20%20%20penSkin.a_position_loc%20%3D%20gl.getAttribLocation(penSkin._lineShader.program%2C%20%22a_position%22)%3B%0A%20%20%20%20penSkin.a_lineColor_loc%20%3D%20gl.getAttribLocation(penSkin._lineShader.program%2C%20%22a_lineColor%22)%3B%0A%20%20%20%20penSkin.a_lineThicknessAndLength_loc%20%3D%20gl.getAttribLocation(penSkin._lineShader.program%2C%20%22a_lineThicknessAndLength%22)%3B%0A%20%20%20%20penSkin.a_penPoints_loc%20%3D%20gl.getAttribLocation(penSkin._lineShader.program%2C%20%22a_penPoints%22)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20this%20will%20allow%20clones%20to%20inherit%20parent%20effects%0A%20%20const%20ogInitDrawable%20%3D%20vm.exports.RenderedTarget.prototype.initDrawable%3B%0A%20%20vm.exports.RenderedTarget.prototype.initDrawable%20%3D%20function(layerGroup)%20%7B%0A%20%20%20%20ogInitDrawable.call(this%2C%20layerGroup)%3B%0A%20%20%20%20if%20(this.isOriginal)%20return%3B%0A%20%0A%20%20%20%20const%20parentSprite%20%3D%20this.sprite.clones%5B0%5D%3B%20%2F%2F%20clone%5B0%5D%20is%20always%20the%20original%0A%20%20%20%20const%20parentDrawable%20%3D%20render._allDrawables%5BparentSprite.drawableID%5D%3B%0A%20%20%20%20if%20(!parentDrawable%5BdrawableKey%5D)%20return%3B%0A%0A%20%20%20%20const%20drawable%20%3D%20render._allDrawables%5Bthis.drawableID%5D%3B%0A%20%20%20%20drawable%5BdrawableKey%5D%20%3D%20structuredClone(parentDrawable%5BdrawableKey%5D)%3B%0A%20%20%7D%3B%0A%0A%20%20%2F*%20patch%20for%20%22when%20costume%20switches%22%20event%20*%2F%0A%20%20const%20ogSetCoreCostume%20%3D%20looksCore.constructor.prototype._setCostume%3B%0A%20%20ogSetCoreCostume.constructor.prototype._setCostume%20%3D%20function%20(target%2C%20requestedCostume%2C%20optZeroIndex)%20%7B%0A%20%20%20%20ogSetCoreCostume.call(this%2C%20target%2C%20requestedCostume%2C%20optZeroIndex)%3B%0A%20%20%20%20runtime.startHats(%0A%20%20%20%20%20%20%22SPlooksExpanded_whenCostumeSwitch%22%2C%0A%20%20%20%20%20%20%7B%20COSTUME%3A%20target.getCurrentCostume()%3F.name%20%7C%7C%20%22%22%20%7D%0A%20%20%20%20)%3B%0A%20%20%7D%3B%0A%20%20const%20ogSetSpriteCostume%20%3D%20vm.exports.RenderedTarget.prototype.setCostume%3B%0A%20%20vm.exports.RenderedTarget.prototype.setCostume%20%3D%20function%20(index)%20%7B%0A%20%20%20%20ogSetSpriteCostume.call(this%2C%20index)%3B%0A%20%20%20%20runtime.startHats(%0A%20%20%20%20%20%20%22SPlooksExpanded_whenCostumeSwitch%22%2C%0A%20%20%20%20%20%20%7B%20COSTUME%3A%20this.getCurrentCostume()%3F.name%20%7C%7C%20%22%22%20%7D%0A%20%20%20%20)%3B%0A%20%20%7D%3B%0A%0A%20%20class%20SPlooksExpanded%20%7B%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20%22SPlooksExpanded%22%2C%0A%20%20%20%20%20%20%20%20name%3A%20Scratch.translate(%22Looks%20Expanded%22)%2C%0A%20%20%20%20%20%20%20%20color1%3A%20%22%239966FF%22%2C%0A%20%20%20%20%20%20%20%20color2%3A%20%22%23855CD6%22%2C%0A%20%20%20%20%20%20%20%20color3%3A%20%22%23774DCB%22%2C%0A%20%20%20%20%20%20%20%20menuIconURI%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getSpeech%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22speech%20from%20%5BTARGET%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22costumeCnt%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%23%20of%20costumes%20in%20%5BTARGET%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22costumeInfo%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BINFO%5D%20of%20costume%20%23%20%5BNUM%5D%20in%20%5BTARGET%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INFO%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22COSTUME_DATA%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NUM%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%201%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setTargetCostume%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22switch%20costume%20of%20%5BTARGET%5D%20to%20%5BVALUE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22...%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22whenCostumeSwitch%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.EVENT%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_event%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22when%20costume%20switches%20to%20%5BCOSTUME%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COSTUME%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22COSTUMES%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setSpriteEffect%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20%5BEFFECT%5D%20of%20%5BTARGET%5D%20to%20%5BVALUE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20EFFECT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22EFFECT_MENU%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%200%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22effectValue%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BEFFECT%5D%20effect%20of%20%5BTARGET%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20EFFECT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22EFFECT_MENU%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22tintSprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20tint%20of%20%5BTARGET%5D%20to%20%5BCOLOR%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COLOR%3A%20%7B%20type%3A%20Scratch.ArgumentType.COLOR%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22replaceColor%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22replace%20%5BCOLOR1%5D%20with%20%5BCOLOR2%5D%20in%20%5BTARGET%5D%20softness%20%5BVALUE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COLOR1%3A%20%7B%20type%3A%20Scratch.ArgumentType.COLOR%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COLOR2%3A%20%7B%20type%3A%20Scratch.ArgumentType.COLOR%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2010%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22resetColor%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22reset%20%5BCOLOR1%5D%20replacer%20in%20%5BTARGET%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COLOR1%3A%20%7B%20type%3A%20Scratch.ArgumentType.COLOR%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22resetReplacers%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22reset%20color%20replacers%20in%20%5BTARGET%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.XML%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20xml%3A%20%60%3Csep%20gap%3D%2224%22%2F%3E%3Clabel%20text%3D%22%24%7BScratch.translate(%22Warping%20and%20Masking%20does%20NOT%22)%7D%22%2F%3E%3Csep%20gap%3D%220%22%2F%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.XML%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20xml%3A%20%60%3Csep%20gap%3D%22-12%22%2F%3E%3Clabel%20text%3D%22%20%24%7BScratch.translate(%22affect%20Touching%20Blocks%22)%7D%22%2F%3E%3Csep%20gap%3D%226%22%2F%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22warpSprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22warp%20%5BTARGET%5D%20to%20x1%3A%20%5Bx1%5D%20y1%3A%20%5By1%5D%20x2%3A%20%5Bx2%5D%20y2%3A%20%5By2%5D%20x3%3A%20%5Bx3%5D%20y3%3A%20%5By3%5D%20x4%3A%20%5Bx4%5D%20y4%3A%20%5By4%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x1%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20-100%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20y1%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x2%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20y2%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x3%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20-100%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20y3%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20-100%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x4%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20y4%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20-100%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22maskSprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22mask%20%5BTARGET%5D%20with%20image%20%5BIMAGE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20IMAGE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22https%3A%2F%2Fextensions.turbowarp.org%2Fdango.png%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22showSprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22show%20%5BTARGET%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22hideSprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22hide%20%5BTARGET%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22spriteShowing%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BTARGET%5D%20%5BTYPE%5D%20%3F%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22DISPLAY_TYPES%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22spriteProperty%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BPROP%5D%20of%20%5BTARGET%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20PROP%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22SPRITE_PROPS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TARGETS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20COSTUMES%3A%20%7B%20acceptReporters%3A%20false%2C%20items%3A%20%22getCostumes%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20TARGETS%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20%22getTargets%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20EFFECT_MENU%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20%22getEffects%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20DISPLAY_TYPES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22showing%22)%2C%20value%3A%20%22showing%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22visible%22)%2C%20value%3A%20%22visible%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20COSTUME_DATA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22name%22)%2C%20value%3A%20%22name%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22type%22)%2C%20value%3A%20%22type%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22width%22)%2C%20value%3A%20%22width%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22height%22)%2C%20value%3A%20%22height%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22rotation%20center%20x%22)%2C%20value%3A%20%22rotation%20center%20x%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22rotation%20center%20y%22)%2C%20value%3A%20%22rotation%20center%20y%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22content%22)%2C%20value%3A%20%22content%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22data.uri%22)%2C%20value%3A%20%22data.uri%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20SPRITE_PROPS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22width%22)%2C%20value%3A%20%22width%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22height%22)%2C%20value%3A%20%22height%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22layer%20%23%22)%2C%20value%3A%20%22layer%20%23%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Helper%20Funcs%0A%20%20%20%20getTargets()%20%7B%0A%20%20%20%20%20%20const%20spriteNames%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22myself%22)%2C%20value%3A%20%22_myself_%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22Stage%22)%2C%20value%3A%20%22_stage_%22%20%7D%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20const%20targets%20%3D%20runtime.targets%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%201%3B%20i%20%3C%20targets.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20const%20target%20%3D%20targets%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20if%20(target.isOriginal)%20spriteNames.push(%7B%20text%3A%20target.getName()%2C%20value%3A%20target.getName()%20%7D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20spriteNames.length%20%3E%200%20%3F%20spriteNames%20%3A%20%5B%22%22%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getCostumes()%20%7B%0A%20%20%20%20%20%20let%20costumeNames%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20if%20(vm.editingTarget)%20costumeNames%20%3D%20vm.editingTarget.getCostumes().map((e)%20%3D%3E%20%7B%20return%20e.name%20%7D)%3B%0A%20%20%20%20%20%20return%20costumeNames.length%20%3E%200%20%3F%20costumeNames%20%3A%20%5B%22%22%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getEffects()%20%7B%0A%20%20%20%20%20%20const%20effects%20%3D%20Object.keys(vm.editingTarget%3F.effects%20%7C%7C%20%7B%7D)%3B%0A%20%20%20%20%20%20if%20(!isPM)%20effects.push(%22saturation%22%2C%20%22opaque%22)%3B%0A%20%20%20%20%20%20effects.push(%22contrast%22%2C%20%22posterize%22%2C%20%22sepia%22%2C%20%22bloom%22)%3B%0A%20%20%20%20%20%20effects.map((effect)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20return%20%7B%20text%3A%20Scratch.translate(effect)%2C%20value%3A%20effect%20%7D%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20return%20effects.length%20%3E%200%20%3F%20effects%20%3A%20%5B%22%22%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getTarget(name%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(name%20%3D%3D%3D%20%22_myself_%22)%20return%20util.target%3B%0A%20%20%20%20%20%20if%20(name%20%3D%3D%3D%20%22_stage_%22)%20return%20runtime.getTargetForStage()%3B%0A%20%20%20%20%20%20return%20runtime.getSpriteTargetByName(name)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20exportCostume(costume%2C%20keepBase64)%20%7B%0A%20%20%20%20%20%20const%20asset%20%3D%20costume.asset%3B%0A%20%20%20%20%20%20if%20(runtime.isPackaged)%20%7B%0A%20%20%20%20%20%20%20%20const%20skin%20%3D%20render._allSkins%5Bcostume.skinId%5D%3B%0A%20%20%20%20%20%20%20%20let%20type%20%3D%20costume.dataFormat%3B%0A%20%20%20%20%20%20%20%20if%20(type%20%3D%3D%3D%20%22svg%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20svgText%20%3D%20decodeURIComponent(skin._svgImage.src.split(%22%2C%22)%5B1%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(keepBase64)%20return%20%60data%3Aimage%2Fsvg%2Bxml%3Bbase64%2C%24%7Bbtoa(svgText)%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20else%20return%20svgText%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20always%20return%20base%2064%2C%20theres%20literally%20no%20point%0A%20%20%20%20%20%20%20%20%20%20const%20gl%20%3D%20render.gl%3B%0A%20%20%20%20%20%20%20%20%20%20const%20width%20%3D%20skin.size%5B0%5D%20*%202%3B%0A%20%20%20%20%20%20%20%20%20%20const%20height%20%3D%20skin.size%5B1%5D%20*%202%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20fbo%20%3D%20twgl.createFramebufferInfo(%0A%20%20%20%20%20%20%20%20%20%20%20%20gl%2C%20%5B%7B%20attachment%3A%20skin._texture%20%7D%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20width%2C%20height%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20twgl.bindFramebufferInfo(gl%2C%20fbo)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20pixels%20%3D%20new%20Uint8Array(width%20*%20height%20*%204)%3B%0A%20%20%20%20%20%20%20%20%20%20gl.readPixels(0%2C%200%2C%20width%2C%20height%2C%20gl.RGBA%2C%20gl.UNSIGNED_BYTE%2C%20pixels)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20canvas%20%3D%20document.createElement(%22canvas%22)%3B%0A%20%20%20%20%20%20%20%20%20%20canvas.width%20%3D%20width%3B%20canvas.height%20%3D%20height%3B%0A%20%20%20%20%20%20%20%20%20%20const%20ctx%20%3D%20canvas.getContext(%222d%22)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20imageData%20%3D%20ctx.createImageData(width%2C%20height)%3B%0A%20%20%20%20%20%20%20%20%20%20imageData.data.set(pixels)%3B%0A%20%20%20%20%20%20%20%20%20%20ctx.putImageData(imageData%2C%200%2C%200)%3B%0A%20%20%20%20%20%20%20%20%20%20return%20canvas.toDataURL(%22image%2Fpng%22)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(keepBase64)%20return%20asset.encodeDataURI()%3B%0A%20%20%20%20%20%20%20%20else%20return%20asset.decodeText()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20hex2Vec4(hex)%20%7B%0A%20%20%20%20%20%20hex%20%3D%20hex.startsWith(%22%23%22)%20%3F%20hex.slice(1)%20%3A%20hex%3B%0A%20%20%20%20%20%20let%20a%20%3D%20255%3B%0A%20%20%20%20%20%20if%20(hex.length%20%3D%3D%3D%208)%20a%20%3D%20parseInt(hex.slice(6%2C%208)%2C%2016)%3B%0A%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20parseInt(hex.slice(0%2C%202)%2C%2016)%20%2F%20255%2C%0A%20%20%20%20%20%20%20%20parseInt(hex.slice(2%2C%204)%2C%2016)%20%2F%20255%2C%0A%20%20%20%20%20%20%20%20parseInt(hex.slice(4%2C%206)%2C%2016)%20%2F%20255%2C%0A%20%20%20%20%20%20%20%20a%20%2F%20255%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20arrayMatches(arr1%2C%20arr2)%20%7B%0A%20%20%20%20%20%20return%20arr1.every((val%2C%20i)%20%3D%3E%20val%20%3D%3D%3D%20arr2%5Bi%5D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Block%20Funcs%0A%20%20%20%20getSpeech(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getTarget(args.TARGET%2C%20util)%3B%0A%20%20%20%20%20%20if%20(!target)%20return%20%22%22%3B%0A%20%20%20%20%20%20return%20target._customState%5B%22Scratch.looks%22%5D%3F.text%20%7C%7C%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20costumeCnt(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getTarget(args.TARGET%2C%20util)%3B%0A%20%20%20%20%20%20if%20(!target)%20return%200%3B%0A%20%20%20%20%20%20return%20target.sprite.costumes.length%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20costumeInfo(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getTarget(args.TARGET%2C%20util)%3B%0A%20%20%20%20%20%20if%20(!target)%20return%20%22%22%3B%0A%0A%20%20%20%20%20%20const%20costumes%20%3D%20target.getCostumes()%3B%0A%20%20%20%20%20%20const%20index%20%3D%20Cast.toNumber(args.NUM)%20-%201%3B%0A%20%20%20%20%20%20const%20costume%20%3D%20costumes%5Bindex%5D%3B%0A%20%20%20%20%20%20if%20(!costume)%20return%20%22%22%3B%0A%0A%20%20%20%20%20%20switch%20(args.INFO)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22name%22%3A%20return%20costume.name%3B%0A%20%20%20%20%20%20%20%20case%20%22width%22%3A%20return%20costume.size%5B0%5D%3B%0A%20%20%20%20%20%20%20%20case%20%22height%22%3A%20return%20costume.size%5B1%5D%3B%0A%20%20%20%20%20%20%20%20case%20%22type%22%3A%20return%20costume.dataFormat%3B%0A%20%20%20%20%20%20%20%20case%20%22rotation%20center%20x%22%3A%20return%20costume.rotationCenterX%3B%0A%20%20%20%20%20%20%20%20case%20%22rotation%20center%20y%22%3A%20return%20costume.rotationCenterY%3B%0A%20%20%20%20%20%20%20%20case%20%22content%22%3A%20return%20this.exportCostume(costume%2C%20false)%3B%0A%20%20%20%20%20%20%20%20case%20%22data.uri%22%3A%20return%20this.exportCostume(costume%2C%20true)%3B%0A%20%20%20%20%20%20%20%20default%3A%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setTargetCostume(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getTarget(args.TARGET%2C%20util)%3B%0A%20%20%20%20%20%20if%20(target)%20%7B%0A%20%20%20%20%20%20%20%20if%20(target.isStage)%20runtime.ext_scratch3_looks._setBackdrop(target%2C%20args.VALUE)%3B%0A%20%20%20%20%20%20%20%20else%20runtime.ext_scratch3_looks._setCostume(target%2C%20args.VALUE)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setSpriteEffect(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getTarget(args.TARGET%2C%20util)%3B%0A%20%20%20%20%20%20if%20(target)%20%7B%0A%20%20%20%20%20%20%20%20const%20name%20%3D%20Cast.toString(args.EFFECT)%3B%0A%20%20%20%20%20%20%20%20let%20value%20%3D%20Cast.toNumber(args.VALUE)%3B%0A%20%20%20%20%20%20%20%20if%20(name%20!%3D%3D%20%22posterize%22)%20value%20%2F%3D%20100%3B%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20name%20%3D%3D%3D%20%22contrast%22%20%7C%7C%20name%20%3D%3D%3D%20%22posterize%22%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20name%20%3D%3D%3D%20%22sepia%22%20%7C%7C%20name%20%3D%3D%3D%20%22bloom%22%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20(!isPM%20%26%26%20(name%20%3D%3D%3D%20%22saturation%22%20%7C%7C%20name%20%3D%3D%3D%20%22opaque%22))%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20drawable%20%3D%20render._allDrawables%5Btarget.drawableID%5D%3B%0A%20%20%20%20%20%20%20%20%20%20initDrawable(drawable)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20oldValue%20%3D%20drawable%5BdrawableKey%5D.newEffects%5Bname%5D%3B%0A%20%20%20%20%20%20%20%20%20%20drawable%5BdrawableKey%5D.newEffects%5Bname%5D%20%3D%20value%0A%20%20%20%20%20%20%20%20%20%20if%20(oldValue%20!%3D%3D%20value)%20render.dirty%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20target.setEffect(name%2C%20value)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20effectValue(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getTarget(args.TARGET%2C%20util)%3B%0A%20%20%20%20%20%20if%20(!target)%20return%200%3B%0A%0A%20%20%20%20%20%20const%20effects%20%3D%20target.effects%3B%0A%20%20%20%20%20%20const%20name%20%3D%20Cast.toString(args.EFFECT)%3B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20name%20%3D%3D%3D%20%22contrast%22%20%7C%7C%20name%20%3D%3D%3D%20%22posterize%22%20%7C%7C%0A%20%20%20%20%20%20%20%20name%20%3D%3D%3D%20%22sepia%22%20%7C%7C%20name%20%3D%3D%3D%20%22bloom%22%20%7C%7C%0A%20%20%20%20%20%20%20%20(!isPM%20%26%26%20(name%20%3D%3D%3D%20%22saturation%22%20%7C%7C%20name%20%3D%3D%3D%20%22opaque%22))%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20const%20drawable%20%3D%20render._allDrawables%5Btarget.drawableID%5D%3B%0A%20%20%20%20%20%20%20%20initDrawable(drawable)%3B%0A%20%20%20%20%20%20%20%20const%20value%20%3D%20drawable%5BdrawableKey%5D.newEffects%5Bname%5D%3B%0A%20%20%20%20%20%20%20%20return%20name%20%3D%3D%3D%20%22posterize%22%20%3F%20value%20%3A%20value%20*%20100%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(Object.prototype.hasOwnProperty.call(effects%2C%20name))%20return%20effects%5Bname%5D%3B%0A%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20tintSprite(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getTarget(args.TARGET%2C%20util)%3B%0A%20%20%20%20%20%20if%20(!target)%20return%3B%0A%0A%20%20%20%20%20%20const%20drawable%20%3D%20render._allDrawables%5Btarget.drawableID%5D%3B%0A%20%20%20%20%20%20initDrawable(drawable)%3B%0A%20%20%20%20%20%20const%20oldTint%20%3D%20drawable%5BdrawableKey%5D.tint%3B%0A%20%20%20%20%20%20drawable%5BdrawableKey%5D.tint%20%3D%20this.hex2Vec4(args.COLOR)%3B%0A%20%20%20%20%20%20if%20(!this.arrayMatches(oldTint%2C%20drawable%5BdrawableKey%5D.tint))%20render.dirty%20%3D%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20replaceColor(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getTarget(args.TARGET%2C%20util)%3B%0A%20%20%20%20%20%20if%20(!target)%20return%3B%0A%0A%20%20%20%20%20%20this.resetColor(args%2C%20util)%3B%0A%20%20%20%20%20%20const%20drawable%20%3D%20render._allDrawables%5Btarget.drawableID%5D%3B%0A%20%20%20%20%20%20initDrawable(drawable)%3B%0A%20%20%20%20%20%20drawable%5BdrawableKey%5D.replacers.push(%7B%0A%20%20%20%20%20%20%20%20targetHex%3A%20args.COLOR1%2C%0A%20%20%20%20%20%20%20%20targetVert%3A%20this.hex2Vec4(args.COLOR1)%2C%0A%20%20%20%20%20%20%20%20replaceVert%3A%20this.hex2Vec4(args.COLOR2)%2C%0A%20%20%20%20%20%20%20%20soft%3A%20Math.max(Cast.toNumber(args.VALUE)%2C%201)%20%2F%20100%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20render.dirty%20%3D%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20resetColor(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getTarget(args.TARGET%2C%20util)%3B%0A%20%20%20%20%20%20if%20(!target)%20return%3B%0A%0A%20%20%20%20%20%20const%20drawable%20%3D%20render._allDrawables%5Btarget.drawableID%5D%3B%0A%20%20%20%20%20%20initDrawable(drawable)%3B%0A%20%20%20%20%20%20const%20index%20%3D%20drawable%5BdrawableKey%5D.replacers.findIndex((i)%20%3D%3E%20%7B%20return%20i.targetHex%20%3D%3D%3D%20args.COLOR1%20%7D)%3B%0A%20%20%20%20%20%20if%20(index%20%3E%20-1)%20drawable%5BdrawableKey%5D.replacers.splice(index%2C%201)%3B%0A%20%20%20%20%20%20render.dirty%20%3D%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20resetReplacers(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getTarget(args.TARGET%2C%20util)%3B%0A%20%20%20%20%20%20if%20(!target)%20return%3B%0A%0A%20%20%20%20%20%20const%20drawable%20%3D%20render._allDrawables%5Btarget.drawableID%5D%3B%0A%20%20%20%20%20%20initDrawable(drawable)%3B%0A%20%20%20%20%20%20if%20(drawable%5BdrawableKey%5D.replacers.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20drawable%5BdrawableKey%5D.replacers%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20render.dirty%20%3D%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20warpSprite(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getTarget(args.TARGET%2C%20util)%3B%0A%20%20%20%20%20%20if%20(!target)%20return%3B%0A%0A%20%20%20%20%20%20const%20drawable%20%3D%20render._allDrawables%5Btarget.drawableID%5D%3B%0A%20%20%20%20%20%20initDrawable(drawable)%3B%0A%20%20%20%20%20%20const%20oldWarp%20%3D%20drawable%5BdrawableKey%5D.warp%3B%0A%20%20%20%20%20%20drawable%5BdrawableKey%5D.warp%20%3D%20%5B%0A%20%20%20%20%20%20%20%20Cast.toNumber(args.x1)%20%2F%20-200%2C%20Cast.toNumber(args.y1)%20%2F%20-200%2C%0A%20%20%20%20%20%20%20%20Cast.toNumber(args.x2)%20%2F%20-200%2C%20Cast.toNumber(args.y2)%20%2F%20-200%2C%0A%20%20%20%20%20%20%20%20Cast.toNumber(args.x4)%20%2F%20-200%2C%20Cast.toNumber(args.y4)%20%2F%20-200%2C%0A%20%20%20%20%20%20%20%20Cast.toNumber(args.x3)%20%2F%20-200%2C%20Cast.toNumber(args.y3)%20%2F%20-200%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20if%20(!this.arrayMatches(oldWarp%2C%20drawable%5BdrawableKey%5D.warp))%20render.dirty%20%3D%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20maskSprite(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getTarget(args.TARGET%2C%20util)%3B%0A%20%20%20%20%20%20if%20(!target)%20return%3B%0A%0A%20%20%20%20%20%20const%20drawable%20%3D%20render._allDrawables%5Btarget.drawableID%5D%3B%0A%20%20%20%20%20%20initDrawable(drawable)%3B%0A%0A%20%20%20%20%20%20const%20url%20%3D%20Cast.toString(args.IMAGE)%3B%0A%20%20%20%20%20%20if%20(drawable%5BdrawableKey%5D.oldMask%20%3D%3D%3D%20url)%20return%3B%0A%20%20%20%20%20%20if%20(!url%20%7C%7C%20!(url.startsWith(%22data%3Aimage%2F%22)%20%7C%7C%20url.startsWith(%22https%3A%2F%2F%22)))%20%7B%0A%20%20%20%20%20%20%20%20drawable%5BdrawableKey%5D.maskTexture%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20drawable%5BdrawableKey%5D.oldMask%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20drawable%5BdrawableKey%5D.shouldMask%20%3D%200%3B%0A%20%20%20%20%20%20%20%20render.dirty%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20new%20Promise((resolve)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20gl%20%3D%20render._gl%3B%0A%20%20%20%20%20%20%20%20if%20(!drawable%5BdrawableKey%5D._maskTexture)%20%7B%0A%20%20%20%20%20%20%20%20%20%20drawable%5BdrawableKey%5D._maskTexture%20%3D%20gl.createTexture()%3B%0A%20%20%20%20%20%20%20%20%20%20gl.bindTexture(gl.TEXTURE_2D%2C%20drawable%5BdrawableKey%5D._maskTexture)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20gl.texParameteri(gl.TEXTURE_2D%2C%20gl.TEXTURE_MIN_FILTER%2C%20gl.NEAREST)%3B%0A%20%20%20%20%20%20%20%20%20%20gl.texParameteri(gl.TEXTURE_2D%2C%20gl.TEXTURE_MAG_FILTER%2C%20gl.NEAREST)%3B%0A%20%20%20%20%20%20%20%20%20%20gl.texParameteri(gl.TEXTURE_2D%2C%20gl.TEXTURE_WRAP_S%2C%20gl.CLAMP_TO_EDGE)%3B%0A%20%20%20%20%20%20%20%20%20%20gl.texParameteri(gl.TEXTURE_2D%2C%20gl.TEXTURE_WRAP_T%2C%20gl.CLAMP_TO_EDGE)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20eslint-disable-next-line%0A%20%20%20%20%20%20%20%20const%20image%20%3D%20new%20Image()%3B%0A%20%20%20%20%20%20%20%20image.crossOrigin%20%3D%20%22Anonymous%22%3B%0A%20%20%20%20%20%20%20%20image.onload%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20gl.bindTexture(gl.TEXTURE_2D%2C%20drawable%5BdrawableKey%5D._maskTexture)%3B%0A%20%20%20%20%20%20%20%20%20%20gl.texImage2D(gl.TEXTURE_2D%2C%200%2C%20gl.RGBA%2C%20gl.RGBA%2C%20gl.UNSIGNED_BYTE%2C%20image)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20drawable%5BdrawableKey%5D.maskTexture%20%3D%20drawable%5BdrawableKey%5D._maskTexture%3B%0A%20%20%20%20%20%20%20%20%20%20drawable%5BdrawableKey%5D.shouldMask%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20drawable%5BdrawableKey%5D.oldMask%20%3D%20url%3B%0A%20%20%20%20%20%20%20%20%20%20render.dirty%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20resolve()%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20image.onerror%20%3D%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20console.warn(e)%3B%0A%20%20%20%20%20%20%20%20%20%20resolve()%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20image.src%20%3D%20url%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20showSprite(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getTarget(args.TARGET%2C%20util)%3B%0A%20%20%20%20%20%20if%20(target)%20target.setVisible(true)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20hideSprite(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getTarget(args.TARGET%2C%20util)%3B%0A%20%20%20%20%20%20if%20(target)%20target.setVisible(false)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20spriteShowing(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getTarget(args.TARGET%2C%20util)%3B%0A%20%20%20%20%20%20if%20(!target%20%7C%7C%20!target.visible)%20return%20false%3B%0A%20%20%20%20%20%20if%20(args.TYPE%20%3D%3D%3D%20%22showing%22)%20return%20true%3B%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20check%20if%20sprite%20is%20visible%0A%20%20%20%20%20%20%20%20if%20(target.effects.ghost%20%3D%3D%3D%20100)%20return%20false%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20check%20if%20sprite%20is%20on-screen%0A%20%20%20%20%20%20%20%20const%20bounds%20%3D%20target.getBounds()%3B%0A%20%20%20%20%20%20%20%20if%20(bounds.left%20%3E%20runtime.stageWidth%20%2F%202%20%7C%7C%20bounds.right%20%3C%20runtime.stageWidth%20%2F%20-2)%20return%20false%3B%0A%20%20%20%20%20%20%20%20if%20(bounds.bottom%20%3E%20runtime.stageHeight%20%2F%202%20%7C%7C%20bounds.top%20%3C%20runtime.stageHeight%20%2F%20-2)%20return%20false%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20check%20if%20sprite%20is%20being%20covered%0A%20%20%20%20%20%20%20%20const%20layerInd%20%3D%20target.getLayerOrder()%20%2B%201%3B%0A%20%20%20%20%20%20%20%20const%20rangeIds%20%3D%20new%20Array(render._allDrawables.length%20-%20layerInd)%3B%0A%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20rangeIds.length%3B%20i%2B%2B)%20%7B%20rangeIds%5Bi%5D%20%3D%20layerInd%20%2B%20i%20%7D%0A%20%20%20%20%20%20%20%20return%20!render.isTouchingDrawables(target.drawableID%2C%20rangeIds)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20spriteProperty(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20this.getTarget(args.TARGET%2C%20util)%3B%0A%20%20%20%20%20%20switch%20(args.PROP)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22width%22%3A%20return%20target.getBounds().width%3B%0A%20%20%20%20%20%20%20%20case%20%22height%22%3A%20return%20target.getBounds().height%3B%0A%20%20%20%20%20%20%20%20case%20%22layer%20%23%22%3A%20return%20target.getLayerOrder()%3B%0A%20%20%20%20%20%20%20%20default%3A%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Scratch.extensions.register(new%20SPlooksExpanded())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B"]) {
        vm.extensionManager.loadExtensionURL(extension);
      }

      vm.runtime.isProjectPermissionManagerDisabled = true;
      
    } catch (e) {
      handleError(e);
    }
  </script>
  
  
    <script>
      const getProjectData = (function() {
        const storage = scaffolding.storage;
        storage.onprogress = (total, loaded) => {
          setProgress(interpolate(0.2, 0.98, loaded / total));
        };
        
        storage.addWebStore(
          [
            storage.AssetType.ImageVector,
            storage.AssetType.ImageBitmap,
            storage.AssetType.Sound,
            storage.AssetType.Font
          ].filter(i => i),
          (asset) => new URL('./assets/' + asset.assetId + '.' + asset.dataFormat, location).href
        );
        return () => new Promise((resolve, reject) => {
        const xhr = new XMLHttpRequest();
        xhr.onload = () => {
          resolve(xhr.response);
        };
        xhr.onerror = () => {
          if (location.protocol === 'file:') {
            reject(new Error('Zip environment must be used from a website, not from a file URL.'));
          } else {
            reject(new Error('Request to load project data failed.'));
          }
        };
        xhr.onprogress = (e) => {
          if (e.lengthComputable) {
            setProgress(interpolate(0.1, 0.2, e.loaded / e.total));
          }
        };
        xhr.responseType = 'arraybuffer';
        xhr.open('GET', "./assets/project.json");
        xhr.send();
      });
      })();
    </script>
  <script>
    const run = async () => {
      const projectData = await getProjectData();
      await scaffolding.loadProject(projectData);
      setProgress(1);
      loadingScreen.hidden = true;
      if (true) {
        scaffolding.start();
      } else {
        launchScreen.hidden = false;
        launchScreen.addEventListener('click', () => {
          launchScreen.hidden = true;
          scaffolding.start();
        });
        launchScreen.focus();
      }
    };
    run().catch(handleError);
  </script>
</body>
</html>
